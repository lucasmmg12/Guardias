{"version":3,"sources":["../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/ExcelDataTable.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/EstadisticasObraSocial.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/excel-reader.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/chart-column.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/user-x.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/clock.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useMemo, useCallback, useEffect } from 'react'\r\nimport { ExcelRow, ExcelData } from '@/lib/excel-reader'\r\nimport { InlineEditCell } from './InlineEditCell'\r\nimport { CheckCircle2, AlertCircle, Trash2, Clock, UserX } from 'lucide-react'\r\nimport { esParticular, tieneHorario, obtenerIndicesDuplicados, esResidenteHorarioFormativo } from '@/lib/utils'\r\nimport { supabase } from '@/lib/supabase/client'\r\nimport { Medico } from '@/lib/types'\r\n\r\ninterface ExcelDataTableProps {\r\n  data: ExcelData\r\n  especialidad?: 'Pediatría' | 'Ginecología'\r\n  onCellUpdate?: (rowIndex: number, column: string, newValue: any) => Promise<void>\r\n}\r\n\r\nexport function ExcelDataTable({ data, especialidad, onCellUpdate }: ExcelDataTableProps) {\r\n  const [rows, setRows] = useState<ExcelRow[]>(data.rows)\r\n  const [saving, setSaving] = useState<{ [key: string]: boolean }>({})\r\n  const [medicos, setMedicos] = useState<Medico[]>([])\r\n  const [medicosLoading, setMedicosLoading] = useState(false)\r\n\r\n  // Cargar médicos una sola vez cuando se monta el componente\r\n  useEffect(() => {\r\n    if (!especialidad) {\r\n      setMedicos([])\r\n      setMedicosLoading(false)\r\n      return\r\n    }\r\n\r\n    async function loadMedicos() {\r\n      try {\r\n        setMedicosLoading(true)\r\n        // Guardar especialidad en variable local para TypeScript\r\n        const especialidadValue = especialidad\r\n        if (!especialidadValue) return\r\n\r\n        const { data: medicosData, error } = await supabase\r\n          .from('medicos')\r\n          .select('*')\r\n          .eq('especialidad', especialidadValue)\r\n          .eq('activo', true)\r\n\r\n        if (error) throw error\r\n        setMedicos(medicosData || [])\r\n      } catch (error) {\r\n        console.error('Error loading médicos:', error)\r\n      } finally {\r\n        setMedicosLoading(false)\r\n      }\r\n    }\r\n\r\n    loadMedicos()\r\n  }, [especialidad])\r\n\r\n  // Crear mapa optimizado de médicos por nombre (búsqueda rápida)\r\n  const mapaMedicos = useMemo(() => {\r\n    const mapa = new Map<string, Medico>()\r\n    medicos.forEach(medico => {\r\n      // Normalizar nombre para búsqueda (sin acentos, minúsculas)\r\n      const nombreNormalizado = medico.nombre\r\n        .toLowerCase()\r\n        .normalize('NFD')\r\n        .replace(/[\\u0300-\\u036f]/g, '')\r\n        .trim()\r\n      mapa.set(nombreNormalizado, medico)\r\n      \r\n      // También agregar variaciones del nombre (solo apellido, etc.)\r\n      const partes = medico.nombre.split(',').map(p => p.trim())\r\n      if (partes.length > 0) {\r\n        const apellidoNormalizado = partes[0]\r\n          .toLowerCase()\r\n          .normalize('NFD')\r\n          .replace(/[\\u0300-\\u036f]/g, '')\r\n          .trim()\r\n        if (apellidoNormalizado && !mapa.has(apellidoNormalizado)) {\r\n          mapa.set(apellidoNormalizado, medico)\r\n        }\r\n      }\r\n    })\r\n    return mapa\r\n  }, [medicos])\r\n\r\n  // Función optimizada para buscar médico por nombre\r\n  const buscarMedico = useCallback((nombre: string | null | undefined): Medico | null => {\r\n    if (!nombre || typeof nombre !== 'string') return null\r\n    \r\n    const nombreNormalizado = nombre\r\n      .toLowerCase()\r\n      .normalize('NFD')\r\n      .replace(/[\\u0300-\\u036f]/g, '')\r\n      .trim()\r\n    \r\n    // Buscar coincidencia exacta\r\n    if (mapaMedicos.has(nombreNormalizado)) {\r\n      return mapaMedicos.get(nombreNormalizado) || null\r\n    }\r\n    \r\n    // Buscar coincidencia parcial (el nombre contiene el apellido del médico)\r\n    for (const [key, medico] of mapaMedicos.entries()) {\r\n      if (nombreNormalizado.includes(key) || key.includes(nombreNormalizado)) {\r\n        return medico\r\n      }\r\n    }\r\n    \r\n    return null\r\n  }, [mapaMedicos])\r\n\r\n  const handleCellSave = async (rowIndex: number, column: string, newValue: any) => {\r\n    const key = `${rowIndex}-${column}`\r\n    setSaving(prev => ({ ...prev, [key]: true }))\r\n\r\n    try {\r\n      // Actualizar el estado local\r\n      const updatedRows = [...rows]\r\n      updatedRows[rowIndex] = {\r\n        ...updatedRows[rowIndex],\r\n        [column]: newValue\r\n      }\r\n      setRows(updatedRows)\r\n\r\n      // Si hay un callback, llamarlo\r\n      if (onCellUpdate) {\r\n        await onCellUpdate(rowIndex, column, newValue)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error al guardar celda:', error)\r\n      // Revertir el cambio en caso de error\r\n      setRows(data.rows)\r\n      throw error\r\n    } finally {\r\n      setSaving(prev => ({ ...prev, [key]: false }))\r\n    }\r\n  }\r\n\r\n  const isEditable = (column: string): boolean => {\r\n    const columnLower = column.toLowerCase().trim()\r\n    return columnLower === 'cliente' || columnLower === 'responsable'\r\n  }\r\n\r\n  // Detectar filas con PARTICULARES (sin obra social)\r\n  const filasParticulares = useMemo(() => {\r\n    const indices: Set<number> = new Set()\r\n    const clienteIndex = data.headers.findIndex(h => h.toLowerCase().trim() === 'cliente')\r\n    \r\n    if (clienteIndex === -1) return indices\r\n    \r\n    rows.forEach((row, index) => {\r\n      const cliente = row[data.headers[clienteIndex]]\r\n      if (esParticular(cliente)) {\r\n        indices.add(index)\r\n      }\r\n    })\r\n    \r\n    return indices\r\n  }, [rows, data.headers])\r\n\r\n  // Detectar filas sin horario de inicio\r\n  const filasSinHorario = useMemo(() => {\r\n    const indices: Set<number> = new Set()\r\n    \r\n    rows.forEach((row, index) => {\r\n      if (!tieneHorario(row, data.headers)) {\r\n        indices.add(index)\r\n      }\r\n    })\r\n    \r\n    return indices\r\n  }, [rows, data.headers])\r\n\r\n  // Detectar filas duplicadas\r\n  const filasDuplicadas = useMemo(() => {\r\n    return obtenerIndicesDuplicados(rows, data.headers)\r\n  }, [rows, data.headers])\r\n\r\n  // Detectar filas con residentes en horario formativo (optimizado)\r\n  const filasResidenteHorarioFormativo = useMemo(() => {\r\n    const indices: Set<number> = new Set()\r\n    \r\n    // Si no hay especialidad o no hay médicos cargados, retornar vacío\r\n    if (!especialidad || medicos.length === 0 || medicosLoading) {\r\n      return indices\r\n    }\r\n\r\n    // Buscar índices de columnas relevantes una sola vez\r\n    const responsableIndex = data.headers.findIndex(h => {\r\n      const hLower = h.toLowerCase().trim()\r\n      return hLower === 'responsable' || hLower.includes('responsable') || hLower.includes('medico')\r\n    })\r\n    const fechaIndex = data.headers.findIndex(h => {\r\n      const hLower = h.toLowerCase().trim()\r\n      return hLower === 'fecha' || hLower.includes('fecha') || hLower.includes('fecha visita')\r\n    })\r\n    const horaIndex = data.headers.findIndex(h => {\r\n      const hLower = h.toLowerCase().trim()\r\n      return hLower.includes('hora') || hLower.includes('horario') || hLower.includes('inicio')\r\n    })\r\n\r\n    // Si no encontramos las columnas necesarias, retornar vacío\r\n    if (responsableIndex === -1 || fechaIndex === -1 || horaIndex === -1) {\r\n      return indices\r\n    }\r\n\r\n    // Procesar filas\r\n    rows.forEach((row, index) => {\r\n      const responsable = row[data.headers[responsableIndex]]\r\n      const fecha = row[data.headers[fechaIndex]]\r\n      const hora = row[data.headers[horaIndex]]\r\n\r\n      // Buscar médico\r\n      const medico = buscarMedico(responsable)\r\n      if (!medico || !medico.es_residente) {\r\n        return // No es residente, continuar\r\n      }\r\n\r\n      // Verificar si está en horario formativo\r\n      if (esResidenteHorarioFormativo(fecha, hora, medico.es_residente)) {\r\n        indices.add(index)\r\n      }\r\n    })\r\n\r\n    return indices\r\n  }, [rows, data.headers, especialidad, medicos, medicosLoading, buscarMedico])\r\n\r\n  // Contar problemas\r\n  const cantidadParticulares = filasParticulares.size\r\n  const cantidadSinHorario = filasSinHorario.size\r\n  const cantidadDuplicados = filasDuplicadas.size\r\n  const cantidadResidenteHorarioFormativo = filasResidenteHorarioFormativo.size\r\n\r\n  // Función para eliminar una fila\r\n  const handleDeleteRow = useCallback((rowIndex: number) => {\r\n    if (!confirm('¿Está seguro de que desea eliminar esta fila?')) {\r\n      return\r\n    }\r\n    \r\n    const updatedRows = rows.filter((_, index) => index !== rowIndex)\r\n    setRows(updatedRows)\r\n  }, [rows])\r\n\r\n  return (\r\n    <div className=\"w-full space-y-4\">\r\n      {/* Información del período */}\r\n      {data.periodo && (\r\n        <div \r\n          className=\"p-4 rounded-xl\"\r\n          style={{\r\n            background: 'rgba(255, 255, 255, 0.1)',\r\n            backdropFilter: 'blur(20px)',\r\n            border: '1px solid rgba(34, 197, 94, 0.3)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-2 text-green-400\">\r\n            <CheckCircle2 className=\"h-5 w-5\" />\r\n            <span className=\"font-semibold\">Período analizado:</span>\r\n            <span className=\"text-white\">\r\n              {data.periodo.desde} - {data.periodo.hasta}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alerta de PARTICULARES */}\r\n      {cantidadParticulares > 0 && (\r\n        <div \r\n          className=\"p-4 rounded-xl border-2 animate-pulse\"\r\n          style={{\r\n            background: 'rgba(251, 191, 36, 0.15)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderColor: 'rgba(251, 191, 36, 0.5)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-3 text-yellow-400\">\r\n            <AlertCircle className=\"h-6 w-6 flex-shrink-0\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"font-bold text-lg mb-1\">\r\n                ⚠️ {cantidadParticulares} registro{cantidadParticulares > 1 ? 's' : ''} sin obra social detectado{cantidadParticulares > 1 ? 's' : ''}\r\n              </div>\r\n              <div className=\"text-sm text-yellow-300\">\r\n                Estos registros deben ser revisados. Si son pacientes particulares, edite la columna \"Cliente\" y agregue: <strong>\"042 - PARTICULARES\"</strong>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alerta de Sin Horario */}\r\n      {cantidadSinHorario > 0 && (\r\n        <div \r\n          className=\"p-4 rounded-xl border-2 animate-pulse\"\r\n          style={{\r\n            background: 'rgba(239, 68, 68, 0.15)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderColor: 'rgba(239, 68, 68, 0.5)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-3 text-red-400\">\r\n            <Clock className=\"h-6 w-6 flex-shrink-0\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"font-bold text-lg mb-1\">\r\n                ⚠️ {cantidadSinHorario} registro{cantidadSinHorario > 1 ? 's' : ''} sin horario de inicio detectado{cantidadSinHorario > 1 ? 's' : ''}\r\n              </div>\r\n              <div className=\"text-sm text-red-300\">\r\n                Estos registros indican que el paciente <strong>no se atendió</strong>. Deben ser eliminados. Use el botón de eliminar en cada fila.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alerta de Duplicados */}\r\n      {cantidadDuplicados > 0 && (\r\n        <div \r\n          className=\"p-4 rounded-xl border-2 animate-pulse\"\r\n          style={{\r\n            background: 'rgba(168, 85, 247, 0.15)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderColor: 'rgba(168, 85, 247, 0.5)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-3 text-purple-400\">\r\n            <AlertCircle className=\"h-6 w-6 flex-shrink-0\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"font-bold text-lg mb-1\">\r\n                ⚠️ {cantidadDuplicados} registro{cantidadDuplicados > 1 ? 's' : ''} duplicado{cantidadDuplicados > 1 ? 's' : ''} detectado{cantidadDuplicados > 1 ? 's' : ''}\r\n              </div>\r\n              <div className=\"text-sm text-purple-300\">\r\n                Se detectaron filas completamente iguales (misma fecha, misma hora, mismo todo). Revise y elimine los duplicados si es necesario.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Alerta de Residente en Horario Formativo */}\r\n      {cantidadResidenteHorarioFormativo > 0 && (\r\n        <div \r\n          className=\"p-4 rounded-xl border-2 animate-pulse\"\r\n          style={{\r\n            background: 'rgba(59, 130, 246, 0.15)',\r\n            backdropFilter: 'blur(20px)',\r\n            borderColor: 'rgba(59, 130, 246, 0.5)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-3 text-blue-400\">\r\n            <UserX className=\"h-6 w-6 flex-shrink-0\" />\r\n            <div className=\"flex-1\">\r\n              <div className=\"font-bold text-lg mb-1\">\r\n                ℹ️ {cantidadResidenteHorarioFormativo} consulta{cantidadResidenteHorarioFormativo > 1 ? 's' : ''} de residente{cantidadResidenteHorarioFormativo > 1 ? 's' : ''} en horario formativo detectada{cantidadResidenteHorarioFormativo > 1 ? 's' : ''}\r\n              </div>\r\n              <div className=\"text-sm text-blue-300\">\r\n                Estas consultas son de <strong>residentes</strong> realizadas entre <strong>lunes a sábado de 07:00 a 15:00</strong>. <strong>NO se deben pagar</strong> según las reglas del sistema.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tabla de datos */}\r\n      <div className=\"overflow-x-auto rounded-xl\" style={{\r\n        background: 'rgba(255, 255, 255, 0.05)',\r\n        backdropFilter: 'blur(20px)',\r\n        border: '1px solid rgba(255, 255, 255, 0.1)',\r\n      }}>\r\n        <table className=\"w-full border-collapse text-xs\">\r\n          <thead>\r\n            <tr className=\"border-b border-white/10\">\r\n              {data.headers.map((header, index) => (\r\n                <th\r\n                  key={index}\r\n                  className=\"px-2 py-2 text-left text-xs font-semibold text-gray-300 bg-white/5 whitespace-nowrap\"\r\n                  style={{\r\n                    position: 'sticky',\r\n                    top: 0,\r\n                    zIndex: 10,\r\n                    minWidth: '120px',\r\n                    maxWidth: '200px',\r\n                  }}\r\n                >\r\n                  <div className=\"flex items-center gap-1.5\">\r\n                    <span className=\"truncate\">{header}</span>\r\n                    {isEditable(header) && (\r\n                      <span className=\"text-[10px] text-green-400 bg-green-400/20 px-1.5 py-0.5 rounded flex-shrink-0\">\r\n                        Editable\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                </th>\r\n              ))}\r\n              {/* Columna de acciones */}\r\n              <th\r\n                className=\"px-2 py-2 text-left text-xs font-semibold text-gray-300 bg-white/5 whitespace-nowrap sticky right-0\"\r\n                style={{\r\n                  position: 'sticky',\r\n                  top: 0,\r\n                  zIndex: 11,\r\n                  minWidth: '60px',\r\n                  maxWidth: '60px',\r\n                }}\r\n              >\r\n                Acciones\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rows.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={data.headers.length + 1} className=\"px-4 py-8 text-center text-gray-400 text-sm\">\r\n                  No hay datos para mostrar\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              rows.map((row, rowIndex) => {\r\n                const esParticularRow = filasParticulares.has(rowIndex)\r\n                const esSinHorario = filasSinHorario.has(rowIndex)\r\n                const esDuplicado = filasDuplicadas.has(rowIndex)\r\n                const esResidenteFormativo = filasResidenteHorarioFormativo.has(rowIndex)\r\n                \r\n                // Determinar el estilo de la fila según la prioridad de problemas\r\n                // Prioridad: Sin horario > Duplicado > Residente formativo > Particular\r\n                let filaClassName = 'border-b transition-colors border-white/5 hover:bg-white/5'\r\n                if (esSinHorario) {\r\n                  filaClassName = 'bg-red-500/20 border-red-500/30 hover:bg-red-500/30 border-b'\r\n                } else if (esDuplicado) {\r\n                  filaClassName = 'bg-purple-500/20 border-purple-500/30 hover:bg-purple-500/30 border-b'\r\n                } else if (esResidenteFormativo) {\r\n                  filaClassName = 'bg-blue-500/20 border-blue-500/30 hover:bg-blue-500/30 border-b'\r\n                } else if (esParticularRow) {\r\n                  filaClassName = 'bg-yellow-500/20 border-yellow-500/30 hover:bg-yellow-500/30 border-b'\r\n                }\r\n                \r\n                return (\r\n                <tr\r\n                  key={rowIndex}\r\n                  className={filaClassName}\r\n                >\r\n                  {data.headers.map((header, colIndex) => {\r\n                    const value = row[header] ?? null\r\n                    const editable = isEditable(header)\r\n                    const savingKey = `${rowIndex}-${header}`\r\n                    const isSaving = saving[savingKey] || false\r\n\r\n                    return (\r\n                      <td\r\n                        key={colIndex}\r\n                        className=\"px-2 py-1.5 text-xs text-gray-300\"\r\n                        style={{\r\n                          minWidth: '120px',\r\n                          maxWidth: '200px',\r\n                        }}\r\n                      >\r\n                        {editable ? (\r\n                          <div className=\"relative\">\r\n                            <InlineEditCell\r\n                              value={value}\r\n                              type=\"text\"\r\n                              onSave={async (newValue) => {\r\n                                await handleCellSave(rowIndex, header, newValue)\r\n                              }}\r\n                              isEditable={true}\r\n                              className={isSaving ? 'opacity-50' : ''}\r\n                              columnName={header}\r\n                            />\r\n                            {esParticularRow && header.toLowerCase().trim() === 'cliente' && (\r\n                              <div className=\"absolute -top-1 -right-1\">\r\n                                <AlertCircle className=\"h-3 w-3 text-yellow-400\" />\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"px-1 py-0.5 truncate\" title={value ? String(value) : ''}>\r\n                            {value === null || value === '' ? (\r\n                              <span className=\"text-gray-500 italic text-[10px]\">-</span>\r\n                            ) : (\r\n                              <span className=\"truncate block\">{String(value)}</span>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </td>\r\n                    )\r\n                  })}\r\n                  {/* Columna de acciones */}\r\n                  <td\r\n                    className={`px-2 py-1.5 sticky right-0 ${\r\n                      esSinHorario \r\n                        ? 'bg-red-500/20' \r\n                        : esDuplicado \r\n                        ? 'bg-purple-500/20' \r\n                        : esResidenteFormativo\r\n                        ? 'bg-blue-500/20'\r\n                        : esParticularRow\r\n                        ? 'bg-yellow-500/20'\r\n                        : 'bg-white/5'\r\n                    }`}\r\n                    style={{\r\n                      minWidth: '60px',\r\n                      maxWidth: '60px',\r\n                      zIndex: 1,\r\n                    }}\r\n                  >\r\n                    <div className=\"flex items-center justify-center gap-1 relative\">\r\n                      {(esSinHorario || esDuplicado) && (\r\n                        <button\r\n                          onClick={() => handleDeleteRow(rowIndex)}\r\n                          className=\"p-1.5 text-red-400 hover:bg-red-500/30 rounded transition-colors\"\r\n                          title=\"Eliminar fila\"\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </button>\r\n                      )}\r\n                      {esSinHorario && (\r\n                        <div className=\"absolute -top-1 -right-1\">\r\n                          <Clock className=\"h-3 w-3 text-red-400\" />\r\n                        </div>\r\n                      )}\r\n                      {esDuplicado && !esSinHorario && (\r\n                        <div className=\"absolute -top-1 -right-1\">\r\n                          <AlertCircle className=\"h-3 w-3 text-purple-400\" />\r\n                        </div>\r\n                      )}\r\n                      {esResidenteFormativo && !esSinHorario && !esDuplicado && (\r\n                        <div className=\"absolute -top-1 -right-1\">\r\n                          <UserX className=\"h-3 w-3 text-blue-400\" />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )})\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {/* Resumen */}\r\n      <div className=\"text-sm text-gray-400\">\r\n        Total de filas: <span className=\"text-green-400 font-semibold\">{rows.length}</span>\r\n        {' • '}\r\n        Columnas: <span className=\"text-green-400 font-semibold\">{data.headers.length}</span>\r\n        {cantidadParticulares > 0 && (\r\n          <>\r\n            {' • '}\r\n            Sin obra social: <span className=\"text-yellow-400 font-semibold\">{cantidadParticulares}</span>\r\n          </>\r\n        )}\r\n        {cantidadSinHorario > 0 && (\r\n          <>\r\n            {' • '}\r\n            Sin horario: <span className=\"text-red-400 font-semibold\">{cantidadSinHorario}</span>\r\n          </>\r\n        )}\r\n        {cantidadDuplicados > 0 && (\r\n          <>\r\n            {' • '}\r\n            Duplicados: <span className=\"text-purple-400 font-semibold\">{cantidadDuplicados}</span>\r\n          </>\r\n        )}\r\n        {cantidadResidenteHorarioFormativo > 0 && (\r\n          <>\r\n            {' • '}\r\n            Residente formativo: <span className=\"text-blue-400 font-semibold\">{cantidadResidenteHorarioFormativo}</span>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { supabase } from '@/lib/supabase/client'\r\nimport { BarChart3, TrendingUp, Users } from 'lucide-react'\r\n\r\ninterface EstadisticaObraSocial {\r\n  obra_social: string\r\n  cantidad_consultas: number\r\n  porcentaje_del_total?: number\r\n}\r\n\r\ninterface EstadisticasObraSocialProps {\r\n  mes: number\r\n  anio: number\r\n  especialidad: string\r\n}\r\n\r\nexport function EstadisticasObraSocial({ mes, anio, especialidad }: EstadisticasObraSocialProps) {\r\n  const [estadisticas, setEstadisticas] = useState<EstadisticaObraSocial[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [totalConsultas, setTotalConsultas] = useState(0)\r\n\r\n  useEffect(() => {\r\n    cargarEstadisticas()\r\n  }, [mes, anio, especialidad])\r\n\r\n  async function cargarEstadisticas() {\r\n    try {\r\n      setLoading(true)\r\n      \r\n      // Llamar a la función de sincronización primero\r\n      // @ts-ignore - La función RPC no está en los tipos generados de Supabase aún\r\n      const { error: syncError } = await supabase.rpc('sincronizar_estadisticas_obra_social', {\r\n        p_mes: mes,\r\n        p_anio: anio,\r\n        p_especialidad: especialidad\r\n      })\r\n\r\n      if (syncError) {\r\n        console.error('Error sincronizando estadísticas:', syncError)\r\n        // Continuar aunque haya error en sincronización\r\n      }\r\n\r\n      // Obtener estadísticas desde la vista consolidada\r\n      // @ts-ignore - La vista no está en los tipos generados de Supabase aún\r\n      const { data, error } = await supabase\r\n        .from('v_estadisticas_obra_social_consolidado')\r\n        .select('obra_social, cantidad_consultas, porcentaje_del_total, total_consultas_mes')\r\n        .eq('mes', mes)\r\n        .eq('anio', anio)\r\n        .eq('especialidad', especialidad)\r\n        .order('cantidad_consultas', { ascending: false })\r\n\r\n      if (error) throw error\r\n\r\n      if (data && data.length > 0) {\r\n        const estadisticasData = data as any[]\r\n        setEstadisticas(estadisticasData as EstadisticaObraSocial[])\r\n        setTotalConsultas(estadisticasData[0]?.total_consultas_mes || 0)\r\n      } else {\r\n        setEstadisticas([])\r\n        setTotalConsultas(0)\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cargando estadísticas:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6 text-center text-gray-400\">\r\n        Cargando estadísticas...\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (estadisticas.length === 0) {\r\n    return (\r\n      <div \r\n        className=\"p-6 rounded-xl\"\r\n        style={{\r\n          background: 'rgba(255, 255, 255, 0.05)',\r\n          backdropFilter: 'blur(20px)',\r\n          border: '1px solid rgba(255, 255, 255, 0.1)',\r\n        }}\r\n      >\r\n        <div className=\"text-center text-gray-400\">\r\n          <BarChart3 className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n          <p>No hay estadísticas disponibles para este período</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const maxConsultas = Math.max(...estadisticas.map(e => e.cantidad_consultas))\r\n\r\n  return (\r\n    <div \r\n      className=\"p-6 rounded-xl space-y-4\"\r\n      style={{\r\n        background: 'rgba(255, 255, 255, 0.05)',\r\n        backdropFilter: 'blur(20px)',\r\n        border: '1px solid rgba(255, 255, 255, 0.1)',\r\n      }}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"p-2 bg-green-500/20 rounded-lg\">\r\n            <BarChart3 className=\"h-5 w-5 text-green-400\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"text-lg font-semibold text-white\">\r\n              Estadísticas por Obra Social\r\n            </h3>\r\n            <p className=\"text-sm text-gray-400\">\r\n              {mes}/{anio} - {especialidad}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"text-right\">\r\n          <div className=\"text-2xl font-bold text-green-400\">{totalConsultas}</div>\r\n          <div className=\"text-xs text-gray-400\">Total consultas</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Lista de estadísticas */}\r\n      <div className=\"space-y-2\">\r\n        {estadisticas.map((estadistica, index) => {\r\n          const porcentaje = estadistica.porcentaje_del_total || 0\r\n          const anchoBarra = (estadistica.cantidad_consultas / maxConsultas) * 100\r\n          const esParticulares = estadistica.obra_social.includes('042') || estadistica.obra_social.includes('PARTICULARES')\r\n\r\n          return (\r\n            <div\r\n              key={index}\r\n              className=\"p-3 rounded-lg\"\r\n              style={{\r\n                background: esParticulares \r\n                  ? 'rgba(251, 191, 36, 0.1)' \r\n                  : 'rgba(255, 255, 255, 0.03)',\r\n                border: esParticulares\r\n                  ? '1px solid rgba(251, 191, 36, 0.3)'\r\n                  : '1px solid rgba(255, 255, 255, 0.05)',\r\n              }}\r\n            >\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <div className=\"flex items-center gap-2 flex-1 min-w-0\">\r\n                  <Users className={`h-4 w-4 flex-shrink-0 ${esParticulares ? 'text-yellow-400' : 'text-gray-400'}`} />\r\n                  <span className={`font-medium truncate ${esParticulares ? 'text-yellow-300' : 'text-gray-300'}`}>\r\n                    {estadistica.obra_social}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center gap-3 flex-shrink-0\">\r\n                  <span className=\"text-sm font-semibold text-green-400\">\r\n                    {estadistica.cantidad_consultas}\r\n                  </span>\r\n                  <span className=\"text-xs text-gray-400 w-12 text-right\">\r\n                    {porcentaje.toFixed(1)}%\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Barra de progreso */}\r\n              <div className=\"h-2 bg-gray-800 rounded-full overflow-hidden\">\r\n                <div\r\n                  className=\"h-full transition-all duration-500\"\r\n                  style={{\r\n                    width: `${anchoBarra}%`,\r\n                    background: esParticulares\r\n                      ? 'linear-gradient(90deg, rgba(251, 191, 36, 0.8), rgba(251, 191, 36, 0.6))'\r\n                      : 'linear-gradient(90deg, rgba(34, 197, 94, 0.8), rgba(34, 197, 94, 0.6))',\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      {/* Resumen */}\r\n      <div className=\"pt-4 border-t border-white/10\">\r\n        <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n          <div>\r\n            <div className=\"text-lg font-bold text-green-400\">{estadisticas.length}</div>\r\n            <div className=\"text-xs text-gray-400\">Obras Sociales</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-lg font-bold text-blue-400\">\r\n              {estadisticas.filter(e => e.obra_social.includes('042') || e.obra_social.includes('PARTICULARES')).length}\r\n            </div>\r\n            <div className=\"text-xs text-gray-400\">Particulares</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-lg font-bold text-yellow-400\">\r\n              {estadisticas[0]?.cantidad_consultas || 0}\r\n            </div>\r\n            <div className=\"text-xs text-gray-400\">Mayor cantidad</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import * as XLSX from 'xlsx'\r\n\r\nexport interface ExcelRow {\r\n  [key: string]: any\r\n}\r\n\r\nexport interface ExcelData {\r\n  periodo: {\r\n    desde: string\r\n    hasta: string\r\n  } | null\r\n  headers: string[]\r\n  rows: ExcelRow[]\r\n}\r\n\r\n/**\r\n * Extrae el período de la fila 2 del Excel\r\n * Formato esperado: \"Desde fecha: 01/08/2025 Hasta fecha: 31/08/2025\"\r\n */\r\nfunction extractPeriodo(row2: any[]): { desde: string; hasta: string } | null {\r\n  if (!row2 || row2.length === 0) return null\r\n\r\n  // Buscar el texto que contiene las fechas\r\n  const text = row2.map(cell => String(cell || '')).join(' ')\r\n  \r\n  // Patrones para buscar fechas\r\n  const desdeMatch = text.match(/Desde fecha:\\s*(\\d{1,2}\\/\\d{1,2}\\/\\d{4})/i)\r\n  const hastaMatch = text.match(/Hasta fecha:\\s*(\\d{1,2}\\/\\d{1,2}\\/\\d{4})/i)\r\n\r\n  if (desdeMatch && hastaMatch) {\r\n    return {\r\n      desde: desdeMatch[1],\r\n      hasta: hastaMatch[1]\r\n    }\r\n  }\r\n\r\n  return null\r\n}\r\n\r\n/**\r\n * Lee un archivo Excel con el formato específico:\r\n * - Fila 2: Período analizado\r\n * - Fila 10: Headers\r\n * - Desde fila 11: Datos\r\n */\r\nexport async function readExcelFile(file: File): Promise<ExcelData> {\r\n  try {\r\n    const arrayBuffer = await file.arrayBuffer()\r\n    const workbook = XLSX.read(arrayBuffer, { type: 'array' })\r\n    \r\n    // Obtener la primera hoja\r\n    const sheetName = workbook.SheetNames[0]\r\n    if (!sheetName) {\r\n      throw new Error('El archivo Excel no contiene hojas')\r\n    }\r\n\r\n    const worksheet = workbook.Sheets[sheetName]\r\n\r\n    // Leer la fila 2 (índice 1) para el período\r\n    const range = XLSX.utils.decode_range(worksheet['!ref'] || 'A1')\r\n    const row2: any[] = []\r\n    for (let col = 0; col <= Math.min(range.e.c, 50); col++) {\r\n      const cellAddress = XLSX.utils.encode_cell({ r: 1, c: col })\r\n      const cell = worksheet[cellAddress]\r\n      row2.push(cell ? cell.v : null)\r\n    }\r\n\r\n    const periodo = extractPeriodo(row2)\r\n\r\n    // Leer la fila 10 (índice 9) para los headers\r\n    // IMPORTANTE: Leer TODAS las columnas, incluso las vacías, para mantener la correspondencia exacta\r\n    const headers: Array<{ name: string; colIndex: number }> = []\r\n    const maxCols = Math.min(range.e.c + 1, 50) // Limitar a 50 columnas máximo para evitar problemas\r\n    \r\n    // Primero, encontrar la última columna con un header válido\r\n    let lastHeaderCol = -1\r\n    for (let col = 0; col < maxCols; col++) {\r\n      const cellAddress = XLSX.utils.encode_cell({ r: 9, c: col })\r\n      const cell = worksheet[cellAddress]\r\n      if (cell && cell.v !== null && cell.v !== undefined) {\r\n        const headerValue = String(cell.v).trim()\r\n        if (headerValue !== '') {\r\n          lastHeaderCol = col\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Si no encontramos headers, lanzar error\r\n    if (lastHeaderCol === -1) {\r\n      throw new Error('No se encontraron headers en la fila 10')\r\n    }\r\n    \r\n    // Leer todos los headers desde la columna 0 hasta la última con header válido\r\n    for (let col = 0; col <= lastHeaderCol; col++) {\r\n      const cellAddress = XLSX.utils.encode_cell({ r: 9, c: col })\r\n      const cell = worksheet[cellAddress]\r\n      \r\n      if (cell && cell.v !== null && cell.v !== undefined) {\r\n        const headerValue = String(cell.v).trim()\r\n        headers.push({\r\n          name: headerValue || `Columna ${col + 1}`, // Si está vacío, usar nombre genérico\r\n          colIndex: col\r\n        })\r\n      } else {\r\n        // Si la celda está vacía pero estamos antes de la última columna con header,\r\n        // agregar un header vacío para mantener la correspondencia\r\n        headers.push({\r\n          name: `Columna ${col + 1}`,\r\n          colIndex: col\r\n        })\r\n      }\r\n    }\r\n\r\n    // Filtrar headers vacíos solo para la visualización, pero mantener la estructura\r\n    const headerNames = headers.map(h => h.name).filter(name => !name.startsWith('Columna'))\r\n\r\n    // Leer datos manualmente desde la fila 11 (índice 10) en adelante\r\n    const rows: ExcelRow[] = []\r\n    \r\n    for (let rowIndex = 10; rowIndex <= range.e.r; rowIndex++) {\r\n      const row: ExcelRow = {}\r\n      let hasData = false\r\n      \r\n      // Leer usando el índice de columna real del Excel\r\n      headers.forEach((headerInfo) => {\r\n        const cellAddress = XLSX.utils.encode_cell({ r: rowIndex, c: headerInfo.colIndex })\r\n        const cell = worksheet[cellAddress]\r\n        \r\n        if (cell && cell.v !== null && cell.v !== undefined) {\r\n          let value: any = cell.v\r\n          \r\n          // Detectar si es la columna \"Duración\"\r\n          const isDuracion = headerInfo.name.toLowerCase().includes('duración') || \r\n                            headerInfo.name.toLowerCase().includes('duracion')\r\n          \r\n          if (isDuracion) {\r\n            // Para la columna Duración, mantener como número (minutos)\r\n            if (typeof value === 'number') {\r\n              // Ya es un número, mantenerlo tal cual\r\n              value = Math.round(value) // Redondear a entero si es necesario\r\n            } else if (typeof value === 'string') {\r\n              // Si viene como string, intentar convertir a número\r\n              const numValue = parseFloat(value.replace(',', '.'))\r\n              value = isNaN(numValue) ? value : Math.round(numValue)\r\n            }\r\n            // No aplicar conversión de fecha para Duración\r\n          } else {\r\n            // Para otras columnas, aplicar la lógica de conversión de fechas\r\n            // Si es una fecha, convertirla a string formateado\r\n            if (cell.t === 'd' && value instanceof Date) {\r\n              const day = value.getDate()\r\n              const month = value.getMonth() + 1\r\n              const year = value.getFullYear()\r\n              value = `${day}/${month}/${year}`\r\n            } else if (cell.t === 'n' && typeof value === 'number') {\r\n              // Si es un número que parece una fecha serial de Excel\r\n              // Solo convertir si NO es la columna Duración\r\n              if (value > 1 && value < 100000) {\r\n                try {\r\n                  const excelDate = XLSX.SSF.parse_date_code(value)\r\n                  if (excelDate) {\r\n                    value = `${excelDate.d}/${excelDate.m}/${excelDate.y}`\r\n                  }\r\n                } catch {\r\n                  // Si no se puede parsear como fecha, mantener el número\r\n                }\r\n              }\r\n            }\r\n          }\r\n          \r\n          // Solo agregar al row si el header tiene un nombre válido (no es \"Columna X\")\r\n          if (!headerInfo.name.startsWith('Columna')) {\r\n            row[headerInfo.name] = value\r\n            hasData = true\r\n          }\r\n        } else {\r\n          // Solo agregar null si el header tiene un nombre válido\r\n          if (!headerInfo.name.startsWith('Columna')) {\r\n            row[headerInfo.name] = null\r\n          }\r\n        }\r\n      })\r\n      \r\n      // Solo agregar la fila si tiene al menos un dato\r\n      if (hasData) {\r\n        rows.push(row)\r\n      }\r\n    }\r\n\r\n    return {\r\n      periodo,\r\n      headers: headerNames, // Usar solo los headers con nombre válido para la visualización\r\n      rows\r\n    }\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      throw error\r\n    }\r\n    throw new Error('Error al leer el archivo Excel: ' + String(error))\r\n  }\r\n}\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 3v16a2 2 0 0 0 2 2h16', key: 'c24i48' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n];\n\n/**\n * @component @name ChartColumn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE2YTIgMiAwIDAgMCAyIDJoMTYiIC8+CiAgPHBhdGggZD0iTTE4IDE3VjkiIC8+CiAgPHBhdGggZD0iTTEzIDE3VjUiIC8+CiAgPHBhdGggZD0iTTggMTd2LTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-column\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartColumn = createLucideIcon('chart-column', __iconNode);\n\nexport default ChartColumn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n];\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('user-x', __iconNode);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n"],"names":[],"mappings":"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","ignoreList":[3,4,5]}