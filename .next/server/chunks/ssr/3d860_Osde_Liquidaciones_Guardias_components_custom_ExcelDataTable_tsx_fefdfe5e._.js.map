{"version":3,"sources":["../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/ConfirmModal.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/excel-exporter.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/ExpandableSection.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/ExcelDataTable.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/database.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/chevron-up.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/clock.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/user-x.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/chevron-down.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { X, AlertTriangle } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\n\r\ninterface ConfirmModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onConfirm: () => void\r\n  title: string\r\n  message: string\r\n  confirmText?: string\r\n  cancelText?: string\r\n  type?: 'danger' | 'warning' | 'info'\r\n}\r\n\r\nexport function ConfirmModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  title,\r\n  message,\r\n  confirmText = 'Aceptar',\r\n  cancelText = 'Cancelar',\r\n  type = 'danger'\r\n}: ConfirmModalProps) {\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    return () => setMounted(false)\r\n  }, [])\r\n\r\n  if (!isOpen || !mounted) return null\r\n\r\n  const getBorderColor = () => {\r\n    switch (type) {\r\n      case 'danger':\r\n        return 'border-red-500/50'\r\n      case 'warning':\r\n        return 'border-yellow-500/50'\r\n      default:\r\n        return 'border-blue-500/50'\r\n    }\r\n  }\r\n\r\n  const getTitleColor = () => {\r\n    switch (type) {\r\n      case 'danger':\r\n        return 'text-red-400'\r\n      case 'warning':\r\n        return 'text-yellow-400'\r\n      default:\r\n        return 'text-blue-400'\r\n    }\r\n  }\r\n\r\n  const getConfirmButtonStyle = () => {\r\n    switch (type) {\r\n      case 'danger':\r\n        return 'bg-red-600 hover:bg-red-500 text-white'\r\n      case 'warning':\r\n        return 'bg-yellow-600 hover:bg-yellow-500 text-white'\r\n      default:\r\n        return 'bg-blue-600 hover:bg-blue-500 text-white'\r\n    }\r\n  }\r\n\r\n  const modalContent = (\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center p-4\"\r\n      style={{\r\n        background: 'rgba(0, 0, 0, 0.8)',\r\n        backdropFilter: 'blur(8px)',\r\n        zIndex: 9999,\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n      }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"relative w-full max-w-md rounded-2xl p-6 shadow-2xl\"\r\n        style={{\r\n          background: 'rgba(255, 255, 255, 0.1)',\r\n          backdropFilter: 'blur(20px)',\r\n          border: `1px solid ${getBorderColor().replace('/50', '/30')}`,\r\n          boxShadow: '0 8px 32px 0 rgba(34, 197, 94, 0.3)',\r\n          animation: 'fadeIn 0.2s ease-in-out',\r\n        }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Bot√≥n cerrar */}\r\n        <button\r\n          onClick={onClose}\r\n          className=\"absolute top-4 right-4 p-2 rounded-lg hover:bg-white/10 transition-colors text-gray-400 hover:text-white\"\r\n        >\r\n          <X className=\"h-5 w-5\" />\r\n        </button>\r\n\r\n        {/* Contenido */}\r\n        <div className=\"flex items-start gap-4\">\r\n          {/* √çcono */}\r\n          <div className=\"flex-shrink-0 mt-1\">\r\n            <AlertTriangle className={`h-6 w-6 ${getTitleColor()}`} />\r\n          </div>\r\n\r\n          {/* Texto */}\r\n          <div className=\"flex-1 space-y-2\">\r\n            <h3 className={`text-lg font-semibold ${getTitleColor()}`}>\r\n              {title}\r\n            </h3>\r\n            <p className=\"text-gray-300 text-sm leading-relaxed\">\r\n              {message}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botones de acci√≥n */}\r\n        <div className=\"mt-6 flex justify-end gap-3\">\r\n          <Button\r\n            onClick={onClose}\r\n            variant=\"outline\"\r\n            className=\"border-gray-500/50 text-gray-300 hover:bg-gray-500/20\"\r\n          >\r\n            {cancelText}\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              onConfirm()\r\n              onClose()\r\n            }}\r\n            className={getConfirmButtonStyle()}\r\n          >\r\n            {confirmText}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  // Renderizar el modal usando portal directamente en el body\r\n  return createPortal(modalContent, document.body)\r\n}\r\n","import * as XLSX from 'xlsx'\r\nimport { ExcelRow } from '@/lib/excel-reader'\r\n\r\nexport interface ExportExcelOptions {\r\n  rows: ExcelRow[]\r\n  headers: string[]\r\n  filename?: string\r\n  sheetName?: string\r\n}\r\n\r\nexport function exportFilteredDataToExcel({\r\n  rows,\r\n  headers,\r\n  filename = 'datos_filtrados',\r\n  sheetName = 'Datos'\r\n}: ExportExcelOptions): void {\r\n  if (rows.length === 0) {\r\n    throw new Error('No hay datos para exportar')\r\n  }\r\n\r\n  // Excel limita los nombres de hojas a 31 caracteres\r\n  const maxSheetNameLength = 31\r\n  const truncatedSheetName = sheetName.length > maxSheetNameLength\r\n    ? sheetName.substring(0, maxSheetNameLength)\r\n    : sheetName\r\n\r\n  // Preparar datos para Excel: convertir cada fila en un objeto con los headers como claves\r\n  const datos = rows.map(row => {\r\n    const fila: Record<string, any> = {}\r\n    headers.forEach(header => {\r\n      fila[header] = row[header] ?? ''\r\n    })\r\n    return fila\r\n  })\r\n\r\n  // Crear worksheet\r\n  const worksheet = XLSX.utils.json_to_sheet(datos)\r\n  \r\n  // Ajustar ancho de columnas autom√°ticamente\r\n  const columnWidths = headers.map(header => {\r\n    const maxLength = Math.max(\r\n      header.length,\r\n      ...datos.map(row => String(row[header] || '').length)\r\n    )\r\n    return { wch: Math.min(maxLength + 2, 50) } // M√°ximo 50 caracteres de ancho\r\n  })\r\n  worksheet['!cols'] = columnWidths\r\n\r\n  // Crear workbook\r\n  const workbook = XLSX.utils.book_new()\r\n  XLSX.utils.book_append_sheet(workbook, worksheet, truncatedSheetName)\r\n\r\n  // Generar archivo\r\n  const excelBuffer = XLSX.write(workbook, {\r\n    type: 'array',\r\n    bookType: 'xlsx',\r\n    cellStyles: true\r\n  })\r\n\r\n  // Crear blob y descargar\r\n  const blob = new Blob([excelBuffer], {\r\n    type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\r\n  })\r\n\r\n  const url = window.URL.createObjectURL(blob)\r\n  const link = document.createElement('a')\r\n  link.href = url\r\n  link.download = `${filename}_${new Date().toISOString().split('T')[0]}.xlsx`\r\n  document.body.appendChild(link)\r\n  link.click()\r\n  document.body.removeChild(link)\r\n  window.URL.revokeObjectURL(url)\r\n}\r\n\r\n","'use client'\r\n\r\nimport { useState, useEffect, useMemo, useRef, useCallback } from 'react'\r\nimport { ChevronDown, ChevronUp, Trash2, Search, X, Download } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ExcelRow, ExcelData } from '@/lib/excel-reader'\r\nimport { InlineEditCell } from './InlineEditCell'\r\nimport { ConfirmModal } from './ConfirmModal'\r\nimport { exportFilteredDataToExcel } from '@/lib/excel-exporter'\r\n\r\ninterface ExpandableSectionProps {\r\n  title: string\r\n  count: number\r\n  description: string\r\n  icon: React.ReactNode\r\n  bgColor: string\r\n  borderColor: string\r\n  textColor: string\r\n  rows: ExcelRow[]\r\n  data: ExcelData\r\n  onCellUpdate?: (rowIndex: number, column: string, newValue: any) => Promise<void>\r\n  onDeleteRow?: (rowIndex: number) => Promise<void> | void\r\n  onDeleteAll?: () => Promise<void> | void\r\n  allowEdit?: boolean\r\n  allowDelete?: boolean\r\n  mes?: number\r\n  anio?: number\r\n  sectionKey: string\r\n  // Funciones de detecci√≥n para aplicar colores (solo para detalle completo)\r\n  esParticularRow?: (rowIndex: number) => boolean\r\n  esSinHorarioRow?: (rowIndex: number) => boolean\r\n  esDuplicadoRow?: (rowIndex: number) => boolean\r\n  esResidenteFormativoRow?: (rowIndex: number) => boolean\r\n}\r\n\r\nexport function ExpandableSection({\r\n  title,\r\n  count,\r\n  description,\r\n  icon,\r\n  bgColor,\r\n  borderColor,\r\n  textColor,\r\n  rows,\r\n  data,\r\n  onCellUpdate,\r\n  onDeleteRow,\r\n  onDeleteAll,\r\n  allowEdit = false,\r\n  allowDelete = false,\r\n  mes,\r\n  anio,\r\n  sectionKey,\r\n  esParticularRow,\r\n  esSinHorarioRow,\r\n  esDuplicadoRow,\r\n  esResidenteFormativoRow\r\n}: ExpandableSectionProps) {\r\n  const [isExpanded, setIsExpanded] = useState(false)\r\n  const [selectedRows, setSelectedRows] = useState<Set<number>>(new Set())\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false)\r\n  const [confirmAction, setConfirmAction] = useState<{\r\n    type: 'single' | 'multiple' | 'all'\r\n    rowIndex?: number\r\n    count?: number\r\n  } | null>(null)\r\n  \r\n  // Estado para filtros por columna (valor inmediato para el input)\r\n  const [filterInputs, setFilterInputs] = useState<Map<string, string>>(new Map())\r\n  // Estado para filtros aplicados (con debounce)\r\n  const [filters, setFilters] = useState<Map<string, string>>(new Map())\r\n  \r\n  // Refs para los timers de debounce\r\n  const debounceTimers = useRef<Map<string, NodeJS.Timeout>>(new Map())\r\n\r\n  // Cargar estado guardado al montar\r\n  useEffect(() => {\r\n    if (mes && anio) {\r\n      const savedState = localStorage.getItem(`expandable_${sectionKey}_${mes}_${anio}`)\r\n      if (savedState === 'true') {\r\n        setIsExpanded(true)\r\n      }\r\n    }\r\n  }, [mes, anio, sectionKey])\r\n\r\n  // Guardar estado cuando cambia\r\n  const handleToggle = () => {\r\n    const newState = !isExpanded\r\n    setIsExpanded(newState)\r\n    if (mes && anio) {\r\n      localStorage.setItem(`expandable_${sectionKey}_${mes}_${anio}`, String(newState))\r\n    }\r\n    // Limpiar selecci√≥n al colapsar\r\n    if (!newState) {\r\n      setSelectedRows(new Set())\r\n    }\r\n  }\r\n\r\n  const isEditable = (header: string) => {\r\n    const headerLower = header.toLowerCase().trim()\r\n    return headerLower.includes('cliente') || headerLower.includes('obra')\r\n  }\r\n\r\n  // Filtrar filas bas√°ndose en los filtros activos\r\n  const filteredRows = useMemo(() => {\r\n    if (filters.size === 0) return rows\r\n\r\n    return rows.filter(row => {\r\n      return data.headers.every((header) => {\r\n        const filterValue = filters.get(header)\r\n        if (!filterValue || filterValue.trim() === '') return true\r\n\r\n        const cellValue = row[header]\r\n        if (cellValue === null || cellValue === undefined) return false\r\n\r\n        // B√∫squeda case-insensitive\r\n        const cellStr = String(cellValue).toLowerCase()\r\n        const filterStr = filterValue.toLowerCase().trim()\r\n        \r\n        return cellStr.includes(filterStr)\r\n      })\r\n    })\r\n  }, [rows, filters, data.headers])\r\n\r\n  // Actualizar count basado en filas filtradas\r\n  const displayCount = filteredRows.length\r\n\r\n  // Funci√≥n para actualizar filtro de una columna con debounce\r\n  const handleFilterChange = useCallback((header: string, value: string) => {\r\n    // Actualizar el input inmediatamente (sin delay visual)\r\n    setFilterInputs(prev => {\r\n      const newMap = new Map(prev)\r\n      if (value.trim() === '') {\r\n        newMap.delete(header)\r\n      } else {\r\n        newMap.set(header, value)\r\n      }\r\n      return newMap\r\n    })\r\n\r\n    // Cancelar timer anterior para esta columna\r\n    const existingTimer = debounceTimers.current.get(header)\r\n    if (existingTimer) {\r\n      clearTimeout(existingTimer)\r\n    }\r\n\r\n    // Crear nuevo timer con debounce de 300ms\r\n    const timer = setTimeout(() => {\r\n      setFilters(prev => {\r\n        const newMap = new Map(prev)\r\n        if (value.trim() === '') {\r\n          newMap.delete(header)\r\n        } else {\r\n          newMap.set(header, value)\r\n        }\r\n        return newMap\r\n      })\r\n      debounceTimers.current.delete(header)\r\n    }, 300)\r\n\r\n    debounceTimers.current.set(header, timer)\r\n  }, [])\r\n\r\n  // Limpiar timers al desmontar\r\n  useEffect(() => {\r\n    return () => {\r\n      debounceTimers.current.forEach(timer => clearTimeout(timer))\r\n      debounceTimers.current.clear()\r\n    }\r\n  }, [])\r\n\r\n  // Limpiar todos los filtros\r\n  const clearAllFilters = () => {\r\n    // Limpiar todos los timers\r\n    debounceTimers.current.forEach(timer => clearTimeout(timer))\r\n    debounceTimers.current.clear()\r\n    // Limpiar estados\r\n    setFilters(new Map())\r\n    setFilterInputs(new Map())\r\n  }\r\n\r\n  // Funci√≥n para exportar datos filtrados\r\n  const handleExportExcel = (e: React.MouseEvent) => {\r\n    e.stopPropagation()\r\n    try {\r\n      const nombreArchivo = `${title.toLowerCase().replace(/\\s+/g, '_')}_filtrado`\r\n      exportFilteredDataToExcel({\r\n        rows: filteredRows,\r\n        headers: data.headers,\r\n        filename: nombreArchivo,\r\n        sheetName: title\r\n      })\r\n    } catch (error: any) {\r\n      console.error('Error exportando Excel:', error)\r\n      alert(`Error al exportar: ${error.message}`)\r\n    }\r\n  }\r\n\r\n  if (count === 0) return null\r\n\r\n  // Calcular altura din√°mica para sticky positioning\r\n  // Header tiene aproximadamente 40px de altura\r\n  const headerHeight = 40\r\n  // Banner de filtros activos tiene aproximadamente 40px de altura\r\n  const bannerHeight = filters.size > 0 ? 40 : 0\r\n  // Fila de filtros tiene aproximadamente 48px de altura (py-2 + input)\r\n  const filterRowHeight = 48\r\n  // Top para la fila de filtros = altura del banner + altura del header\r\n  const filterTop = `${bannerHeight + headerHeight}px`\r\n  // Padding del tbody = altura de la fila de filtros + espacio adicional para evitar solapamiento\r\n  const tbodyPaddingTop = `${filterRowHeight + 12}px` // 12px de espacio extra\r\n\r\n  return (\r\n    <div className=\"w-full space-y-2\">\r\n      {/* Header clickeable */}\r\n      <div \r\n        className=\"p-4 rounded-xl border-2 cursor-pointer transition-all hover:opacity-90\"\r\n        style={{\r\n          background: bgColor,\r\n          backdropFilter: 'blur(20px)',\r\n          borderColor: borderColor,\r\n        }}\r\n        onClick={handleToggle}\r\n      >\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\" style={{ color: textColor }}>\r\n            {icon}\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-bold text-lg mb-1\">\r\n                  {title} {displayCount !== count && `(${displayCount} de ${count})`}\r\n                </div>\r\n                <div className=\"text-sm\" style={{ color: textColor, opacity: 0.8 }}>\r\n                  {description}\r\n                </div>\r\n              </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            {/* Bot√≥n de descarga Excel */}\r\n            {isExpanded && filteredRows.length > 0 && (\r\n              <Button\r\n                onClick={handleExportExcel}\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                className=\"mr-2\"\r\n                style={{\r\n                  borderColor: borderColor,\r\n                  color: textColor,\r\n                }}\r\n              >\r\n                <Download className=\"h-4 w-4 mr-1\" />\r\n                Descargar Excel ({filteredRows.length})\r\n              </Button>\r\n            )}\r\n            {allowDelete && isExpanded && (\r\n              <>\r\n                {selectedRows.size > 0 && (\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation()\r\n                      setConfirmAction({\r\n                        type: 'multiple',\r\n                        count: selectedRows.size\r\n                      })\r\n                      setShowConfirmModal(true)\r\n                    }}\r\n                    size=\"sm\"\r\n                    variant=\"destructive\"\r\n                    className=\"mr-2\"\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 mr-1\" />\r\n                    Eliminar seleccionados ({selectedRows.size})\r\n                  </Button>\r\n                )}\r\n                {onDeleteAll && (\r\n                  <Button\r\n                    onClick={(e) => {\r\n                      e.stopPropagation()\r\n                      setConfirmAction({\r\n                        type: 'all',\r\n                        count: count\r\n                      })\r\n                      setShowConfirmModal(true)\r\n                    }}\r\n                    size=\"sm\"\r\n                    variant=\"destructive\"\r\n                    className=\"mr-2\"\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 mr-1\" />\r\n                    Eliminar todos\r\n                  </Button>\r\n                )}\r\n              </>\r\n            )}\r\n            {isExpanded ? (\r\n              <ChevronUp className=\"h-6 w-6\" style={{ color: textColor }} />\r\n            ) : (\r\n              <ChevronDown className=\"h-6 w-6\" style={{ color: textColor }} />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenido expandible */}\r\n      {isExpanded && (\r\n        <div \r\n          className=\"rounded-xl overflow-hidden\"\r\n          style={{\r\n            background: 'rgba(255, 255, 255, 0.05)',\r\n            backdropFilter: 'blur(20px)',\r\n            border: '1px solid rgba(255, 255, 255, 0.1)',\r\n          }}\r\n        >\r\n          {/* Indicador de filtros activos */}\r\n          {filters.size > 0 && (\r\n            <div className=\"px-4 py-2 bg-blue-500/20 border-b border-blue-500/30 flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-2 text-sm text-blue-400\">\r\n                <Search className=\"h-4 w-4\" />\r\n                <span>{filters.size} filtro(s) activo(s) - Mostrando {displayCount} de {rows.length} registros</span>\r\n              </div>\r\n              <Button\r\n                onClick={clearAllFilters}\r\n                size=\"sm\"\r\n                variant=\"ghost\"\r\n                className=\"text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 h-7 px-2\"\r\n              >\r\n                <X className=\"h-3 w-3 mr-1\" />\r\n                Limpiar filtros\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full border-collapse text-xs\">\r\n              <thead>\r\n                {/* Fila de headers */}\r\n                <tr className=\"border-b border-white/10\">\r\n                  {allowDelete && (\r\n                    <th\r\n                      className=\"px-2 py-2 text-center text-xs font-semibold text-gray-300 bg-white/5 whitespace-nowrap sticky left-0\"\r\n                      style={{\r\n                        position: 'sticky',\r\n                        top: 0,\r\n                        zIndex: 12,\r\n                        minWidth: '50px',\r\n                        maxWidth: '50px',\r\n                        background: 'rgba(0, 0, 0, 0.8)',\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={selectedRows.size === filteredRows.length && filteredRows.length > 0}\r\n                        onChange={(e) => {\r\n                          if (e.target.checked) {\r\n                            const allIndices = filteredRows.map((_, idx) => {\r\n                              const originalRowIndex = data.rows.findIndex(r => r === filteredRows[idx])\r\n                              return originalRowIndex\r\n                            }).filter(idx => idx !== -1)\r\n                            setSelectedRows(new Set(allIndices))\r\n                          } else {\r\n                            setSelectedRows(new Set())\r\n                          }\r\n                        }}\r\n                        className=\"w-4 h-4 rounded border-gray-500 bg-gray-800 text-green-500 focus:ring-green-500 focus:ring-2\"\r\n                        onClick={(e) => e.stopPropagation()}\r\n                      />\r\n                    </th>\r\n                  )}\r\n                  {data.headers.map((header, index) => (\r\n                    <th\r\n                      key={index}\r\n                      className=\"px-2 py-2 text-left text-xs font-semibold text-gray-300 bg-white/5 whitespace-nowrap\"\r\n                      style={{\r\n                        position: 'sticky',\r\n                        top: 0,\r\n                        zIndex: 10,\r\n                        minWidth: '120px',\r\n                        maxWidth: '200px',\r\n                      }}\r\n                    >\r\n                      <div className=\"flex items-center gap-1.5\">\r\n                        <span className=\"truncate\">{header}</span>\r\n                        {isEditable(header) && allowEdit && (\r\n                          <span className=\"text-[10px] text-green-400 bg-green-400/20 px-1.5 py-0.5 rounded flex-shrink-0\">\r\n                            Editable\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n                \r\n                {/* Fila de filtros */}\r\n                <tr className=\"border-b border-white/5 bg-white/2\">\r\n                  {allowDelete && (\r\n                    <td\r\n                      className=\"px-2 py-2 sticky left-0\"\r\n                      style={{\r\n                        background: 'rgba(0, 0, 0, 0.9)',\r\n                        zIndex: 11,\r\n                        position: 'sticky',\r\n                        top: filterTop,\r\n                      }}\r\n                    ></td>\r\n                  )}\r\n                  {data.headers.map((header, index) => (\r\n                    <td\r\n                      key={index}\r\n                      className=\"px-1 py-2\"\r\n                      style={{\r\n                        position: 'sticky',\r\n                        top: filterTop,\r\n                        zIndex: 9,\r\n                        background: 'rgba(0, 0, 0, 0.9)',\r\n                      }}\r\n                    >\r\n                      <div className=\"relative\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={filterInputs.get(header) || ''}\r\n                          onChange={(e) => handleFilterChange(header, e.target.value)}\r\n                          placeholder=\"Filtrar...\"\r\n                          className=\"w-full px-2 py-1.5 text-xs bg-gray-800/70 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500\"\r\n                          onClick={(e) => e.stopPropagation()}\r\n                        />\r\n                        {filterInputs.get(header) && (\r\n                          <button\r\n                            onClick={(e) => {\r\n                              e.stopPropagation()\r\n                              handleFilterChange(header, '')\r\n                            }}\r\n                            className=\"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white z-10\"\r\n                          >\r\n                            <X className=\"h-3 w-3\" />\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody style={{ paddingTop: tbodyPaddingTop }}>\r\n                {filteredRows.map((row, rowIndex) => {\r\n                  const originalRowIndex = data.rows.findIndex(r => r === row)\r\n                  const isSelected = selectedRows.has(originalRowIndex)\r\n                  \r\n                  // Determinar colores seg√∫n reglas (solo si es detalle completo)\r\n                  const esDetalleCompleto = sectionKey === 'detalle_completo'\r\n                  const esParticular = esDetalleCompleto && esParticularRow ? esParticularRow(originalRowIndex) : false\r\n                  const esSinHorario = esDetalleCompleto && esSinHorarioRow ? esSinHorarioRow(originalRowIndex) : false\r\n                  const esDuplicado = esDetalleCompleto && esDuplicadoRow ? esDuplicadoRow(originalRowIndex) : false\r\n                  const esResidenteFormativo = esDetalleCompleto && esResidenteFormativoRow ? esResidenteFormativoRow(originalRowIndex) : false\r\n                  \r\n                  // Determinar color de fondo seg√∫n prioridad\r\n                  let rowBgColor = 'transparent'\r\n                  if (esSinHorario) {\r\n                    rowBgColor = 'rgba(239, 68, 68, 0.15)' // Rojo para sin horario\r\n                  } else if (esDuplicado) {\r\n                    rowBgColor = 'rgba(168, 85, 247, 0.15)' // P√∫rpura para duplicados\r\n                  } else if (esParticular) {\r\n                    rowBgColor = 'rgba(251, 191, 36, 0.15)' // Amarillo para sin obra social\r\n                  } else if (esResidenteFormativo) {\r\n                    rowBgColor = 'rgba(59, 130, 246, 0.15)' // Azul para residente formativo\r\n                  }\r\n                  \r\n                  // Si est√° seleccionado, agregar borde\r\n                  if (isSelected) {\r\n                    rowBgColor = rowBgColor === 'transparent' \r\n                      ? 'rgba(34, 197, 94, 0.2)' \r\n                      : rowBgColor.replace('0.15', '0.25')\r\n                  }\r\n                  \r\n                  return (\r\n                    <tr\r\n                      key={originalRowIndex}\r\n                      className=\"border-b transition-colors border-white/5 hover:bg-white/5\"\r\n                      style={{\r\n                        backgroundColor: rowBgColor,\r\n                        borderLeft: isSelected ? '3px solid rgba(34, 197, 94, 0.8)' : undefined\r\n                      }}\r\n                    >\r\n                      {allowDelete && (\r\n                        <td\r\n                          className=\"px-2 py-1.5 text-center sticky left-0\"\r\n                          style={{\r\n                            minWidth: '50px',\r\n                            maxWidth: '50px',\r\n                            background: rowBgColor !== 'transparent' ? rowBgColor : 'rgba(0, 0, 0, 0.5)',\r\n                            zIndex: 8,\r\n                          }}\r\n                          onClick={(e) => e.stopPropagation()}\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={isSelected}\r\n                            onChange={(e) => {\r\n                              const newSelected = new Set(selectedRows)\r\n                              if (e.target.checked) {\r\n                                newSelected.add(originalRowIndex)\r\n                              } else {\r\n                                newSelected.delete(originalRowIndex)\r\n                              }\r\n                              setSelectedRows(newSelected)\r\n                            }}\r\n                            className=\"w-4 h-4 rounded border-gray-500 bg-gray-800 text-green-500 focus:ring-green-500 focus:ring-2\"\r\n                          />\r\n                        </td>\r\n                      )}\r\n                      {data.headers.map((header, colIndex) => {\r\n                        const value = row[header] ?? null\r\n                        const editable = isEditable(header) && allowEdit\r\n\r\n                        return (\r\n                          <td\r\n                            key={colIndex}\r\n                            className=\"px-2 py-1.5 text-xs text-gray-300\"\r\n                            style={{\r\n                              minWidth: '120px',\r\n                              maxWidth: '200px',\r\n                              position: 'relative',\r\n                              zIndex: 1,\r\n                            }}\r\n                          >\r\n                            {editable && onCellUpdate ? (\r\n                              <InlineEditCell\r\n                                value={value || ''}\r\n                                onSave={async (newValue) => {\r\n                                  await onCellUpdate(originalRowIndex, header, newValue)\r\n                                }}\r\n                                columnName={header}\r\n                              />\r\n                            ) : (\r\n                              <span className=\"truncate block\">{value || '-'}</span>\r\n                            )}\r\n                          </td>\r\n                        )\r\n                      })}\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Modal de confirmaci√≥n */}\r\n      <ConfirmModal\r\n        isOpen={showConfirmModal}\r\n        onClose={() => {\r\n          setShowConfirmModal(false)\r\n          setConfirmAction(null)\r\n        }}\r\n        onConfirm={async () => {\r\n          if (!confirmAction) return\r\n\r\n          try {\r\n            if (confirmAction.type === 'all' && onDeleteAll) {\r\n              // Eliminar todos\r\n              await onDeleteAll()\r\n              setSelectedRows(new Set())\r\n            } else if (confirmAction.type === 'multiple' && onDeleteRow) {\r\n              // Eliminar seleccionados\r\n              // IMPORTANTE: Obtener los √≠ndices originales ANTES de empezar a eliminar\r\n              // porque despu√©s de cada eliminaci√≥n, los √≠ndices cambian al recargar los datos\r\n              const indicesArray = Array.from(selectedRows).sort((a, b) => b - a) // Orden inverso\r\n              \r\n              // Obtener los fila_excel de todas las filas seleccionadas ANTES de eliminar\r\n              const filasExcel = indicesArray\r\n                .map(index => {\r\n                  const row = data.rows[index]\r\n                  return row ? (row as any).__fila_excel : null\r\n                })\r\n                .filter((filaExcel): filaExcel is number => filaExcel !== null && filaExcel !== undefined)\r\n              \r\n              // Eliminar cada fila usando su √≠ndice original\r\n              // El handleDeleteRow ya maneja la recarga de datos despu√©s de cada eliminaci√≥n\r\n              // Pero como estamos usando fila_excel, no importa si los √≠ndices cambian\r\n              for (const index of indicesArray) {\r\n                // Verificar que la fila todav√≠a existe antes de intentar eliminarla\r\n                if (index < data.rows.length) {\r\n                  await onDeleteRow(index)\r\n                }\r\n              }\r\n              setSelectedRows(new Set())\r\n            } else if (confirmAction.type === 'single' && confirmAction.rowIndex !== undefined && onDeleteRow) {\r\n              // Eliminar uno\r\n              await onDeleteRow(confirmAction.rowIndex)\r\n              const newSelected = new Set(selectedRows)\r\n              newSelected.delete(confirmAction.rowIndex)\r\n              setSelectedRows(newSelected)\r\n            }\r\n          } catch (error) {\r\n            console.error('Error eliminando filas:', error)\r\n          }\r\n        }}\r\n        title=\"Confirmar eliminaci√≥n\"\r\n        message={\r\n          confirmAction?.type === 'all'\r\n            ? `¬øEst√° seguro de que desea eliminar todos los ${confirmAction.count} registros? Esta acci√≥n no se puede deshacer.`\r\n            : confirmAction?.type === 'multiple'\r\n            ? `¬øEst√° seguro de que desea eliminar los ${confirmAction.count} registros seleccionados? Esta acci√≥n no se puede deshacer.`\r\n            : '¬øEst√° seguro de que desea eliminar esta fila? Esta acci√≥n no se puede deshacer.'\r\n        }\r\n        confirmText=\"Eliminar\"\r\n        cancelText=\"Cancelar\"\r\n        type=\"danger\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n","'use client'\n\nimport { useState, useMemo, useCallback, useEffect, useRef } from 'react'\nimport { ExcelRow, ExcelData } from '@/lib/excel-reader'\nimport { InlineEditCell } from './InlineEditCell'\nimport { ExpandableSection } from './ExpandableSection'\nimport { CheckCircle2, AlertCircle, Trash2, Clock, UserX, Database } from 'lucide-react'\nimport { esParticular, tieneHorario, obtenerIndicesDuplicados, esResidenteHorarioFormativo } from '@/lib/utils'\nimport { supabase } from '@/lib/supabase/client'\nimport { Medico } from '@/lib/types'\n\ninterface ExcelDataTableProps {\n  data: ExcelData\n  especialidad?: 'Pediatr√≠a' | 'Ginecolog√≠a'\n  onCellUpdate?: (rowIndex: number, column: string, newValue: any) => Promise<void>\n  onDeleteRow?: (rowIndex: number) => Promise<void>\n  liquidacionId?: string\n  mes?: number\n  anio?: number\n}\n\nexport function ExcelDataTable({ data, especialidad, onCellUpdate, onDeleteRow, liquidacionId, mes, anio }: ExcelDataTableProps) {\n  const [rows, setRows] = useState<ExcelRow[]>(data.rows)\n  const [saving, setSaving] = useState<{ [key: string]: boolean }>({})\n  const [medicos, setMedicos] = useState<Medico[]>([])\n  const [medicosLoading, setMedicosLoading] = useState(false)\n\n  // Sincronizar rows cuando data cambia - MEJORADO para detectar cambios en el contenido\n  useEffect(() => {\n    // Actualizar siempre que cambie data.rows (no solo la longitud)\n    // Usar JSON.stringify para comparaci√≥n profunda, pero solo si cambi√≥ la longitud o referencia\n    setRows(data.rows)\n  }, [data.rows])\n\n  // Cargar m√©dicos una sola vez cuando se monta el componente\n  useEffect(() => {\n    if (!especialidad) {\n      setMedicos([])\n      setMedicosLoading(false)\n      return\n    }\n\n    async function loadMedicos() {\n      try {\n        setMedicosLoading(true)\n        // Guardar especialidad en variable local para TypeScript\n        const especialidadValue = especialidad\n        if (!especialidadValue) return\n\n        const { data: medicosData, error } = await supabase\n          .from('medicos')\n          .select('*')\n          .eq('especialidad', especialidadValue)\n          .eq('activo', true)\n\n        if (error) throw error\n        setMedicos(medicosData || [])\n      } catch (error) {\n        console.error('Error loading m√©dicos:', error)\n      } finally {\n        setMedicosLoading(false)\n      }\n    }\n\n    loadMedicos()\n  }, [especialidad])\n\n  // Crear mapa optimizado de m√©dicos por nombre (b√∫squeda r√°pida)\n  const mapaMedicos = useMemo(() => {\n    const mapa = new Map<string, Medico>()\n    medicos.forEach(medico => {\n      // Normalizar nombre para b√∫squeda (sin acentos, min√∫sculas)\n      const nombreNormalizado = medico.nombre\n        .toLowerCase()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .trim()\n      mapa.set(nombreNormalizado, medico)\n      \n      // Tambi√©n agregar variaciones del nombre (solo apellido, etc.)\n      const partes = medico.nombre.split(',').map(p => p.trim())\n      if (partes.length > 0) {\n        const apellidoNormalizado = partes[0]\n          .toLowerCase()\n          .normalize('NFD')\n          .replace(/[\\u0300-\\u036f]/g, '')\n          .trim()\n        if (apellidoNormalizado && !mapa.has(apellidoNormalizado)) {\n          mapa.set(apellidoNormalizado, medico)\n        }\n      }\n    })\n    return mapa\n  }, [medicos])\n\n  // Funci√≥n optimizada para buscar m√©dico por nombre\n  const buscarMedico = useCallback((nombre: string | null | undefined): Medico | null => {\n    if (!nombre || typeof nombre !== 'string') return null\n    \n    const nombreNormalizado = nombre\n      .toLowerCase()\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, '')\n      .trim()\n    \n    // Buscar coincidencia exacta\n    if (mapaMedicos.has(nombreNormalizado)) {\n      return mapaMedicos.get(nombreNormalizado) || null\n    }\n    \n    // Buscar coincidencia parcial (el nombre contiene el apellido del m√©dico)\n    for (const [key, medico] of mapaMedicos.entries()) {\n      if (nombreNormalizado.includes(key) || key.includes(nombreNormalizado)) {\n        return medico\n      }\n    }\n    \n    return null\n  }, [mapaMedicos])\n\n  const handleCellSave = async (rowIndex: number, column: string, newValue: any) => {\n    const key = `${rowIndex}-${column}`\n    setSaving(prev => ({ ...prev, [key]: true }))\n\n    try {\n      // Actualizar el estado local\n      const updatedRows = [...rows]\n      updatedRows[rowIndex] = {\n        ...updatedRows[rowIndex],\n        [column]: newValue\n      }\n      setRows(updatedRows)\n\n      // Si hay un callback, llamarlo\n      if (onCellUpdate) {\n        await onCellUpdate(rowIndex, column, newValue)\n      }\n    } catch (error) {\n      console.error('Error al guardar celda:', error)\n      // Revertir el cambio en caso de error\n      setRows(data.rows)\n      throw error\n    } finally {\n      setSaving(prev => ({ ...prev, [key]: false }))\n    }\n  }\n\n  const isEditable = (column: string): boolean => {\n    const columnLower = column.toLowerCase().trim()\n    return columnLower === 'cliente' || columnLower === 'responsable'\n  }\n\n  // Detectar filas con PARTICULARES (sin obra social) - b√∫squeda flexible\n  const filasParticulares = useMemo(() => {\n    const indices: Set<number> = new Set()\n    \n    // Buscar columna de cliente/obra social con m√∫ltiples variaciones\n    const clienteIndex = data.headers.findIndex(h => {\n      const hLower = h.toLowerCase().trim()\n      return hLower === 'cliente' || \n             hLower.includes('obra social') || \n             hLower === 'obra social' ||\n             hLower === 'obra' ||\n             (hLower.includes('obra') && hLower.includes('social'))\n    })\n    \n    if (clienteIndex === -1) {\n      console.warn('[ExcelDataTable] No se encontr√≥ columna de Cliente/Obra Social')\n      return indices\n    }\n    \n    const headerCliente = data.headers[clienteIndex]\n    \n    rows.forEach((row, index) => {\n      const cliente = row[headerCliente]\n      if (esParticular(cliente)) {\n        indices.add(index)\n      }\n    })\n    \n    console.log(`[ExcelDataTable] Filas sin obra social detectadas: ${indices.size}`)\n    return indices\n  }, [rows, data.headers])\n\n  // Detectar filas sin horario de inicio\n  const filasSinHorario = useMemo(() => {\n    const indices: Set<number> = new Set()\n    \n    rows.forEach((row, index) => {\n      if (!tieneHorario(row, data.headers)) {\n        indices.add(index)\n      }\n    })\n    \n    return indices\n  }, [rows, data.headers])\n\n  // Detectar filas duplicadas\n  const filasDuplicadas = useMemo(() => {\n    return obtenerIndicesDuplicados(rows, data.headers)\n  }, [rows, data.headers])\n\n  // Detectar filas con residentes en horario formativo (optimizado)\n  const filasResidenteHorarioFormativo = useMemo(() => {\n    const indices: Set<number> = new Set()\n    \n    // Si no hay especialidad o no hay m√©dicos cargados, retornar vac√≠o\n    if (!especialidad || medicos.length === 0 || medicosLoading) {\n      return indices\n    }\n\n    // Buscar √≠ndices de columnas relevantes una sola vez\n    const responsableIndex = data.headers.findIndex(h => {\n      const hLower = h.toLowerCase().trim()\n      return hLower === 'responsable' || hLower.includes('responsable') || hLower.includes('medico')\n    })\n    const fechaIndex = data.headers.findIndex(h => {\n      const hLower = h.toLowerCase().trim()\n      return hLower === 'fecha' || hLower.includes('fecha') || hLower.includes('fecha visita')\n    })\n    const horaIndex = data.headers.findIndex(h => {\n      const hLower = h.toLowerCase().trim()\n      return hLower.includes('hora') || hLower.includes('horario') || hLower.includes('inicio')\n    })\n\n    // Si no encontramos las columnas necesarias, retornar vac√≠o\n    if (responsableIndex === -1 || fechaIndex === -1 || horaIndex === -1) {\n      return indices\n    }\n\n    // Procesar filas\n    rows.forEach((row, index) => {\n      const responsable = row[data.headers[responsableIndex]]\n      const fecha = row[data.headers[fechaIndex]]\n      const hora = row[data.headers[horaIndex]]\n\n      // Buscar m√©dico\n      const medico = buscarMedico(responsable)\n      if (!medico || !medico.es_residente) {\n        return // No es residente, continuar\n      }\n\n      // Verificar si est√° en horario formativo\n      if (esResidenteHorarioFormativo(fecha, hora, medico.es_residente)) {\n        indices.add(index)\n      }\n    })\n\n    return indices\n  }, [rows, data.headers, especialidad, medicos, medicosLoading, buscarMedico])\n\n  // Contar problemas\n  const cantidadParticulares = filasParticulares.size\n  const cantidadSinHorario = filasSinHorario.size\n  const cantidadDuplicados = filasDuplicadas.size\n  const cantidadResidenteHorarioFormativo = filasResidenteHorarioFormativo.size\n\n  // Funci√≥n para eliminar una fila (usa callback del padre si est√° disponible)\n  // NOTA: La confirmaci√≥n se maneja en ExpandableSection con el modal personalizado\n  const handleDeleteRowLocal = useCallback(async (rowIndex: number) => {\n    if (onDeleteRow) {\n      // Usar callback del padre (elimina de BD y actualiza ExcelData)\n      // La confirmaci√≥n ya se hizo en ExpandableSection\n      await onDeleteRow(rowIndex)\n      // El padre actualizar√° excelData, pero tambi√©n actualizamos local para UI inmediata\n      const updatedRows = rows.filter((_, index) => index !== rowIndex)\n      setRows(updatedRows)\n      data.rows = updatedRows\n    } else {\n      // Fallback: solo actualizar local (modo legacy, sin confirmaci√≥n porque no hay modal)\n    const updatedRows = rows.filter((_, index) => index !== rowIndex)\n    setRows(updatedRows)\n      data.rows = updatedRows\n    }\n  }, [rows, data, onDeleteRow])\n\n  // Funciones para eliminar m√∫ltiples filas (optimizado: batch)\n  const handleDeleteRows = useCallback(async (indices: Set<number>) => {\n    if (onDeleteRow) {\n      // Eliminar en batch usando el callback del padre\n      const indicesArray = Array.from(indices).sort((a, b) => b - a) // Orden inverso para evitar problemas de √≠ndices\n      for (const index of indicesArray) {\n        await onDeleteRow(index)\n      }\n    } else {\n      // Fallback: solo actualizar local\n      const updatedRows = rows.filter((_, index) => !indices.has(index))\n      setRows(updatedRows)\n      data.rows = updatedRows\n    }\n  }, [rows, data, onDeleteRow])\n\n  // Obtener filas filtradas por tipo\n  const filasParticularesList = useMemo(() => {\n    return rows.filter((row, index) => filasParticulares.has(index))\n  }, [rows, filasParticulares])\n\n  const filasSinHorarioList = useMemo(() => {\n    return rows.filter((row, index) => filasSinHorario.has(index))\n  }, [rows, filasSinHorario])\n\n  const filasDuplicadasList = useMemo(() => {\n    return rows.filter((row, index) => filasDuplicadas.has(index))\n  }, [rows, filasDuplicadas])\n\n  const filasResidenteFormativoList = useMemo(() => {\n    return rows.filter((row, index) => filasResidenteHorarioFormativo.has(index))\n  }, [rows, filasResidenteHorarioFormativo])\n\n  // Funciones para eliminar todos de cada secci√≥n\n  const handleDeleteAllSinHorario = useCallback(async () => {\n    await handleDeleteRows(filasSinHorario)\n  }, [filasSinHorario, handleDeleteRows])\n\n  const handleDeleteAllDuplicados = useCallback(async () => {\n    await handleDeleteRows(filasDuplicadas)\n  }, [filasDuplicadas, handleDeleteRows])\n\n  const handleDeleteAllResidenteFormativo = useCallback(async () => {\n    await handleDeleteRows(filasResidenteHorarioFormativo)\n  }, [filasResidenteHorarioFormativo, handleDeleteRows])\n\n  return (\n    <div className=\"w-full space-y-4\">\n      {/* Informaci√≥n del per√≠odo */}\n      {data.periodo && (\n        <div \n          className=\"p-4 rounded-xl\"\n          style={{\n            background: 'rgba(255, 255, 255, 0.1)',\n            backdropFilter: 'blur(20px)',\n            border: '1px solid rgba(34, 197, 94, 0.3)',\n          }}\n        >\n          <div className=\"flex items-center gap-2 text-green-400\">\n            <CheckCircle2 className=\"h-5 w-5\" />\n            <span className=\"font-semibold\">Per√≠odo analizado:</span>\n            <span className=\"text-white\">\n              {data.periodo.desde} - {data.periodo.hasta}\n            </span>\n          </div>\n        </div>\n      )}\n\n      {/* Secci√≥n expandible: Registros sin obra social */}\n      <ExpandableSection\n        title={`‚ö†Ô∏è ${cantidadParticulares} registro${cantidadParticulares > 1 ? 's' : ''} sin obra social detectado${cantidadParticulares > 1 ? 's' : ''}`}\n        count={cantidadParticulares}\n        description='Estos registros deben ser revisados. Si son pacientes particulares, edite la columna \"Cliente\" y agregue: \"042 - PARTICULARES\"'\n        icon={<AlertCircle className=\"h-6 w-6 flex-shrink-0\" />}\n        bgColor=\"rgba(251, 191, 36, 0.15)\"\n        borderColor=\"rgba(251, 191, 36, 0.5)\"\n        textColor=\"#fbbf24\"\n        rows={filasParticularesList}\n        data={data}\n        onCellUpdate={onCellUpdate}\n        allowEdit={true}\n        mes={mes}\n        anio={anio}\n        sectionKey=\"sin_obra_social\"\n      />\n\n      {/* Secci√≥n expandible: Registros sin horario */}\n      <ExpandableSection\n        title={`‚ö†Ô∏è ${cantidadSinHorario} registro${cantidadSinHorario > 1 ? 's' : ''} sin horario de inicio detectado${cantidadSinHorario > 1 ? 's' : ''}`}\n        count={cantidadSinHorario}\n        description=\"Estos registros indican que el paciente no se atendi√≥. Deben ser eliminados.\"\n        icon={<Clock className=\"h-6 w-6 flex-shrink-0\" />}\n        bgColor=\"rgba(239, 68, 68, 0.15)\"\n        borderColor=\"rgba(239, 68, 68, 0.5)\"\n        textColor=\"#ef4444\"\n        rows={filasSinHorarioList}\n        data={data}\n        onDeleteRow={handleDeleteRowLocal}\n        onDeleteAll={handleDeleteAllSinHorario}\n        allowDelete={true}\n        mes={mes}\n        anio={anio}\n        sectionKey=\"sin_horario\"\n      />\n\n      {/* Secci√≥n expandible: Registros duplicados */}\n      <ExpandableSection\n        title={`‚ö†Ô∏è ${cantidadDuplicados} registro${cantidadDuplicados > 1 ? 's' : ''} duplicado${cantidadDuplicados > 1 ? 's' : ''} detectado${cantidadDuplicados > 1 ? 's' : ''}`}\n        count={cantidadDuplicados}\n        description=\"Se detectaron filas completamente iguales (misma fecha, misma hora, mismo todo). Revise y elimine los duplicados si es necesario.\"\n        icon={<AlertCircle className=\"h-6 w-6 flex-shrink-0\" />}\n        bgColor=\"rgba(168, 85, 247, 0.15)\"\n        borderColor=\"rgba(168, 85, 247, 0.5)\"\n        textColor=\"#a855f7\"\n        rows={filasDuplicadasList}\n        data={data}\n        onDeleteRow={handleDeleteRowLocal}\n        onDeleteAll={handleDeleteAllDuplicados}\n        allowDelete={true}\n        mes={mes}\n        anio={anio}\n        sectionKey=\"duplicados\"\n      />\n\n      {/* Secci√≥n expandible: Residentes en horario formativo */}\n      <ExpandableSection\n        title={`‚ÑπÔ∏è ${cantidadResidenteHorarioFormativo} consulta${cantidadResidenteHorarioFormativo > 1 ? 's' : ''} de residente${cantidadResidenteHorarioFormativo > 1 ? 's' : ''} en horario formativo detectada${cantidadResidenteHorarioFormativo > 1 ? 's' : ''}`}\n        count={cantidadResidenteHorarioFormativo}\n        description=\"Estas consultas son de residentes realizadas entre lunes a s√°bado de 07:00 a 15:00. NO se deben pagar seg√∫n las reglas del sistema.\"\n        icon={<UserX className=\"h-6 w-6 flex-shrink-0\" />}\n        bgColor=\"rgba(59, 130, 246, 0.15)\"\n        borderColor=\"rgba(59, 130, 246, 0.5)\"\n        textColor=\"#3b82f6\"\n        rows={filasResidenteFormativoList}\n        data={data}\n        onDeleteRow={handleDeleteRowLocal}\n        onDeleteAll={handleDeleteAllResidenteFormativo}\n        allowDelete={true}\n        mes={mes}\n        anio={anio}\n        sectionKey=\"residente_formativo\"\n      />\n\n      {/* 5to recuadro: Detalle completo */}\n      <ExpandableSection\n        title={`üìä Ver detalle completo (${rows.length} registros)`}\n        count={rows.length}\n        description=\"Muestra todos los registros del Excel para revisi√≥n completa con colores seg√∫n reglas.\"\n        icon={<Database className=\"h-6 w-6 flex-shrink-0\" />}\n        bgColor=\"rgba(34, 197, 94, 0.15)\"\n        borderColor=\"rgba(34, 197, 94, 0.5)\"\n        textColor=\"#22c55e\"\n        rows={rows}\n        data={data}\n        onCellUpdate={onCellUpdate}\n        onDeleteRow={handleDeleteRowLocal}\n        allowEdit={true}\n        allowDelete={true}\n        mes={mes}\n        anio={anio}\n        sectionKey=\"detalle_completo\"\n        esParticularRow={(rowIndex) => filasParticulares.has(rowIndex)}\n        esSinHorarioRow={(rowIndex) => filasSinHorario.has(rowIndex)}\n        esDuplicadoRow={(rowIndex) => filasDuplicadas.has(rowIndex)}\n        esResidenteFormativoRow={(rowIndex) => filasResidenteHorarioFormativo.has(rowIndex)}\n      />\n      <div className=\"text-sm text-gray-400\">\n        Total de filas: <span className=\"text-green-400 font-semibold\">{rows.length}</span>\n        {' ‚Ä¢ '}\n        Columnas: <span className=\"text-green-400 font-semibold\">{data.headers.length}</span>\n        {cantidadParticulares > 0 && (\n          <>\n            {' ‚Ä¢ '}\n            Sin obra social: <span className=\"text-yellow-400 font-semibold\">{cantidadParticulares}</span>\n          </>\n        )}\n        {cantidadSinHorario > 0 && (\n          <>\n            {' ‚Ä¢ '}\n            Sin horario: <span className=\"text-red-400 font-semibold\">{cantidadSinHorario}</span>\n          </>\n        )}\n        {cantidadDuplicados > 0 && (\n          <>\n            {' ‚Ä¢ '}\n            Duplicados: <span className=\"text-purple-400 font-semibold\">{cantidadDuplicados}</span>\n          </>\n        )}\n        {cantidadResidenteHorarioFormativo > 0 && (\n          <>\n            {' ‚Ä¢ '}\n            Residente formativo: <span className=\"text-blue-400 font-semibold\">{cantidadResidenteHorarioFormativo}</span>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['ellipse', { cx: '12', cy: '5', rx: '9', ry: '3', key: 'msslwz' }],\n  ['path', { d: 'M3 5V19A9 3 0 0 0 21 19V5', key: '1wlel7' }],\n  ['path', { d: 'M3 12A9 3 0 0 0 21 12', key: 'mv7ke4' }],\n];\n\n/**\n * @component @name Database\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8ZWxsaXBzZSBjeD0iMTIiIGN5PSI1IiByeD0iOSIgcnk9IjMiIC8+CiAgPHBhdGggZD0iTTMgNVYxOUE5IDMgMCAwIDAgMjEgMTlWNSIgLz4KICA8cGF0aCBkPSJNMyAxMkE5IDMgMCAwIDAgMjEgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/database\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Database = createLucideIcon('database', __iconNode);\n\nexport default Database;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm18 15-6-6-6 6', key: '153udz' }]];\n\n/**\n * @component @name ChevronUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTggMTUtNi02LTYgNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronUp = createLucideIcon('chevron-up', __iconNode);\n\nexport default ChevronUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n];\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('user-x', __iconNode);\n\nexport default UserX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm6 9 6 6 6-6', key: 'qrunsl' }]];\n\n/**\n * @component @name ChevronDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiA5IDYgNiA2LTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chevron-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronDown = createLucideIcon('chevron-down', __iconNode);\n\nexport default ChevronDown;\n"],"names":[],"mappings":"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","ignoreList":[4,5,6,7,8]}