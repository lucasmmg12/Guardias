{"version":3,"sources":["../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/pdf-exporter-resumen-medico.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/app/ginecologia/resumenes/page.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/ginecologia-resumenes.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/pdf-exporter-resumen-prestador.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/eye.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/history.ts"],"sourcesContent":["import jsPDF from 'jspdf'\r\nimport autoTable from 'jspdf-autotable'\r\nimport { ResumenPorMedico } from './ginecologia-resumenes'\r\nimport { calcularNumeroLiquidacion } from './utils'\r\n\r\nconst MESES = [\r\n  'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\r\n  'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\r\n]\r\n\r\ninterface PDFResumenMedicoOptions {\r\n  resumenes: ResumenPorMedico[]\r\n  mes: number\r\n  anio: number\r\n  medicoNombre: string\r\n}\r\n\r\nexport function exportPDFResumenPorMedico({\r\n  resumenes,\r\n  mes,\r\n  anio,\r\n  medicoNombre\r\n}: PDFResumenMedicoOptions) {\r\n  const doc = new jsPDF({\r\n    orientation: 'portrait',\r\n    unit: 'mm',\r\n    format: 'a4'\r\n  })\r\n\r\n  const marginLeft = 15\r\n  const marginRight = 15\r\n  const marginTop = 20\r\n  const pageWidth = 210\r\n  const pageHeight = 297\r\n  const usableWidth = pageWidth - marginLeft - marginRight\r\n\r\n  let currentY = marginTop\r\n\r\n  // Calcular n√∫mero de liquidaci√≥n\r\n  const numeroLiquidacion = calcularNumeroLiquidacion(mes, anio)\r\n\r\n  // ============================================\r\n  // LOGO Y TEXTO\r\n  // ============================================\r\n  doc.setFontSize(11)\r\n  doc.setTextColor(34, 197, 94)\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Grow Labs', marginLeft, currentY)\r\n  \r\n  doc.setFontSize(7.5)\r\n  doc.setTextColor(100, 100, 100)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text('Sistema de Liquidaciones de Guardias', marginLeft, currentY + 5)\r\n\r\n  // ============================================\r\n  // T√çTULO DEL M√âDICO\r\n  // ============================================\r\n  currentY += 15\r\n  doc.setFontSize(16)\r\n  doc.setTextColor(0, 0, 0)\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text(medicoNombre.toUpperCase(), marginLeft, currentY)\r\n\r\n  // ============================================\r\n  // CUADRO DE INFORMACI√ìN\r\n  // ============================================\r\n  currentY += 10\r\n  const boxWidth = 90\r\n  const boxX = pageWidth - marginRight - boxWidth\r\n  const boxStartY = currentY\r\n  const rowHeight = 7.5\r\n  const labelWidth = 42\r\n\r\n  // Fondo del cuadro\r\n  doc.setFillColor(240, 240, 240)\r\n  doc.setDrawColor(200, 200, 200)\r\n  doc.roundedRect(boxX, boxStartY, boxWidth, rowHeight * 4, 2, 2, 'FD')\r\n\r\n  let boxY = boxStartY + rowHeight / 2\r\n\r\n  // Mes\r\n  doc.setFontSize(8.5)\r\n  doc.setTextColor(0, 0, 0)\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Mes:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(MESES[mes - 1], boxX + 4.5 + labelWidth, boxY)\r\n  boxY += rowHeight\r\n\r\n  // A√±o\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('A√±o:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(String(anio), boxX + 4.5 + labelWidth, boxY)\r\n  boxY += rowHeight\r\n\r\n  // N√∫mero de Liquidaci√≥n\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Liq:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(String(numeroLiquidacion), boxX + 4.5 + labelWidth, boxY)\r\n  boxY += rowHeight\r\n\r\n  // Fecha de generaci√≥n\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Generado:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  const fechaGen = new Date().toLocaleDateString('es-AR')\r\n  doc.text(fechaGen, boxX + 4.5 + labelWidth, boxY)\r\n\r\n  // ============================================\r\n  // TABLA DE VALORES\r\n  // ============================================\r\n  currentY = boxStartY + rowHeight * 4 + 10\r\n\r\n  // Preparar datos para la tabla\r\n  const tableData = resumenes.map(r => [\r\n    r.obra_social,\r\n    String(r.cantidad),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(r.valor_unitario),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(r.total)\r\n  ])\r\n\r\n  // Agregar fila de totales\r\n  const totalCantidad = resumenes.reduce((sum, r) => sum + r.cantidad, 0)\r\n  const totalMonto = resumenes.reduce((sum, r) => sum + r.total, 0)\r\n  tableData.push([\r\n    'TOTAL',\r\n    String(totalCantidad),\r\n    '',\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(totalMonto)\r\n  ])\r\n\r\n  // Headers\r\n  const headers = ['Obra social', 'Cantidad', 'Valor unitario', 'Total']\r\n\r\n  // Anchos de columna\r\n  const columnWidths = [70, 30, 40, 40] // Suma = 180mm\r\n\r\n  // Generar tabla\r\n  autoTable(doc, {\r\n    startY: currentY,\r\n    head: [headers],\r\n    body: tableData,\r\n    theme: 'striped',\r\n    headStyles: {\r\n      fillColor: [34, 197, 94],\r\n      textColor: [255, 255, 255],\r\n      fontStyle: 'bold',\r\n      fontSize: 9,\r\n      halign: 'left'\r\n    },\r\n    bodyStyles: {\r\n      fontSize: 8,\r\n      textColor: [0, 0, 0],\r\n      cellPadding: 2,\r\n      halign: 'left'\r\n    },\r\n    columnStyles: {\r\n      0: { cellWidth: columnWidths[0], fontStyle: 'bold' },\r\n      1: { cellWidth: columnWidths[1], halign: 'right' },\r\n      2: { cellWidth: columnWidths[2], halign: 'right' },\r\n      3: { cellWidth: columnWidths[3], halign: 'right', fontStyle: 'bold' }\r\n    },\r\n    styles: {\r\n      lineColor: [220, 220, 220],\r\n      lineWidth: 0.1,\r\n      valign: 'middle'\r\n    },\r\n    margin: { left: marginLeft, right: marginRight },\r\n    tableWidth: usableWidth,\r\n    showHead: 'everyPage',\r\n    pageBreak: 'auto',\r\n    rowPageBreak: 'avoid',\r\n    didParseCell: (data: any) => {\r\n      // Resaltar fila de totales\r\n      if (data.row.index === tableData.length - 1) {\r\n        data.cell.styles.fillColor = [240, 240, 240]\r\n        data.cell.styles.fontStyle = 'bold'\r\n      }\r\n    }\r\n  })\r\n\r\n  // ============================================\r\n  // FOOTER\r\n  // ============================================\r\n  const pageCount = (doc as any).getNumberOfPages()\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    doc.setPage(i)\r\n    doc.setFontSize(7)\r\n    doc.setTextColor(150, 150, 150)\r\n    doc.setFont('helvetica', 'italic')\r\n    doc.text(\r\n      `P√°gina ${i} de ${pageCount} - Powered by Grow Labs üå±`,\r\n      pageWidth / 2,\r\n      pageHeight - 10,\r\n      { align: 'center' }\r\n    )\r\n  }\r\n\r\n  // ============================================\r\n  // GUARDAR PDF\r\n  // ============================================\r\n  const nombreArchivo = `Resumen_${medicoNombre.replace(/[^a-zA-Z0-9]/g, '_')}_${MESES[mes - 1]}_${anio}.pdf`\r\n  doc.save(nombreArchivo)\r\n}\r\n\r\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { supabase } from '@/lib/supabase/client'\r\nimport { calcularResumenPorMedico, calcularResumenPorPrestador, ResumenPorMedico, ResumenPorPrestador } from '@/lib/ginecologia-resumenes'\r\nimport { exportPDFResumenPorMedico } from '@/lib/pdf-exporter-resumen-medico'\r\nimport { exportPDFResumenPorPrestador } from '@/lib/pdf-exporter-resumen-prestador'\r\nimport { LiquidacionGuardia } from '@/lib/types'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowLeft, FileDown, Download, History, Eye } from 'lucide-react'\r\n\r\nconst MESES = [\r\n  { value: 1, label: 'Enero' },\r\n  { value: 2, label: 'Febrero' },\r\n  { value: 3, label: 'Marzo' },\r\n  { value: 4, label: 'Abril' },\r\n  { value: 5, label: 'Mayo' },\r\n  { value: 6, label: 'Junio' },\r\n  { value: 7, label: 'Julio' },\r\n  { value: 8, label: 'Agosto' },\r\n  { value: 9, label: 'Septiembre' },\r\n  { value: 10, label: 'Octubre' },\r\n  { value: 11, label: 'Noviembre' },\r\n  { value: 12, label: 'Diciembre' },\r\n]\r\n\r\nexport default function ResumenesGinecologiaPage() {\r\n  const router = useRouter()\r\n  const [mes, setMes] = useState(new Date().getMonth() + 1)\r\n  const [anio, setAnio] = useState(new Date().getFullYear())\r\n  const [resumenesPorMedico, setResumenesPorMedico] = useState<Map<string, ResumenPorMedico[]>>(new Map())\r\n  const [resumenesPorPrestador, setResumenesPorPrestador] = useState<ResumenPorPrestador[]>([])\r\n  const [historial, setHistorial] = useState<LiquidacionGuardia[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [loadingHistorial, setLoadingHistorial] = useState(false)\r\n  const [tabActiva, setTabActiva] = useState<'medicos' | 'prestadores' | 'historial'>('medicos')\r\n  const [liquidacionExpandida, setLiquidacionExpandida] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    if (tabActiva === 'historial') {\r\n      cargarHistorial()\r\n    } else {\r\n      cargarResumenes()\r\n    }\r\n  }, [mes, anio, tabActiva])\r\n\r\n  async function cargarResumenes() {\r\n    setLoading(true)\r\n    try {\r\n      // Calcular resumen por prestador (incluye todos los m√©dicos)\r\n      const resumenPrestadores = await calcularResumenPorPrestador(mes, anio)\r\n      setResumenesPorPrestador(resumenPrestadores)\r\n\r\n      // Calcular resumen por m√©dico (agrupar por m√©dico)\r\n      const resumenMedicos = await calcularResumenPorMedico(mes, anio)\r\n      \r\n      // Agrupar por m√©dico\r\n      const resumenesPorMedicoMap = new Map<string, ResumenPorMedico[]>()\r\n      resumenMedicos.forEach(resumen => {\r\n        const medicoId = resumen.medico_id || 'sin-id'\r\n        if (!resumenesPorMedicoMap.has(medicoId)) {\r\n          resumenesPorMedicoMap.set(medicoId, [])\r\n        }\r\n        resumenesPorMedicoMap.get(medicoId)!.push(resumen)\r\n      })\r\n      \r\n      setResumenesPorMedico(resumenesPorMedicoMap)\r\n    } catch (error) {\r\n      console.error('Error cargando res√∫menes:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  async function cargarHistorial() {\r\n    setLoadingHistorial(true)\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('liquidaciones_guardia')\r\n        .select('*')\r\n        .eq('especialidad', 'Ginecolog√≠a')\r\n        .order('anio', { ascending: false })\r\n        .order('mes', { ascending: false })\r\n\r\n      if (error) throw error\r\n\r\n      setHistorial((data as LiquidacionGuardia[]) || [])\r\n    } catch (error) {\r\n      console.error('Error cargando historial:', error)\r\n    } finally {\r\n      setLoadingHistorial(false)\r\n    }\r\n  }\r\n\r\n  function formatearMoneda(valor: number): string {\r\n    return new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(valor)\r\n  }\r\n\r\n  function handleExportarPDFMedico(medicoNombre: string, resumenes: ResumenPorMedico[]) {\r\n    exportPDFResumenPorMedico({\r\n      resumenes,\r\n      mes,\r\n      anio,\r\n      medicoNombre\r\n    })\r\n  }\r\n\r\n  function handleExportarPDFPrestadores() {\r\n    exportPDFResumenPorPrestador({\r\n      resumenes: resumenesPorPrestador,\r\n      mes,\r\n      anio\r\n    })\r\n  }\r\n\r\n  // Obtener lista de m√©dicos √∫nicos\r\n  const medicos = Array.from(resumenesPorMedico.keys()).map(medicoId => {\r\n    const resumenes = resumenesPorMedico.get(medicoId) || []\r\n    return resumenes[0]?.medico_nombre || 'Desconocido'\r\n  }).sort()\r\n\r\n  return (\r\n    <div className=\"min-h-screen p-8\">\r\n      <div className=\"max-w-7xl mx-auto space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Button\r\n              onClick={() => router.push('/ginecologia')}\r\n              variant=\"outline\"\r\n              className=\"border-green-500/50 text-green-400 hover:bg-green-500/20\"\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Volver\r\n            </Button>\r\n            <h1 className=\"text-3xl font-bold text-green-400\">\r\n              Res√∫menes de Liquidaci√≥n - Ginecolog√≠a\r\n            </h1>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Selector de Mes y A√±o */}\r\n        <div \r\n          className=\"flex items-center gap-4 p-4 rounded-xl\"\r\n          style={{\r\n            background: 'rgba(255, 255, 255, 0.05)',\r\n            backdropFilter: 'blur(20px)',\r\n            border: '1px solid rgba(255, 255, 255, 0.1)',\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <label className=\"text-sm text-gray-300\">Mes:</label>\r\n            <select\r\n              value={mes}\r\n              onChange={(e) => setMes(Number(e.target.value))}\r\n              className=\"px-3 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none\"\r\n            >\r\n              {MESES.map(m => (\r\n                <option key={m.value} value={m.value}>{m.label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <label className=\"text-sm text-gray-300\">A√±o:</label>\r\n            <input\r\n              type=\"number\"\r\n              value={anio}\r\n              onChange={(e) => setAnio(Number(e.target.value))}\r\n              className=\"px-3 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white w-24 focus:border-green-400 focus:outline-none\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tabs */}\r\n        <div className=\"flex gap-2 border-b border-gray-700\">\r\n          <button\r\n            onClick={() => setTabActiva('medicos')}\r\n            className={`px-4 py-2 font-semibold transition-colors ${\r\n              tabActiva === 'medicos'\r\n                ? 'text-green-400 border-b-2 border-green-400'\r\n                : 'text-gray-400 hover:text-gray-300'\r\n            }`}\r\n          >\r\n            Resumen por M√©dico\r\n          </button>\r\n          <button\r\n            onClick={() => setTabActiva('prestadores')}\r\n            className={`px-4 py-2 font-semibold transition-colors ${\r\n              tabActiva === 'prestadores'\r\n                ? 'text-green-400 border-b-2 border-green-400'\r\n                : 'text-gray-400 hover:text-gray-300'\r\n            }`}\r\n          >\r\n            Resumen por Prestador\r\n          </button>\r\n          <button\r\n            onClick={() => setTabActiva('historial')}\r\n            className={`px-4 py-2 font-semibold transition-colors flex items-center gap-2 ${\r\n              tabActiva === 'historial'\r\n                ? 'text-green-400 border-b-2 border-green-400'\r\n                : 'text-gray-400 hover:text-gray-300'\r\n            }`}\r\n          >\r\n            <History className=\"h-4 w-4\" />\r\n            Historial\r\n          </button>\r\n        </div>\r\n\r\n        {/* Contenido de Tabs */}\r\n        {tabActiva === 'historial' ? (\r\n          /* Tab: Historial */\r\n          <div className=\"space-y-6\">\r\n            {loadingHistorial ? (\r\n              <div className=\"text-center py-12 text-gray-400\">Cargando historial...</div>\r\n            ) : historial.length === 0 ? (\r\n              <div \r\n                className=\"rounded-xl p-8 text-center\"\r\n                style={{\r\n                  background: 'rgba(255, 255, 255, 0.05)',\r\n                  backdropFilter: 'blur(20px)',\r\n                  border: '1px solid rgba(255, 193, 7, 0.3)',\r\n                }}\r\n              >\r\n                <div className=\"text-yellow-400 text-xl font-bold mb-4\">\r\n                  No hay liquidaciones procesadas\r\n                </div>\r\n                <div className=\"text-gray-400 mb-6\">\r\n                  A√∫n no se ha procesado ning√∫n archivo Excel de Ginecolog√≠a.\r\n                </div>\r\n                <Button\r\n                  onClick={() => router.push('/ginecologia')}\r\n                  className=\"bg-green-600 hover:bg-green-500 text-white\"\r\n                >\r\n                  Ir a Ginecolog√≠a\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              <div\r\n                className=\"rounded-xl p-6\"\r\n                style={{\r\n                  background: 'rgba(255, 255, 255, 0.05)',\r\n                  backdropFilter: 'blur(20px)',\r\n                  border: '1px solid rgba(34, 197, 94, 0.3)',\r\n                }}\r\n              >\r\n                <h2 className=\"text-2xl font-bold text-green-400 mb-4\">Historial de Liquidaciones</h2>\r\n                \r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full\">\r\n                    <thead>\r\n                      <tr className=\"border-b border-gray-700\">\r\n                        <th className=\"px-4 py-3 text-left text-sm font-semibold text-green-400\">Per√≠odo</th>\r\n                        <th className=\"px-4 py-3 text-left text-sm font-semibold text-green-400\">N¬∞ Liquidaci√≥n</th>\r\n                        <th className=\"px-4 py-3 text-left text-sm font-semibold text-green-400\">Archivo</th>\r\n                        <th className=\"px-4 py-3 text-center text-sm font-semibold text-green-400\">Estado</th>\r\n                        <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Consultas</th>\r\n                        <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Total Bruto</th>\r\n                        <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Total Neto</th>\r\n                        <th className=\"px-4 py-3 text-left text-sm font-semibold text-green-400\">Fecha Procesamiento</th>\r\n                        <th className=\"px-4 py-3 text-center text-sm font-semibold text-green-400\">Acciones</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {historial.map((liquidacion) => {\r\n                        const fechaProcesamiento = liquidacion.created_at \r\n                          ? new Date(liquidacion.created_at).toLocaleDateString('es-AR', {\r\n                              year: 'numeric',\r\n                              month: 'short',\r\n                              day: 'numeric',\r\n                              hour: '2-digit',\r\n                              minute: '2-digit'\r\n                            })\r\n                          : 'N/A'\r\n                        \r\n                        const nombreMes = MESES.find(m => m.value === liquidacion.mes)?.label || `Mes ${liquidacion.mes}`\r\n                        const estaExpandida = liquidacionExpandida === liquidacion.id\r\n\r\n                        return (\r\n                          <>\r\n                            <tr key={liquidacion.id} className=\"border-b border-gray-800 hover:bg-gray-800/50\">\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 font-medium\">\r\n                                {nombreMes} {liquidacion.anio}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300\">\r\n                                {liquidacion.numero_liquidacion || '-'}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300\">\r\n                                <div className=\"max-w-xs truncate\" title={liquidacion.archivo_nombre || ''}>\r\n                                  {liquidacion.archivo_nombre || 'Sin archivo'}\r\n                                </div>\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-center\">\r\n                                <span className={`px-2 py-1 rounded text-xs font-semibold ${\r\n                                  liquidacion.estado === 'finalizada' \r\n                                    ? 'bg-green-500/20 text-green-400'\r\n                                    : liquidacion.estado === 'procesando'\r\n                                    ? 'bg-yellow-500/20 text-yellow-400'\r\n                                    : liquidacion.estado === 'error'\r\n                                    ? 'bg-red-500/20 text-red-400'\r\n                                    : 'bg-gray-500/20 text-gray-400'\r\n                                }`}>\r\n                                  {liquidacion.estado}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">\r\n                                {liquidacion.total_consultas || 0}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">\r\n                                {formatearMoneda(liquidacion.total_bruto || 0)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 text-right font-semibold\">\r\n                                {formatearMoneda(liquidacion.total_neto || 0)}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300\">\r\n                                {fechaProcesamiento}\r\n                              </td>\r\n                              <td className=\"px-4 py-3 text-center\">\r\n                                <Button\r\n                                  onClick={() => {\r\n                                    setLiquidacionExpandida(estaExpandida ? null : liquidacion.id)\r\n                                  }}\r\n                                  variant=\"outline\"\r\n                                  size=\"sm\"\r\n                                  className=\"border-green-500/50 text-green-400 hover:bg-green-500/20\"\r\n                                >\r\n                                  <Eye className=\"h-4 w-4 mr-1\" />\r\n                                  {estaExpandida ? 'Ocultar' : 'Ver'}\r\n                                </Button>\r\n                              </td>\r\n                            </tr>\r\n                            {estaExpandida && (\r\n                              <tr>\r\n                                <td colSpan={9} className=\"px-4 py-4 bg-gray-900/50\">\r\n                                  <DetalleLiquidacion liquidacionId={liquidacion.id} />\r\n                                </td>\r\n                              </tr>\r\n                            )}\r\n                          </>\r\n                        )\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : loading ? (\r\n          <div className=\"text-center py-12 text-gray-400\">Cargando res√∫menes...</div>\r\n        ) : resumenesPorMedico.size === 0 && resumenesPorPrestador.length === 0 ? (\r\n          <div \r\n            className=\"rounded-xl p-8 text-center\"\r\n            style={{\r\n              background: 'rgba(255, 255, 255, 0.05)',\r\n              backdropFilter: 'blur(20px)',\r\n              border: '1px solid rgba(255, 193, 7, 0.3)',\r\n            }}\r\n          >\r\n            <div className=\"text-yellow-400 text-xl font-bold mb-4\">\r\n              No hay datos para el per√≠odo seleccionado\r\n            </div>\r\n            <div className=\"text-gray-400 mb-6\">\r\n              Para generar res√∫menes, primero debes:\r\n            </div>\r\n            <ol className=\"text-left text-gray-300 space-y-2 max-w-md mx-auto mb-6\">\r\n              <li>1. Ir a la p√°gina de <strong className=\"text-green-400\">Ginecolog√≠a</strong></li>\r\n              <li>2. Subir un archivo Excel con las consultas</li>\r\n              <li>3. Confirmar el mes y a√±o del per√≠odo</li>\r\n              <li>4. El sistema guardar√° autom√°ticamente los datos</li>\r\n            </ol>\r\n            <Button\r\n              onClick={() => router.push('/ginecologia')}\r\n              className=\"bg-green-600 hover:bg-green-500 text-white\"\r\n            >\r\n              Ir a Ginecolog√≠a\r\n            </Button>\r\n          </div>\r\n        ) : tabActiva === 'medicos' ? (\r\n          /* Tab: Resumen por M√©dico */\r\n          <div className=\"space-y-6\">\r\n            {medicos.length === 0 ? (\r\n              <div className=\"text-center py-12 text-gray-400\">\r\n                No hay datos para el per√≠odo seleccionado\r\n              </div>\r\n            ) : (\r\n              medicos.map(medicoNombre => {\r\n                const medicoId = Array.from(resumenesPorMedico.keys()).find(id => {\r\n                  const resumenes = resumenesPorMedico.get(id) || []\r\n                  return resumenes[0]?.medico_nombre === medicoNombre\r\n                })\r\n                const resumenes = medicoId ? resumenesPorMedico.get(medicoId) || [] : []\r\n                const total = resumenes.reduce((sum, r) => sum + r.total, 0)\r\n                const totalCantidad = resumenes.reduce((sum, r) => sum + r.cantidad, 0)\r\n\r\n                return (\r\n                  <div\r\n                    key={medicoNombre}\r\n                    className=\"rounded-xl p-6\"\r\n                    style={{\r\n                      background: 'rgba(255, 255, 255, 0.05)',\r\n                      backdropFilter: 'blur(20px)',\r\n                      border: '1px solid rgba(34, 197, 94, 0.3)',\r\n                    }}\r\n                  >\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                      <h2 className=\"text-2xl font-bold text-green-400\">{medicoNombre}</h2>\r\n                      <Button\r\n                        onClick={() => handleExportarPDFMedico(medicoNombre, resumenes)}\r\n                        variant=\"outline\"\r\n                        className=\"border-green-500/50 text-green-400 hover:bg-green-500/20\"\r\n                      >\r\n                        <FileDown className=\"h-4 w-4 mr-2\" />\r\n                        Exportar PDF\r\n                      </Button>\r\n                    </div>\r\n\r\n                    <div className=\"overflow-x-auto\">\r\n                      <table className=\"w-full\">\r\n                        <thead>\r\n                          <tr className=\"border-b border-gray-700\">\r\n                            <th className=\"px-4 py-3 text-left text-sm font-semibold text-green-400\">Obra social</th>\r\n                            <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Cantidad</th>\r\n                            <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Valor unitario</th>\r\n                            <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Total</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {resumenes.map((resumen, idx) => (\r\n                            <tr key={idx} className=\"border-b border-gray-800 hover:bg-gray-800/50\">\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300\">{resumen.obra_social}</td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">{resumen.cantidad}</td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">{formatearMoneda(resumen.valor_unitario)}</td>\r\n                              <td className=\"px-4 py-3 text-sm text-gray-300 text-right font-semibold\">{formatearMoneda(resumen.total)}</td>\r\n                            </tr>\r\n                          ))}\r\n                          <tr className=\"bg-gray-800/50 font-bold\">\r\n                            <td className=\"px-4 py-3 text-sm text-green-400\">TOTAL</td>\r\n                            <td className=\"px-4 py-3 text-sm text-green-400 text-right\">{totalCantidad}</td>\r\n                            <td className=\"px-4 py-3 text-sm text-green-400 text-right\"></td>\r\n                            <td className=\"px-4 py-3 text-sm text-green-400 text-right\">{formatearMoneda(total)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              })\r\n            )}\r\n          </div>\r\n        ) : (\r\n          /* Tab: Resumen por Prestador */\r\n          <div className=\"space-y-6\">\r\n            {resumenesPorPrestador.length === 0 ? (\r\n              <div className=\"text-center py-12 text-gray-400\">\r\n                No hay datos para el per√≠odo seleccionado\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"flex justify-end mb-4\">\r\n                  <Button\r\n                    onClick={handleExportarPDFPrestadores}\r\n                    variant=\"outline\"\r\n                    className=\"border-green-500/50 text-green-400 hover:bg-green-500/20\"\r\n                  >\r\n                    <Download className=\"h-4 w-4 mr-2\" />\r\n                    Exportar PDF Completo\r\n                  </Button>\r\n                </div>\r\n\r\n                <div\r\n                  className=\"rounded-xl p-6\"\r\n                  style={{\r\n                    background: 'rgba(255, 255, 255, 0.05)',\r\n                    backdropFilter: 'blur(20px)',\r\n                    border: '1px solid rgba(34, 197, 94, 0.3)',\r\n                  }}\r\n                >\r\n                  <h2 className=\"text-2xl font-bold text-green-400 mb-4\">Resumen por Prestador</h2>\r\n\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full\">\r\n                      <thead>\r\n                        <tr className=\"border-b border-gray-700\">\r\n                          <th className=\"px-4 py-3 text-left text-sm font-semibold text-green-400\">Prestador</th>\r\n                          <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Cantidad</th>\r\n                          <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Total bruto</th>\r\n                          <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Retenci√≥n 20%</th>\r\n                          <th className=\"px-4 py-3 text-right text-sm font-semibold text-green-400\">Total Neto</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {resumenesPorPrestador.map((resumen, idx) => (\r\n                          <tr key={idx} className=\"border-b border-gray-800 hover:bg-gray-800/50\">\r\n                            <td className=\"px-4 py-3 text-sm text-gray-300 font-medium\">{resumen.medico_nombre}</td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">{resumen.cantidad}</td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">{formatearMoneda(resumen.total_bruto)}</td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-300 text-right\">{formatearMoneda(resumen.retencion_20)}</td>\r\n                            <td className=\"px-4 py-3 text-sm text-gray-300 text-right font-semibold\">{formatearMoneda(resumen.total_neto)}</td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"bg-gray-800/50 font-bold\">\r\n                          <td className=\"px-4 py-3 text-sm text-green-400\">Total general</td>\r\n                          <td className=\"px-4 py-3 text-sm text-green-400 text-right\">\r\n                            {resumenesPorPrestador.reduce((sum, r) => sum + r.cantidad, 0)}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-sm text-green-400 text-right\">\r\n                            {formatearMoneda(resumenesPorPrestador.reduce((sum, r) => sum + r.total_bruto, 0))}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-sm text-green-400 text-right\">\r\n                            {formatearMoneda(resumenesPorPrestador.reduce((sum, r) => sum + r.retencion_20, 0))}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-sm text-green-400 text-right\">\r\n                            {formatearMoneda(resumenesPorPrestador.reduce((sum, r) => sum + r.total_neto, 0))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Componente para mostrar el detalle de una liquidaci√≥n\r\nfunction DetalleLiquidacion({ liquidacionId }: { liquidacionId: string }) {\r\n  const [detalles, setDetalles] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    cargarDetalles()\r\n  }, [liquidacionId])\r\n\r\n  async function cargarDetalles() {\r\n    setLoading(true)\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('detalle_guardia')\r\n        .select('*')\r\n        .eq('liquidacion_id', liquidacionId)\r\n        .order('fecha', { ascending: true })\r\n        .order('hora', { ascending: true })\r\n        .limit(100) // Limitar a 100 para no sobrecargar\r\n\r\n      if (error) throw error\r\n      setDetalles(data || [])\r\n    } catch (error) {\r\n      console.error('Error cargando detalles:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  function formatearMoneda(valor: number | null): string {\r\n    if (!valor) return '$0.00'\r\n    return new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(valor)\r\n  }\r\n\r\n  function formatearFecha(fecha: string | null): string {\r\n    if (!fecha) return '-'\r\n    return new Date(fecha).toLocaleDateString('es-AR')\r\n  }\r\n\r\n  if (loading) {\r\n    return <div className=\"text-center py-4 text-gray-400\">Cargando detalles...</div>\r\n  }\r\n\r\n  if (detalles.length === 0) {\r\n    return <div className=\"text-center py-4 text-gray-400\">No hay detalles disponibles</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-4\">\r\n      <h3 className=\"text-lg font-semibold text-green-400 mb-3\">\r\n        Detalle de Consultas ({detalles.length} registros)\r\n      </h3>\r\n      <div className=\"overflow-x-auto max-h-96 overflow-y-auto\">\r\n        <table className=\"w-full text-sm\">\r\n          <thead className=\"sticky top-0 bg-gray-900\">\r\n            <tr className=\"border-b border-gray-700\">\r\n              <th className=\"px-3 py-2 text-left text-xs font-semibold text-green-400\">Fecha</th>\r\n              <th className=\"px-3 py-2 text-left text-xs font-semibold text-green-400\">Hora</th>\r\n              <th className=\"px-3 py-2 text-left text-xs font-semibold text-green-400\">M√©dico</th>\r\n              <th className=\"px-3 py-2 text-left text-xs font-semibold text-green-400\">Paciente</th>\r\n              <th className=\"px-3 py-2 text-left text-xs font-semibold text-green-400\">Obra Social</th>\r\n              <th className=\"px-3 py-2 text-right text-xs font-semibold text-green-400\">Monto Facturado</th>\r\n              <th className=\"px-3 py-2 text-right text-xs font-semibold text-green-400\">Importe Calculado</th>\r\n              <th className=\"px-3 py-2 text-center text-xs font-semibold text-green-400\">Horario Formativo</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {detalles.map((detalle) => (\r\n              <tr key={detalle.id} className=\"border-b border-gray-800 hover:bg-gray-800/30\">\r\n                <td className=\"px-3 py-2 text-xs text-gray-300\">{formatearFecha(detalle.fecha)}</td>\r\n                <td className=\"px-3 py-2 text-xs text-gray-300\">{detalle.hora || '-'}</td>\r\n                <td className=\"px-3 py-2 text-xs text-gray-300\">{detalle.medico_nombre || '-'}</td>\r\n                <td className=\"px-3 py-2 text-xs text-gray-300\">{detalle.paciente || '-'}</td>\r\n                <td className=\"px-3 py-2 text-xs text-gray-300\">{detalle.obra_social || '-'}</td>\r\n                <td className=\"px-3 py-2 text-xs text-gray-300 text-right\">{formatearMoneda(detalle.monto_facturado)}</td>\r\n                <td className=\"px-3 py-2 text-xs text-gray-300 text-right font-semibold\">{formatearMoneda(detalle.importe_calculado)}</td>\r\n                <td className=\"px-3 py-2 text-xs text-center\">\r\n                  {detalle.es_horario_formativo ? (\r\n                    <span className=\"text-yellow-400\">S√≠</span>\r\n                  ) : (\r\n                    <span className=\"text-gray-500\">No</span>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {detalles.length >= 100 && (\r\n        <div className=\"mt-2 text-xs text-gray-400 text-center\">\r\n          Mostrando los primeros 100 registros\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { supabase } from './supabase/client'\r\nimport { DetalleGuardia, ValorConsultaObraSocial, Medico } from './types'\r\nimport { esResidenteHorarioFormativo } from './utils'\r\n\r\nexport interface ResumenPorMedico {\r\n  medico_id: string | null\r\n  medico_nombre: string\r\n  obra_social: string\r\n  cantidad: number\r\n  valor_unitario: number\r\n  total: number\r\n}\r\n\r\nexport interface ResumenPorPrestador {\r\n  medico_id: string | null\r\n  medico_nombre: string\r\n  cantidad: number\r\n  total_bruto: number\r\n  retencion_20: number\r\n  total_neto: number\r\n}\r\n\r\n/**\r\n * Calcula el resumen por m√©dico y obra social (PRE-RETENCI√ìN)\r\n * Aplica la regla de residentes: si es residente en horario formativo (lunes-s√°bado 07:00-15:00), no se cuenta\r\n */\r\nexport async function calcularResumenPorMedico(\r\n  mes: number,\r\n  anio: number\r\n): Promise<ResumenPorMedico[]> {\r\n  // Obtener liquidaci√≥n de ginecolog√≠a para el mes/a√±o\r\n  const { data: liquidacion } = await supabase\r\n    .from('liquidaciones_guardia')\r\n    .select('id')\r\n    .eq('especialidad', 'Ginecolog√≠a')\r\n    .eq('mes', mes)\r\n    .eq('anio', anio)\r\n    .single()\r\n\r\n  if (!liquidacion || !(liquidacion as any).id) {\r\n    return []\r\n  }\r\n\r\n  const liquidacionId = (liquidacion as any).id\r\n\r\n  // Obtener todos los detalles de guardia de esta liquidaci√≥n\r\n  const { data: detalles } = await supabase\r\n    .from('detalle_guardia')\r\n    .select('*')\r\n    .eq('liquidacion_id', liquidacionId) as { data: DetalleGuardia[] | null }\r\n\r\n  if (!detalles || detalles.length === 0) {\r\n    return []\r\n  }\r\n\r\n  // Obtener valores de consultas ginecol√≥gicas\r\n  const { data: valoresConsultas } = await supabase\r\n    .from('valores_consultas_obra_social')\r\n    .select('*')\r\n    .eq('tipo_consulta', 'CONSULTA GINECOLOGICA')\r\n    .eq('mes', mes)\r\n    .eq('anio', anio) as { data: ValorConsultaObraSocial[] | null }\r\n\r\n  if (!valoresConsultas || valoresConsultas.length === 0) {\r\n    return []\r\n  }\r\n\r\n  // Crear mapa de valores por obra social\r\n  const valoresPorObraSocial = new Map<string, number>()\r\n  valoresConsultas.forEach(v => {\r\n    valoresPorObraSocial.set(v.obra_social, v.valor)\r\n  })\r\n\r\n  // Agrupar por m√©dico y obra social, aplicando regla de residentes\r\n  const resumenMap = new Map<string, ResumenPorMedico>()\r\n\r\n  detalles.forEach(detalle => {\r\n    // Aplicar regla de residentes\r\n    const esResidente = detalle.medico_es_residente === true\r\n    const debeContar = !esResidenteHorarioFormativo(\r\n      detalle.fecha,\r\n      detalle.hora,\r\n      esResidente\r\n    )\r\n\r\n    // Si no debe contarse (residente en horario formativo), saltar\r\n    if (!debeContar) {\r\n      return\r\n    }\r\n\r\n    const obraSocial = detalle.obra_social || 'PARTICULARES'\r\n    const medicoNombre = detalle.medico_nombre || 'Desconocido'\r\n    const medicoId = detalle.medico_id || 'sin-id'\r\n\r\n    // Clave √∫nica: medico_id + obra_social\r\n    const clave = `${medicoId}|${obraSocial}`\r\n\r\n    // Obtener valor unitario de la obra social\r\n    const valorUnitario = valoresPorObraSocial.get(obraSocial) || 0\r\n\r\n    // Actualizar o crear resumen\r\n    if (resumenMap.has(clave)) {\r\n      const resumen = resumenMap.get(clave)!\r\n      resumen.cantidad += 1\r\n      resumen.total = resumen.cantidad * resumen.valor_unitario\r\n    } else {\r\n      resumenMap.set(clave, {\r\n        medico_id: detalle.medico_id,\r\n        medico_nombre: medicoNombre,\r\n        obra_social: obraSocial,\r\n        cantidad: 1,\r\n        valor_unitario: valorUnitario,\r\n        total: valorUnitario\r\n      })\r\n    }\r\n  })\r\n\r\n  // Convertir a array y ordenar por m√©dico y obra social\r\n  return Array.from(resumenMap.values()).sort((a, b) => {\r\n    if (a.medico_nombre !== b.medico_nombre) {\r\n      return a.medico_nombre.localeCompare(b.medico_nombre)\r\n    }\r\n    return a.obra_social.localeCompare(b.obra_social)\r\n  })\r\n}\r\n\r\n/**\r\n * Calcula el resumen por prestador (POST-RETENCI√ìN)\r\n * Agrupa por m√©dico y calcula retenci√≥n del 20%\r\n */\r\nexport async function calcularResumenPorPrestador(\r\n  mes: number,\r\n  anio: number\r\n): Promise<ResumenPorPrestador[]> {\r\n  // Obtener resumen por m√©dico (ya aplica regla de residentes)\r\n  const resumenPorMedico = await calcularResumenPorMedico(mes, anio)\r\n\r\n  // Agrupar por m√©dico\r\n  const resumenMap = new Map<string, ResumenPorPrestador>()\r\n\r\n  resumenPorMedico.forEach(resumen => {\r\n    const medicoId = resumen.medico_id || 'sin-id'\r\n    const medicoNombre = resumen.medico_nombre\r\n\r\n    if (resumenMap.has(medicoId)) {\r\n      const prestador = resumenMap.get(medicoId)!\r\n      prestador.cantidad += resumen.cantidad\r\n      prestador.total_bruto += resumen.total\r\n      prestador.retencion_20 = prestador.total_bruto * 0.2\r\n      prestador.total_neto = prestador.total_bruto - prestador.retencion_20\r\n    } else {\r\n      const totalBruto = resumen.total\r\n      const retencion = totalBruto * 0.2\r\n      const totalNeto = totalBruto - retencion\r\n\r\n      resumenMap.set(medicoId, {\r\n        medico_id: resumen.medico_id,\r\n        medico_nombre: medicoNombre,\r\n        cantidad: resumen.cantidad,\r\n        total_bruto: totalBruto,\r\n        retencion_20: retencion,\r\n        total_neto: totalNeto\r\n      })\r\n    }\r\n  })\r\n\r\n  // Convertir a array y ordenar por nombre\r\n  return Array.from(resumenMap.values()).sort((a, b) =>\r\n    a.medico_nombre.localeCompare(b.medico_nombre)\r\n  )\r\n}\r\n\r\n","import jsPDF from 'jspdf'\r\nimport autoTable from 'jspdf-autotable'\r\nimport { ResumenPorPrestador } from './ginecologia-resumenes'\r\nimport { calcularNumeroLiquidacion } from './utils'\r\n\r\nconst MESES = [\r\n  'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\r\n  'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\r\n]\r\n\r\ninterface PDFResumenPrestadorOptions {\r\n  resumenes: ResumenPorPrestador[]\r\n  mes: number\r\n  anio: number\r\n}\r\n\r\nexport function exportPDFResumenPorPrestador({\r\n  resumenes,\r\n  mes,\r\n  anio\r\n}: PDFResumenPrestadorOptions) {\r\n  const doc = new jsPDF({\r\n    orientation: 'portrait',\r\n    unit: 'mm',\r\n    format: 'a4'\r\n  })\r\n\r\n  const marginLeft = 15\r\n  const marginRight = 15\r\n  const marginTop = 20\r\n  const pageWidth = 210\r\n  const pageHeight = 297\r\n  const usableWidth = pageWidth - marginLeft - marginRight\r\n\r\n  let currentY = marginTop\r\n\r\n  // Calcular n√∫mero de liquidaci√≥n\r\n  const numeroLiquidacion = calcularNumeroLiquidacion(mes, anio)\r\n\r\n  // ============================================\r\n  // LOGO Y TEXTO\r\n  // ============================================\r\n  doc.setFontSize(11)\r\n  doc.setTextColor(34, 197, 94)\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Grow Labs', marginLeft, currentY)\r\n  \r\n  doc.setFontSize(7.5)\r\n  doc.setTextColor(100, 100, 100)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text('Sistema de Liquidaciones de Guardias', marginLeft, currentY + 5)\r\n\r\n  // ============================================\r\n  // T√çTULO\r\n  // ============================================\r\n  currentY += 15\r\n  doc.setFontSize(16)\r\n  doc.setTextColor(0, 0, 0)\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Guardia Ginecol√≥gica', marginLeft, currentY)\r\n  \r\n  doc.setFontSize(12)\r\n  doc.setTextColor(100, 100, 100)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(`${MESES[mes - 1]} ${anio}`, marginLeft, currentY + 7)\r\n\r\n  // ============================================\r\n  // CUADRO DE INFORMACI√ìN\r\n  // ============================================\r\n  currentY += 15\r\n  const boxWidth = 90\r\n  const boxX = pageWidth - marginRight - boxWidth\r\n  const boxStartY = currentY\r\n  const rowHeight = 7.5\r\n  const labelWidth = 42\r\n\r\n  // Fondo del cuadro\r\n  doc.setFillColor(240, 240, 240)\r\n  doc.setDrawColor(200, 200, 200)\r\n  doc.roundedRect(boxX, boxStartY, boxWidth, rowHeight * 3, 2, 2, 'FD')\r\n\r\n  let boxY = boxStartY + rowHeight / 2\r\n\r\n  // Mes\r\n  doc.setFontSize(8.5)\r\n  doc.setTextColor(0, 0, 0)\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Mes:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(MESES[mes - 1], boxX + 4.5 + labelWidth, boxY)\r\n  boxY += rowHeight\r\n\r\n  // A√±o\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('A√±o:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(String(anio), boxX + 4.5 + labelWidth, boxY)\r\n  boxY += rowHeight\r\n\r\n  // N√∫mero de Liquidaci√≥n\r\n  doc.setFont('helvetica', 'bold')\r\n  doc.text('Liq:', boxX + 4.5, boxY)\r\n  doc.setFont('helvetica', 'normal')\r\n  doc.text(String(numeroLiquidacion), boxX + 4.5 + labelWidth, boxY)\r\n\r\n  // ============================================\r\n  // TABLA DE VALORES\r\n  // ============================================\r\n  currentY = boxStartY + rowHeight * 3 + 10\r\n\r\n  // Preparar datos para la tabla\r\n  const tableData = resumenes.map(r => [\r\n    r.medico_nombre,\r\n    String(r.cantidad),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(r.total_bruto),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(r.retencion_20),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(r.total_neto)\r\n  ])\r\n\r\n  // Agregar fila de totales\r\n  const totalCantidad = resumenes.reduce((sum, r) => sum + r.cantidad, 0)\r\n  const totalBruto = resumenes.reduce((sum, r) => sum + r.total_bruto, 0)\r\n  const totalRetencion = resumenes.reduce((sum, r) => sum + r.retencion_20, 0)\r\n  const totalNeto = resumenes.reduce((sum, r) => sum + r.total_neto, 0)\r\n  \r\n  tableData.push([\r\n    'Total general',\r\n    String(totalCantidad),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(totalBruto),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(totalRetencion),\r\n    new Intl.NumberFormat('es-AR', {\r\n      style: 'currency',\r\n      currency: 'ARS',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(totalNeto)\r\n  ])\r\n\r\n  // Headers\r\n  const headers = ['Prestador', 'Cantidad', 'Total bruto', 'Retenci√≥n 20%', 'Total Neto']\r\n\r\n  // Anchos de columna (deben sumar 180mm)\r\n  const columnWidths = [60, 25, 35, 30, 30] // Suma = 180mm\r\n\r\n  // Generar tabla\r\n  autoTable(doc, {\r\n    startY: currentY,\r\n    head: [headers],\r\n    body: tableData,\r\n    theme: 'striped',\r\n    headStyles: {\r\n      fillColor: [34, 197, 94],\r\n      textColor: [255, 255, 255],\r\n      fontStyle: 'bold',\r\n      fontSize: 9,\r\n      halign: 'left'\r\n    },\r\n    bodyStyles: {\r\n      fontSize: 8,\r\n      textColor: [0, 0, 0],\r\n      cellPadding: 2,\r\n      halign: 'left'\r\n    },\r\n    columnStyles: {\r\n      0: { cellWidth: columnWidths[0], fontStyle: 'bold' },\r\n      1: { cellWidth: columnWidths[1], halign: 'right' },\r\n      2: { cellWidth: columnWidths[2], halign: 'right' },\r\n      3: { cellWidth: columnWidths[3], halign: 'right' },\r\n      4: { cellWidth: columnWidths[4], halign: 'right', fontStyle: 'bold' }\r\n    },\r\n    styles: {\r\n      lineColor: [220, 220, 220],\r\n      lineWidth: 0.1,\r\n      valign: 'middle'\r\n    },\r\n    margin: { left: marginLeft, right: marginRight },\r\n    tableWidth: usableWidth,\r\n    showHead: 'everyPage',\r\n    pageBreak: 'auto',\r\n    rowPageBreak: 'avoid',\r\n    didParseCell: (data: any) => {\r\n      // Resaltar fila de totales\r\n      if (data.row.index === tableData.length - 1) {\r\n        data.cell.styles.fillColor = [240, 240, 240]\r\n        data.cell.styles.fontStyle = 'bold'\r\n      }\r\n    }\r\n  })\r\n\r\n  // ============================================\r\n  // FOOTER\r\n  // ============================================\r\n  const pageCount = (doc as any).getNumberOfPages()\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    doc.setPage(i)\r\n    doc.setFontSize(7)\r\n    doc.setTextColor(150, 150, 150)\r\n    doc.setFont('helvetica', 'italic')\r\n    doc.text(\r\n      `P√°gina ${i} de ${pageCount} - Powered by Grow Labs üå±`,\r\n      pageWidth / 2,\r\n      pageHeight - 10,\r\n      { align: 'center' }\r\n    )\r\n  }\r\n\r\n  // ============================================\r\n  // GUARDAR PDF\r\n  // ============================================\r\n  const nombreArchivo = `Resumen_Prestadores_${MESES[mes - 1]}_${anio}.pdf`\r\n  doc.save(nombreArchivo)\r\n}\r\n\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8', key: '1357e3' }],\n  ['path', { d: 'M3 3v5h5', key: '1xhq8a' }],\n  ['path', { d: 'M12 7v5l4 2', key: '1fdv2h' }],\n];\n\n/**\n * @component @name History\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAxIDAgOS05IDkuNzUgOS43NSAwIDAgMC02Ljc0IDIuNzRMMyA4IiAvPgogIDxwYXRoIGQ9Ik0zIDN2NWg1IiAvPgogIDxwYXRoIGQ9Ik0xMiA3djVsNCAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/history\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst History = createLucideIcon('history', __iconNode);\n\nexport default History;\n"],"names":[],"mappings":"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","ignoreList":[4,5]}