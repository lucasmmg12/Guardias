{"version":3,"sources":["../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/app/ginecologia/page.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/MesSelectorModal.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/ginecologia-processor.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { UploadExcel } from '@/components/custom/UploadExcel'\r\nimport { ExcelDataTable } from '@/components/custom/ExcelDataTable'\r\nimport { EstadisticasObraSocial } from '@/components/custom/EstadisticasObraSocial'\r\nimport { MesSelectorModal } from '@/components/custom/MesSelectorModal'\r\nimport { NotificationModal, NotificationType } from '@/components/custom/NotificationModal'\r\nimport { readExcelFile, ExcelData } from '@/lib/excel-reader'\r\nimport { procesarExcelGinecologia } from '@/lib/ginecologia-processor'\r\nimport { AlertCircle, CheckCircle2, Sparkles, ArrowLeft } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { Button } from '@/components/ui/button'\r\n\r\nexport default function GinecologiaPage() {\r\n    const router = useRouter()\r\n    const [isProcessing, setIsProcessing] = useState(false)\r\n    const [excelData, setExcelData] = useState<ExcelData | null>(null)\r\n    const [error, setError] = useState<string | null>(null)\r\n    const [showMesSelector, setShowMesSelector] = useState(false)\r\n    const [mesDetectado, setMesDetectado] = useState<number | null>(null)\r\n    const [anioDetectado, setAnioDetectado] = useState<number | null>(null)\r\n    const [mesSeleccionado, setMesSeleccionado] = useState(new Date().getMonth() + 1)\r\n    const [anioSeleccionado, setAnioSeleccionado] = useState(new Date().getFullYear())\r\n    const [archivoActual, setArchivoActual] = useState<File | null>(null)\r\n    const [isGuardando, setIsGuardando] = useState(false)\r\n    const [notification, setNotification] = useState<{\r\n        isOpen: boolean\r\n        type: NotificationType\r\n        title?: string\r\n        message: string\r\n    }>({\r\n        isOpen: false,\r\n        type: 'info',\r\n        message: ''\r\n    })\r\n\r\n    function showNotification(type: NotificationType, message: string, title?: string) {\r\n        setNotification({\r\n            isOpen: true,\r\n            type,\r\n            message,\r\n            title\r\n        })\r\n        setTimeout(() => {\r\n            setNotification(prev => ({ ...prev, isOpen: false }))\r\n        }, 5000)\r\n    }\r\n\r\n    // Funci√≥n para detectar mes y a√±o desde las fechas del Excel\r\n    const detectarMesAnio = (data: ExcelData): { mes: number | null; anio: number | null } => {\r\n        // Primero intentar desde el per√≠odo\r\n        if (data.periodo?.desde) {\r\n            const partes = data.periodo.desde.split('/')\r\n            if (partes.length === 3) {\r\n                const mes = parseInt(partes[1], 10)\r\n                const anio = parseInt(partes[2], 10)\r\n                if (mes >= 1 && mes <= 12 && anio >= 2020) {\r\n                    return { mes, anio }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Si no hay per√≠odo, buscar en las fechas de las filas\r\n        const fechaColumn = data.headers.find(h => \r\n            h.toLowerCase().includes('fecha') || \r\n            h.toLowerCase().includes('date')\r\n        )\r\n\r\n        if (fechaColumn && data.rows.length > 0) {\r\n            const fechas: number[] = []\r\n            data.rows.forEach(row => {\r\n                const fechaStr = row[fechaColumn]\r\n                if (fechaStr) {\r\n                    // Intentar parsear fecha en formato DD/MM/YYYY\r\n                    if (typeof fechaStr === 'string') {\r\n                        const match = fechaStr.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/)\r\n                        if (match) {\r\n                            const mes = parseInt(match[2], 10)\r\n                            const anio = parseInt(match[3], 10)\r\n                            if (mes >= 1 && mes <= 12 && anio >= 2020) {\r\n                                fechas.push(mes)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n\r\n            // Si todas las fechas son del mismo mes, usar ese mes\r\n            if (fechas.length > 0) {\r\n                const mesComun = fechas[0]\r\n                const todasIguales = fechas.every(m => m === mesComun)\r\n                if (todasIguales) {\r\n                    // Obtener a√±o de la primera fecha\r\n                    const primeraFecha = data.rows[0][fechaColumn]\r\n                    if (typeof primeraFecha === 'string') {\r\n                        const match = primeraFecha.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/)\r\n                        if (match) {\r\n                            return { mes: mesComun, anio: parseInt(match[3], 10) }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { mes: null, anio: null }\r\n    }\r\n\r\n    const handleUpload = async (file: File) => {\r\n        setIsProcessing(true)\r\n        setExcelData(null)\r\n        setError(null)\r\n        setMesDetectado(null)\r\n        setAnioDetectado(null)\r\n        setArchivoActual(file)\r\n\r\n        try {\r\n            const data = await readExcelFile(file)\r\n            setExcelData(data)\r\n            \r\n            // Detectar mes y a√±o autom√°ticamente\r\n            const { mes, anio } = detectarMesAnio(data)\r\n            if (mes && anio) {\r\n                setMesDetectado(mes)\r\n                setAnioDetectado(anio)\r\n                setMesSeleccionado(mes)\r\n                setAnioSeleccionado(anio)\r\n                // Mostrar modal para confirmar\r\n                setShowMesSelector(true)\r\n            } else {\r\n                // Si no se detect√≥, mostrar modal para seleccionar manualmente\r\n                setShowMesSelector(true)\r\n            }\r\n        } catch (err: any) {\r\n            console.error('Error processing file:', err)\r\n            setError(err.message || 'Ocurri√≥ un error inesperado al procesar el archivo.')\r\n        } finally {\r\n            setIsProcessing(false)\r\n        }\r\n    }\r\n\r\n    const handleMesConfirmado = async (mes: number, anio: number) => {\r\n        setMesSeleccionado(mes)\r\n        setAnioSeleccionado(anio)\r\n        setShowMesSelector(false)\r\n\r\n        // Si hay datos del Excel, procesar y guardar\r\n        if (excelData && archivoActual) {\r\n            setIsGuardando(true)\r\n            try {\r\n                const resultado = await procesarExcelGinecologia(\r\n                    excelData,\r\n                    mes,\r\n                    anio,\r\n                    archivoActual.name\r\n                )\r\n\r\n                if (resultado.errores.length > 0) {\r\n                    showNotification(\r\n                        'error',\r\n                        `Se procesaron ${resultado.procesadas} filas. Errores: ${resultado.errores.length}`,\r\n                        'Procesamiento con errores'\r\n                    )\r\n                } else if (resultado.advertencias.length > 0) {\r\n                    showNotification(\r\n                        'warning',\r\n                        `Se procesaron ${resultado.procesadas} de ${resultado.totalFilas} filas. ${resultado.advertencias.length} advertencias.`,\r\n                        'Procesamiento completado'\r\n                    )\r\n                } else {\r\n                    showNotification(\r\n                        'success',\r\n                        `Se procesaron y guardaron ${resultado.procesadas} consultas correctamente.`,\r\n                        'Guardado exitoso'\r\n                    )\r\n                }\r\n            } catch (err: any) {\r\n                console.error('Error guardando datos:', err)\r\n                showNotification(\r\n                    'error',\r\n                    `Error al guardar: ${err.message || 'Error desconocido'}`,\r\n                    'Error'\r\n                )\r\n            } finally {\r\n                setIsGuardando(false)\r\n            }\r\n        }\r\n    }\r\n\r\n    // Extraer mes y a√±o del per√≠odo del Excel (usar el seleccionado)\r\n    const obtenerMesAnio = () => {\r\n        return { mes: mesSeleccionado, anio: anioSeleccionado }\r\n    }\r\n\r\n    const handleCellUpdate = async (rowIndex: number, column: string, newValue: any) => {\r\n        // Aqu√≠ puedes guardar los cambios en la base de datos o en el estado\r\n        console.log(`Actualizando fila ${rowIndex}, columna ${column} con valor:`, newValue)\r\n        // TODO: Implementar guardado en base de datos si es necesario\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen relative p-8 pb-20 overflow-hidden\">\r\n            {/* Efectos de luz verde */}\r\n            <div className=\"absolute top-20 left-20 w-96 h-96 bg-green-500/20 rounded-full blur-3xl animate-pulse\"></div>\r\n            <div className=\"absolute bottom-20 right-20 w-96 h-96 bg-green-400/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\r\n\r\n            <div className=\"max-w-6xl mx-auto space-y-8 relative z-10\">\r\n                {/* Header con Logo */}\r\n                <div className=\"flex items-center justify-between mb-8\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <Button\r\n                            onClick={() => router.push('/')}\r\n                            variant=\"outline\"\r\n                            className=\"border-green-500/50 text-green-400 hover:bg-green-500/20\"\r\n                        >\r\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                            Volver\r\n                        </Button>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"flex items-center gap-4 mb-4\">\r\n                            <Link href=\"/\" className=\"hover:opacity-80 transition-opacity\">\r\n                                <img \r\n                                    src=\"/logogrow.png\" \r\n                                    alt=\"Grow Labs\" \r\n                                    className=\"h-16 w-auto drop-shadow-2xl\"\r\n                                    style={{\r\n                                        filter: 'drop-shadow(0 0 20px rgba(34, 197, 94, 0.5))'\r\n                                    }}\r\n                                />\r\n                            </Link>\r\n                            <div>\r\n                                <h1 className=\"text-4xl font-bold mb-2 tracking-tight\">\r\n                                    <span className=\"bg-gradient-to-r from-blue-400 to-cyan-300 bg-clip-text text-transparent\">\r\n                                        M√≥dulo Ginecolog√≠a\r\n                                    </span>\r\n                                </h1>\r\n                                <p className=\"text-gray-400 flex items-center gap-2\">\r\n                                    <Sparkles className=\"h-4 w-4 text-blue-400\" />\r\n                                    Procesamiento de liquidaciones por hora\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Upload Excel Card */}\r\n                <div \r\n                    className=\"relative rounded-2xl shadow-2xl overflow-hidden p-8\"\r\n                    style={{\r\n                        background: 'rgba(255, 255, 255, 0.1)',\r\n                        backdropFilter: 'blur(20px)',\r\n                        border: '1px solid rgba(59, 130, 246, 0.3)',\r\n                        boxShadow: '0 8px 32px 0 rgba(59, 130, 246, 0.3)',\r\n                    }}\r\n                >\r\n                    {/* Borde brillante animado */}\r\n                    <div \r\n                        className=\"absolute inset-0 rounded-2xl\"\r\n                        style={{\r\n                            background: 'linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.3), transparent)',\r\n                            animation: 'borderGlow 3s ease-in-out infinite',\r\n                        }}\r\n                    ></div>\r\n                    <div className=\"relative\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h2 className=\"text-2xl font-bold text-blue-400\">\r\n                                üì§ Cargar Liquidaci√≥n\r\n                            </h2>\r\n                            <Button\r\n                                onClick={() => router.push('/ginecologia/resumenes')}\r\n                                variant=\"outline\"\r\n                                className=\"border-blue-500/50 text-blue-400 hover:bg-blue-500/20\"\r\n                            >\r\n                                Ver Res√∫menes\r\n                            </Button>\r\n                        </div>\r\n\r\n                    <UploadExcel onUpload={handleUpload} isProcessing={isProcessing} />\r\n\r\n                    {/* Mensaje de error */}\r\n                    {error && (\r\n                        <div className=\"mt-6 bg-red-500/10 border border-red-500/30 rounded-lg p-4 flex items-start gap-3 text-red-400\">\r\n                            <AlertCircle className=\"w-5 h-5 mt-0.5 shrink-0\" />\r\n                            <div>\r\n                                <h3 className=\"font-semibold\">Error de Procesamiento</h3>\r\n                                <p className=\"text-sm opacity-90\">{error}</p>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Tabla de datos del Excel */}\r\n                {excelData && (\r\n                    <div \r\n                        className=\"relative rounded-2xl shadow-2xl overflow-hidden p-8\"\r\n                        style={{\r\n                            background: 'rgba(255, 255, 255, 0.1)',\r\n                            backdropFilter: 'blur(20px)',\r\n                            border: '1px solid rgba(59, 130, 246, 0.3)',\r\n                            boxShadow: '0 8px 32px 0 rgba(59, 130, 246, 0.3)',\r\n                        }}\r\n                    >\r\n                        <div className=\"relative\">\r\n                            <h2 className=\"text-2xl font-bold text-blue-400 mb-6\">\r\n                                üìä Datos del Excel\r\n                            </h2>\r\n                            <ExcelDataTable\r\n                                data={excelData}\r\n                                especialidad=\"Ginecolog√≠a\"\r\n                                onCellUpdate={handleCellUpdate}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Estad√≠sticas por Obra Social */}\r\n                {excelData && excelData.periodo && (() => {\r\n                    const { mes, anio } = obtenerMesAnio()\r\n                    return (\r\n                        <div \r\n                            className=\"relative rounded-2xl shadow-2xl overflow-hidden p-8\"\r\n                            style={{\r\n                                background: 'rgba(255, 255, 255, 0.1)',\r\n                                backdropFilter: 'blur(20px)',\r\n                                border: '1px solid rgba(59, 130, 246, 0.3)',\r\n                                boxShadow: '0 8px 32px 0 rgba(59, 130, 246, 0.3)',\r\n                            }}\r\n                        >\r\n                            <EstadisticasObraSocial\r\n                                mes={mes}\r\n                                anio={anio}\r\n                                especialidad=\"Ginecolog√≠a\"\r\n                            />\r\n                        </div>\r\n                    )\r\n                })()}\r\n\r\n                {/* Reglas de Negocio */}\r\n                <div \r\n                    className=\"p-6 rounded-xl\"\r\n                    style={{\r\n                        background: 'rgba(255, 255, 255, 0.1)',\r\n                        backdropFilter: 'blur(20px)',\r\n                        border: '1px solid rgba(255, 255, 255, 0.2)',\r\n                        boxShadow: '0 8px 32px 0 rgba(59, 130, 246, 0.2)',\r\n                    }}\r\n                >\r\n                        <h3 className=\"text-xl font-semibold text-gray-200 mb-4\">\r\n                            üìã Reglas Vigentes\r\n                        </h3>\r\n                        <div className=\"space-y-4 text-sm text-gray-300\">\r\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\r\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Pago por Hora</div>\r\n                                <div className=\"font-semibold text-white\">Seg√∫n Tarifa</div>\r\n                                <div className=\"text-xs text-gray-400\">Valor hora vigente</div>\r\n                            </div>\r\n\r\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\r\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Residentes</div>\r\n                                <div className=\"text-sm\">\r\n                                    <span className=\"text-blue-400\">07:30 - 15:00</span> = $0\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-400 mt-1\">Horario formativo</div>\r\n                            </div>\r\n\r\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\r\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Planta</div>\r\n                                <div className=\"text-sm text-green-400\">100% Pago</div>\r\n                                <div className=\"text-xs text-gray-400\">Sin restricciones horarias</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n\r\n            {/* Modal de selecci√≥n de mes */}\r\n            <MesSelectorModal\r\n                isOpen={showMesSelector}\r\n                onClose={() => setShowMesSelector(false)}\r\n                onConfirm={handleMesConfirmado}\r\n                mesDetectado={mesDetectado}\r\n                anioDetectado={anioDetectado}\r\n                mesActual={new Date().getMonth() + 1}\r\n                anioActual={new Date().getFullYear()}\r\n            />\r\n\r\n            {/* Notificaci√≥n */}\r\n            <NotificationModal\r\n                isOpen={notification.isOpen}\r\n                onClose={() => setNotification(prev => ({ ...prev, isOpen: false }))}\r\n                type={notification.type}\r\n                title={notification.title}\r\n                message={notification.message}\r\n            />\r\n\r\n            {/* Indicador de guardado */}\r\n            {isGuardando && (\r\n                <div className=\"fixed bottom-4 right-4 p-4 rounded-lg bg-blue-500/20 border border-blue-500/50 text-blue-400\">\r\n                    Guardando datos en la base de datos...\r\n                </div>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { X } from 'lucide-react'\r\n\r\ninterface MesSelectorModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onConfirm: (mes: number, anio: number) => void\r\n  mesDetectado: number | null\r\n  anioDetectado: number | null\r\n  mesActual: number\r\n  anioActual: number\r\n}\r\n\r\nconst MESES = [\r\n  { value: 1, label: 'Enero' },\r\n  { value: 2, label: 'Febrero' },\r\n  { value: 3, label: 'Marzo' },\r\n  { value: 4, label: 'Abril' },\r\n  { value: 5, label: 'Mayo' },\r\n  { value: 6, label: 'Junio' },\r\n  { value: 7, label: 'Julio' },\r\n  { value: 8, label: 'Agosto' },\r\n  { value: 9, label: 'Septiembre' },\r\n  { value: 10, label: 'Octubre' },\r\n  { value: 11, label: 'Noviembre' },\r\n  { value: 12, label: 'Diciembre' },\r\n]\r\n\r\nexport function MesSelectorModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  mesDetectado,\r\n  anioDetectado,\r\n  mesActual,\r\n  anioActual\r\n}: MesSelectorModalProps) {\r\n  const [mes, setMes] = useState(mesDetectado || mesActual)\r\n  const [anio, setAnio] = useState(anioDetectado || anioActual)\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setMes(mesDetectado || mesActual)\r\n      setAnio(anioDetectado || anioActual)\r\n    }\r\n  }, [isOpen, mesDetectado, anioDetectado, mesActual, anioActual])\r\n\r\n  if (!isOpen) return null\r\n\r\n  const handleConfirm = () => {\r\n    onConfirm(mes, anio)\r\n    onClose()\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n      />\r\n      \r\n      {/* Modal */}\r\n      <div \r\n        className=\"relative z-10 w-full max-w-md mx-4 rounded-2xl p-6\"\r\n        style={{\r\n          background: 'rgba(17, 24, 39, 0.95)',\r\n          backdropFilter: 'blur(20px)',\r\n          border: '1px solid rgba(34, 197, 94, 0.3)',\r\n          boxShadow: '0 8px 32px 0 rgba(34, 197, 94, 0.3)',\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-green-400\">\r\n            Seleccionar Per√≠odo\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Contenido */}\r\n        <div className=\"space-y-6\">\r\n          {/* Detecci√≥n autom√°tica */}\r\n          {mesDetectado && anioDetectado && (\r\n            <div \r\n              className=\"p-4 rounded-lg\"\r\n              style={{\r\n                background: 'rgba(34, 197, 94, 0.1)',\r\n                border: '1px solid rgba(34, 197, 94, 0.3)',\r\n              }}\r\n            >\r\n              <p className=\"text-sm text-green-400 mb-2\">\r\n                ‚úì Mes detectado autom√°ticamente\r\n              </p>\r\n              <p className=\"text-sm text-gray-300\">\r\n                {MESES[mesDetectado - 1].label} {anioDetectado}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Selector de Mes */}\r\n          <div>\r\n            <label className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n              Mes\r\n            </label>\r\n            <select\r\n              value={mes}\r\n              onChange={(e) => setMes(Number(e.target.value))}\r\n              className=\"w-full px-4 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none\"\r\n            >\r\n              {MESES.map(m => (\r\n                <option key={m.value} value={m.value}>\r\n                  {m.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Selector de A√±o */}\r\n          <div>\r\n            <label className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n              A√±o\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={anio}\r\n              onChange={(e) => setAnio(Number(e.target.value))}\r\n              min={2020}\r\n              max={2100}\r\n              className=\"w-full px-4 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* Botones */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              onClick={onClose}\r\n              variant=\"outline\"\r\n              className=\"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700\"\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              onClick={handleConfirm}\r\n              className=\"flex-1 bg-green-600 hover:bg-green-500 text-white\"\r\n            >\r\n              Confirmar\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { supabase } from './supabase/client'\r\nimport { ExcelData, ExcelRow } from './excel-reader'\r\nimport { Medico, DetalleGuardiaInsert, LiquidacionGuardiaInsert, ValorConsultaObraSocial } from './types'\r\nimport { esResidenteHorarioFormativo, horaAMinutos } from './utils'\r\nimport { calcularNumeroLiquidacion } from './utils'\r\n\r\ninterface ProcesamientoResult {\r\n  liquidacionId: string\r\n  totalFilas: number\r\n  procesadas: number\r\n  errores: string[]\r\n  advertencias: string[]\r\n}\r\n\r\n/**\r\n * Normaliza el nombre de una columna para b√∫squeda flexible\r\n */\r\nfunction normalizarColumna(nombre: string): string {\r\n  return nombre\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .trim()\r\n}\r\n\r\n/**\r\n * Busca un valor en una fila por variaciones del nombre de columna\r\n */\r\nfunction buscarValor(row: ExcelRow, variaciones: string[]): any {\r\n  const keys = Object.keys(row)\r\n  \r\n  // Buscar coincidencia exacta\r\n  for (const variacion of variaciones) {\r\n    if (row[variacion] !== undefined && row[variacion] !== null) {\r\n      const valor = row[variacion]\r\n      if (typeof valor === 'string' && valor.trim() !== '') return valor.trim()\r\n      if (typeof valor !== 'string') return valor\r\n    }\r\n  }\r\n  \r\n  // Buscar coincidencia normalizada\r\n  const normalizadas = variaciones.map(normalizarColumna)\r\n  for (const key of keys) {\r\n    const keyNormalizada = normalizarColumna(key)\r\n    if (normalizadas.includes(keyNormalizada)) {\r\n      const valor = row[key]\r\n      if (valor !== undefined && valor !== null) {\r\n        if (typeof valor === 'string' && valor.trim() !== '') return valor.trim()\r\n        if (typeof valor !== 'string') return valor\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Buscar coincidencia parcial\r\n  for (const variacion of variaciones) {\r\n    const palabras = normalizarColumna(variacion).split(/\\s+/).filter(p => p.length > 2)\r\n    for (const key of keys) {\r\n      const keyNormalizada = normalizarColumna(key)\r\n      if (palabras.every(p => keyNormalizada.includes(p))) {\r\n        const valor = row[key]\r\n        if (valor !== undefined && valor !== null) {\r\n          if (typeof valor === 'string' && valor.trim() !== '') return valor.trim()\r\n          if (typeof valor !== 'string') return valor\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Busca un m√©dico por nombre en la lista de m√©dicos\r\n */\r\nfunction buscarMedico(nombre: string | null, medicos: Medico[]): Medico | null {\r\n  if (!nombre || typeof nombre !== 'string') return null\r\n  \r\n  const nombreNormalizado = nombre\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .trim()\r\n  \r\n  // Buscar coincidencia exacta\r\n  for (const medico of medicos) {\r\n    const medicoNombreNormalizado = medico.nombre\r\n      .toLowerCase()\r\n      .normalize('NFD')\r\n      .replace(/[\\u0300-\\u036f]/g, '')\r\n      .trim()\r\n    \r\n    if (medicoNombreNormalizado === nombreNormalizado) {\r\n      return medico\r\n    }\r\n    \r\n    // Buscar por apellido (primera parte antes de la coma)\r\n    const partesMedico = medico.nombre.split(',').map(p => p.trim())\r\n    if (partesMedico.length > 0) {\r\n      const apellidoMedico = partesMedico[0]\r\n        .toLowerCase()\r\n        .normalize('NFD')\r\n        .replace(/[\\u0300-\\u036f]/g, '')\r\n        .trim()\r\n      \r\n      if (nombreNormalizado.includes(apellidoMedico) || apellidoMedico.includes(nombreNormalizado)) {\r\n        return medico\r\n      }\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Convierte una fecha en formato DD/MM/YYYY a ISO (YYYY-MM-DD)\r\n */\r\nfunction convertirFechaISO(fecha: string | null | undefined): string | null {\r\n  if (!fecha || typeof fecha !== 'string') return null\r\n  \r\n  const match = fecha.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/)\r\n  if (!match) return null\r\n  \r\n  const dia = match[1].padStart(2, '0')\r\n  const mes = match[2].padStart(2, '0')\r\n  const anio = match[3]\r\n  \r\n  return `${anio}-${mes}-${dia}`\r\n}\r\n\r\n/**\r\n * Convierte una hora a formato HH:MM:SS\r\n */\r\nfunction convertirHora(hora: any): string | null {\r\n  if (!hora) return null\r\n  \r\n  if (typeof hora === 'string') {\r\n    // Ya es string, verificar formato\r\n    const match = hora.match(/(\\d{1,2}):(\\d{2})(?::(\\d{2}))?/)\r\n    if (match) {\r\n      const h = match[1].padStart(2, '0')\r\n      const m = match[2].padStart(2, '0')\r\n      const s = match[3] || '00'\r\n      return `${h}:${m}:${s}`\r\n    }\r\n  } else if (typeof hora === 'number') {\r\n    // Es un n√∫mero (serial de Excel), convertir a tiempo\r\n    const totalSegundos = Math.round(hora * 86400) // Excel almacena d√≠as como fracci√≥n\r\n    const horas = Math.floor(totalSegundos / 3600)\r\n    const minutos = Math.floor((totalSegundos % 3600) / 60)\r\n    const segundos = totalSegundos % 60\r\n    return `${String(horas).padStart(2, '0')}:${String(minutos).padStart(2, '0')}:${String(segundos).padStart(2, '0')}`\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Procesa un Excel de ginecolog√≠a y lo guarda en la base de datos\r\n */\r\nexport async function procesarExcelGinecologia(\r\n  excelData: ExcelData,\r\n  mes: number,\r\n  anio: number,\r\n  archivoNombre: string\r\n): Promise<ProcesamientoResult> {\r\n  const resultado: ProcesamientoResult = {\r\n    liquidacionId: '',\r\n    totalFilas: 0,\r\n    procesadas: 0,\r\n    errores: [],\r\n    advertencias: []\r\n  }\r\n\r\n  try {\r\n    // 1. Cargar m√©dicos de ginecolog√≠a\r\n    const { data: medicosData, error: errorMedicos } = await supabase\r\n      .from('medicos')\r\n      .select('*')\r\n      .eq('especialidad', 'Ginecolog√≠a')\r\n      .eq('activo', true) as { data: Medico[] | null; error: any }\r\n\r\n    if (errorMedicos) {\r\n      resultado.errores.push(`Error cargando m√©dicos: ${errorMedicos.message}`)\r\n      return resultado\r\n    }\r\n\r\n    const medicos = medicosData || []\r\n\r\n    // 2. Cargar valores de consultas ginecol√≥gicas\r\n    const { data: valoresData } = await supabase\r\n      .from('valores_consultas_obra_social')\r\n      .select('*')\r\n      .eq('tipo_consulta', 'CONSULTA GINECOLOGICA')\r\n      .eq('mes', mes)\r\n      .eq('anio', anio) as { data: ValorConsultaObraSocial[] | null }\r\n\r\n    const valoresConsultas = valoresData || []\r\n    const valoresPorObraSocial = new Map<string, number>()\r\n    valoresConsultas.forEach(v => {\r\n      valoresPorObraSocial.set(v.obra_social, v.valor)\r\n    })\r\n\r\n    // 3. Crear o obtener liquidaci√≥n\r\n    const numeroLiquidacion = calcularNumeroLiquidacion(mes, anio)\r\n    \r\n    // Verificar si ya existe\r\n    const { data: liquidacionExistente } = await supabase\r\n      .from('liquidaciones_guardia')\r\n      .select('id')\r\n      .eq('especialidad', 'Ginecolog√≠a')\r\n      .eq('mes', mes)\r\n      .eq('anio', anio)\r\n      .single()\r\n\r\n    let liquidacionId: string\r\n\r\n    if (liquidacionExistente && (liquidacionExistente as any).id) {\r\n      // Ya existe, usar la existente\r\n      liquidacionId = (liquidacionExistente as any).id\r\n      \r\n      // Eliminar detalles existentes\r\n      await supabase\r\n        .from('detalle_guardia')\r\n        .delete()\r\n        .eq('liquidacion_id', liquidacionId)\r\n    } else {\r\n      // Crear nueva liquidaci√≥n\r\n      const nuevaLiquidacion: LiquidacionGuardiaInsert = {\r\n        mes,\r\n        anio,\r\n        especialidad: 'Ginecolog√≠a',\r\n        estado: 'borrador',\r\n        total_consultas: 0,\r\n        total_bruto: 0,\r\n        total_retenciones: 0,\r\n        total_adicionales: 0,\r\n        total_neto: 0,\r\n        archivo_nombre: archivoNombre,\r\n        numero_liquidacion: numeroLiquidacion\r\n      }\r\n\r\n      const { data: liquidacionCreada, error: errorLiquidacion } = await supabase\r\n        .from('liquidaciones_guardia')\r\n        // @ts-ignore - La tabla no est√° en los tipos generados de Supabase a√∫n\r\n        .insert(nuevaLiquidacion)\r\n        .select('id')\r\n        .single()\r\n\r\n      if (errorLiquidacion || !liquidacionCreada) {\r\n        resultado.errores.push(`Error creando liquidaci√≥n: ${errorLiquidacion?.message || 'Error desconocido'}`)\r\n        return resultado\r\n      }\r\n\r\n      liquidacionId = (liquidacionCreada as any).id\r\n    }\r\n\r\n    resultado.liquidacionId = liquidacionId\r\n\r\n    // 4. Procesar cada fila del Excel\r\n    const detalles: DetalleGuardiaInsert[] = []\r\n    resultado.totalFilas = excelData.rows.length\r\n\r\n    for (let i = 0; i < excelData.rows.length; i++) {\r\n      const row = excelData.rows[i]\r\n      \r\n      try {\r\n        // Extraer datos de la fila\r\n        const fechaStr = buscarValor(row, ['Fecha', 'fecha', 'FECHA', 'Fecha visita', 'Fecha Visita'])\r\n        const hora = buscarValor(row, ['Hora', 'hora', 'HORA', 'Horario', 'horario'])\r\n        const paciente = buscarValor(row, ['Paciente', 'paciente', 'PACIENTE', 'Nombre paciente', 'Nombre Paciente'])\r\n        const obraSocial = buscarValor(row, ['Obra Social', 'obra social', 'Obra social', 'ObraSocial', 'Cliente'])\r\n        const medicoNombre = buscarValor(row, ['Responsable', 'responsable', 'M√©dico', 'medico', 'MEDICO', 'Medico', 'Profesional'])\r\n        \r\n        // Validar datos m√≠nimos\r\n        if (!fechaStr) {\r\n          resultado.advertencias.push(`Fila ${i + 1}: Sin fecha, se omite`)\r\n          continue\r\n        }\r\n\r\n        const fecha = convertirFechaISO(fechaStr)\r\n        if (!fecha) {\r\n          resultado.advertencias.push(`Fila ${i + 1}: Fecha inv√°lida (${fechaStr}), se omite`)\r\n          continue\r\n        }\r\n\r\n        // Buscar m√©dico\r\n        const medico = buscarMedico(medicoNombre, medicos)\r\n        const esResidente = medico?.es_residente || false\r\n\r\n        // Obtener valor de consulta\r\n        const obraSocialFinal = obraSocial || 'PARTICULARES'\r\n        const valorUnitario = valoresPorObraSocial.get(obraSocialFinal) || 0\r\n\r\n        // Aplicar regla de residentes\r\n        const horaFormato = convertirHora(hora)\r\n        const esHorarioFormativo = esResidenteHorarioFormativo(fecha, horaFormato, esResidente)\r\n        \r\n        let montoFacturado = valorUnitario\r\n        let importeCalculado = valorUnitario\r\n\r\n        if (esHorarioFormativo) {\r\n          // Residente en horario formativo: no se paga\r\n          montoFacturado = 0\r\n          importeCalculado = 0\r\n        }\r\n\r\n        // Crear detalle\r\n        const detalle: DetalleGuardiaInsert = {\r\n          liquidacion_id: liquidacionId,\r\n          medico_id: medico?.id || null,\r\n          fecha,\r\n          hora: horaFormato,\r\n          paciente: paciente || null,\r\n          obra_social: obraSocialFinal,\r\n          medico_nombre: medicoNombre || medico?.nombre || 'Desconocido',\r\n          medico_matricula: medico?.matricula || null,\r\n          medico_es_residente: esResidente,\r\n          monto_facturado: montoFacturado,\r\n          porcentaje_retencion: null, // Ginecolog√≠a no tiene retenci√≥n del 30%\r\n          monto_retencion: null,\r\n          monto_adicional: 0,\r\n          importe_calculado: importeCalculado,\r\n          aplica_adicional: false,\r\n          es_horario_formativo: esHorarioFormativo,\r\n          estado_revision: 'pendiente',\r\n          fila_excel: i + 1\r\n        }\r\n\r\n        detalles.push(detalle)\r\n        resultado.procesadas++\r\n\r\n      } catch (error: any) {\r\n        resultado.errores.push(`Fila ${i + 1}: ${error.message || 'Error desconocido'}`)\r\n      }\r\n    }\r\n\r\n    // 5. Guardar detalles en la base de datos\r\n    if (detalles.length > 0) {\r\n      const { error: errorDetalles } = await supabase\r\n        .from('detalle_guardia')\r\n        // @ts-ignore - La tabla no est√° en los tipos generados de Supabase a√∫n\r\n        .insert(detalles)\r\n\r\n      if (errorDetalles) {\r\n        resultado.errores.push(`Error guardando detalles: ${errorDetalles.message}`)\r\n        return resultado\r\n      }\r\n    }\r\n\r\n    // 6. Actualizar totales de la liquidaci√≥n\r\n    const totalConsultas = detalles.length\r\n    const totalBruto = detalles.reduce((sum, d) => sum + (d.monto_facturado || 0), 0)\r\n    const totalNeto = detalles.reduce((sum, d) => sum + (d.importe_calculado || 0), 0)\r\n\r\n    const { error: errorUpdate } = await supabase\r\n      .from('liquidaciones_guardia')\r\n      // @ts-ignore - La tabla no est√° en los tipos generados de Supabase a√∫n\r\n      .update({\r\n        total_consultas: totalConsultas,\r\n        total_bruto: totalBruto,\r\n        total_neto: totalNeto,\r\n        estado: 'finalizada'\r\n      })\r\n      .eq('id', liquidacionId)\r\n\r\n    if (errorUpdate) {\r\n      resultado.errores.push(`Error actualizando totales: ${errorUpdate.message}`)\r\n    }\r\n\r\n  } catch (error: any) {\r\n    resultado.errores.push(`Error general: ${error.message || 'Error desconocido'}`)\r\n  }\r\n\r\n  return resultado\r\n}\r\n\r\n"],"names":[],"mappings":"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"}