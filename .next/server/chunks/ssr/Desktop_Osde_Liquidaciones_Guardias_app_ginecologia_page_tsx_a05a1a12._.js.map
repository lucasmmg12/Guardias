{"version":3,"sources":["../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/components/custom/MesSelectorModal.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/lib/ginecologia-processor.ts","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/app/ginecologia/page.tsx","../../../../../../../../Desktop/Osde/Liquidaciones/Guardias/node_modules/lucide-react/src/icons/circle-x.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { X } from 'lucide-react'\r\n\r\ninterface MesSelectorModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n  onConfirm: (mes: number, anio: number) => void\r\n  mesDetectado: number | null\r\n  anioDetectado: number | null\r\n  mesActual: number\r\n  anioActual: number\r\n}\r\n\r\nconst MESES = [\r\n  { value: 1, label: 'Enero' },\r\n  { value: 2, label: 'Febrero' },\r\n  { value: 3, label: 'Marzo' },\r\n  { value: 4, label: 'Abril' },\r\n  { value: 5, label: 'Mayo' },\r\n  { value: 6, label: 'Junio' },\r\n  { value: 7, label: 'Julio' },\r\n  { value: 8, label: 'Agosto' },\r\n  { value: 9, label: 'Septiembre' },\r\n  { value: 10, label: 'Octubre' },\r\n  { value: 11, label: 'Noviembre' },\r\n  { value: 12, label: 'Diciembre' },\r\n]\r\n\r\nexport function MesSelectorModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  mesDetectado,\r\n  anioDetectado,\r\n  mesActual,\r\n  anioActual\r\n}: MesSelectorModalProps) {\r\n  const [mes, setMes] = useState(mesDetectado || mesActual)\r\n  const [anio, setAnio] = useState(anioDetectado || anioActual)\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setMes(mesDetectado || mesActual)\r\n      setAnio(anioDetectado || anioActual)\r\n    }\r\n  }, [isOpen, mesDetectado, anioDetectado, mesActual, anioActual])\r\n\r\n  if (!isOpen) return null\r\n\r\n  const handleConfirm = () => {\r\n    onConfirm(mes, anio)\r\n    onClose()\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/70 backdrop-blur-sm\"\r\n        onClick={onClose}\r\n      />\r\n      \r\n      {/* Modal */}\r\n      <div \r\n        className=\"relative z-10 w-full max-w-md mx-4 rounded-2xl p-6\"\r\n        style={{\r\n          background: 'rgba(17, 24, 39, 0.95)',\r\n          backdropFilter: 'blur(20px)',\r\n          border: '1px solid rgba(34, 197, 94, 0.3)',\r\n          boxShadow: '0 8px 32px 0 rgba(34, 197, 94, 0.3)',\r\n        }}\r\n      >\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-green-400\">\r\n            Seleccionar Período\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Contenido */}\r\n        <div className=\"space-y-6\">\r\n          {/* Detección automática */}\r\n          {mesDetectado && anioDetectado && (\r\n            <div \r\n              className=\"p-4 rounded-lg\"\r\n              style={{\r\n                background: 'rgba(34, 197, 94, 0.1)',\r\n                border: '1px solid rgba(34, 197, 94, 0.3)',\r\n              }}\r\n            >\r\n              <p className=\"text-sm text-green-400 mb-2\">\r\n                ✓ Mes detectado automáticamente\r\n              </p>\r\n              <p className=\"text-sm text-gray-300\">\r\n                {MESES[mesDetectado - 1].label} {anioDetectado}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Selector de Mes */}\r\n          <div>\r\n            <label className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n              Mes\r\n            </label>\r\n            <select\r\n              value={mes}\r\n              onChange={(e) => setMes(Number(e.target.value))}\r\n              className=\"w-full px-4 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none\"\r\n            >\r\n              {MESES.map(m => (\r\n                <option key={m.value} value={m.value}>\r\n                  {m.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* Selector de Año */}\r\n          <div>\r\n            <label className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n              Año\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              value={anio}\r\n              onChange={(e) => setAnio(Number(e.target.value))}\r\n              min={2020}\r\n              max={2100}\r\n              className=\"w-full px-4 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* Botones */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              onClick={onClose}\r\n              variant=\"outline\"\r\n              className=\"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700\"\r\n            >\r\n              Cancelar\r\n            </Button>\r\n            <Button\r\n              onClick={handleConfirm}\r\n              className=\"flex-1 bg-green-600 hover:bg-green-500 text-white\"\r\n            >\r\n              Confirmar\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n","import { supabase } from './supabase/client'\r\nimport { ExcelData, ExcelRow } from './excel-reader'\r\nimport { Medico, DetalleGuardiaInsert, LiquidacionGuardiaInsert, ValorConsultaObraSocial } from './types'\r\nimport { esResidenteHorarioFormativo, horaAMinutos } from './utils'\r\nimport { calcularNumeroLiquidacion } from './utils'\r\n\r\ninterface FilaExcluida {\r\n  numeroFila: number\r\n  razon: 'sin_fecha' | 'fecha_invalida'\r\n  datos: ExcelRow\r\n}\r\n\r\ninterface ProcesamientoResult {\r\n  liquidacionId: string\r\n  totalFilas: number\r\n  procesadas: number\r\n  errores: string[]\r\n  advertencias: string[]\r\n  filasExcluidas: FilaExcluida[]\r\n}\r\n\r\n/**\r\n * Normaliza el nombre de una columna para búsqueda flexible\r\n */\r\nfunction normalizarColumna(nombre: string): string {\r\n  return nombre\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .trim()\r\n}\r\n\r\n/**\r\n * Busca un valor en una fila por variaciones del nombre de columna\r\n */\r\nfunction buscarValor(row: ExcelRow, variaciones: string[]): any {\r\n  const keys = Object.keys(row)\r\n  \r\n  // Si no hay keys, retornar null\r\n  if (keys.length === 0) return null\r\n  \r\n  // Buscar coincidencia exacta (case-insensitive)\r\n  for (const variacion of variaciones) {\r\n    for (const key of keys) {\r\n      if (key.toLowerCase().trim() === variacion.toLowerCase().trim()) {\r\n        const valor = row[key]\r\n        if (valor !== undefined && valor !== null) {\r\n          if (typeof valor === 'string' && valor.trim() !== '') return valor.trim()\r\n          if (typeof valor !== 'string') return valor\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Buscar coincidencia normalizada (sin acentos, espacios)\r\n  const normalizadas = variaciones.map(normalizarColumna)\r\n  for (const key of keys) {\r\n    const keyNormalizada = normalizarColumna(key)\r\n    if (normalizadas.includes(keyNormalizada)) {\r\n      const valor = row[key]\r\n      if (valor !== undefined && valor !== null) {\r\n        if (typeof valor === 'string' && valor.trim() !== '') return valor.trim()\r\n        if (typeof valor !== 'string') return valor\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Buscar coincidencia parcial (contiene palabras clave)\r\n  for (const variacion of variaciones) {\r\n    const palabras = normalizarColumna(variacion).split(/\\s+/).filter(p => p.length > 2)\r\n    if (palabras.length === 0) continue\r\n    \r\n    for (const key of keys) {\r\n      const keyNormalizada = normalizarColumna(key)\r\n      // Verificar que todas las palabras importantes estén presentes\r\n      const todasPalabrasPresentes = palabras.every(p => keyNormalizada.includes(p))\r\n      if (todasPalabrasPresentes) {\r\n        const valor = row[key]\r\n        if (valor !== undefined && valor !== null) {\r\n          if (typeof valor === 'string' && valor.trim() !== '') return valor.trim()\r\n          if (typeof valor !== 'string') return valor\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Busca un médico por nombre en la lista de médicos\r\n */\r\n/**\r\n * Normaliza un nombre para búsqueda (sin acentos, minúsculas, sin espacios extra)\r\n */\r\nfunction normalizarNombre(nombre: string): string {\r\n  return nombre\r\n    .toLowerCase()\r\n    .normalize('NFD')\r\n    .replace(/[\\u0300-\\u036f]/g, '')\r\n    .replace(/\\s+/g, ' ')\r\n    .trim()\r\n}\r\n\r\n/**\r\n * Busca un médico por nombre en la lista de médicos\r\n * Búsqueda muy flexible con múltiples estrategias\r\n */\r\nfunction buscarMedico(nombre: string | null, medicos: Medico[]): Medico | null {\r\n  if (!nombre || typeof nombre !== 'string') return null\r\n  \r\n  const nombreTrimmed = nombre.trim()\r\n  if (nombreTrimmed === '') return null\r\n  \r\n  // ESTRATEGIA 0: Coincidencia exacta SIN normalizar (prioridad máxima)\r\n  // Si están escritos exactamente igual, encontrarlos inmediatamente\r\n  for (const medico of medicos) {\r\n    if (medico.nombre.trim() === nombreTrimmed) {\r\n      return medico\r\n    }\r\n  }\r\n  \r\n  const nombreNormalizado = normalizarNombre(nombre)\r\n  if (nombreNormalizado === '') return null\r\n  \r\n  // Estrategia 1: Coincidencia exacta (después de normalizar)\r\n  for (const medico of medicos) {\r\n    const medicoNombreNormalizado = normalizarNombre(medico.nombre)\r\n    if (medicoNombreNormalizado === nombreNormalizado) {\r\n      return medico\r\n    }\r\n  }\r\n  \r\n  // Estrategia 2: Coincidencia exacta sin considerar orden (si uno tiene coma y otro no)\r\n  // Ejemplo: \"García, Juan\" vs \"Juan García\"\r\n  const partesNombre = nombreNormalizado.split(',').map(p => p.trim())\r\n  const palabrasNombre = nombreNormalizado.split(/\\s+/).filter(p => p.length > 2)\r\n  \r\n  for (const medico of medicos) {\r\n    const medicoNombreNormalizado = normalizarNombre(medico.nombre)\r\n    const partesMedico = medicoNombreNormalizado.split(',').map(p => p.trim())\r\n    const palabrasMedico = medicoNombreNormalizado.split(/\\s+/).filter(p => p.length > 2)\r\n    \r\n    // Si ambos tienen las mismas palabras (sin importar orden)\r\n    if (palabrasNombre.length > 0 && palabrasMedico.length > 0) {\r\n      const palabrasNombreSet = new Set(palabrasNombre)\r\n      const palabrasMedicoSet = new Set(palabrasMedico)\r\n      \r\n      if (palabrasNombreSet.size === palabrasMedicoSet.size &&\r\n          Array.from(palabrasNombreSet).every(p => palabrasMedicoSet.has(p))) {\r\n        return medico\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Estrategia 3: Buscar por apellido (primera parte antes de la coma o primera palabra)\r\n  const apellidoNombre = partesNombre.length > 1 \r\n    ? partesNombre[0].trim()\r\n    : (palabrasNombre.length > 0 ? palabrasNombre[0] : nombreNormalizado)\r\n  \r\n  // Primero buscar coincidencia exacta de apellido\r\n  let mejorCoincidenciaApellido: Medico | null = null\r\n  let mejorPuntuacionApellido = 0\r\n  \r\n  for (const medico of medicos) {\r\n    const medicoNombreNormalizado = normalizarNombre(medico.nombre)\r\n    const partesMedico = medicoNombreNormalizado.split(',').map(p => p.trim())\r\n    const palabrasMedico = medicoNombreNormalizado.split(/\\s+/).filter(p => p.length > 2)\r\n    \r\n    const apellidoMedico = partesMedico.length > 1\r\n      ? partesMedico[0].trim()\r\n      : (palabrasMedico.length > 0 ? palabrasMedico[0] : medicoNombreNormalizado)\r\n    \r\n    // Coincidencia exacta de apellido (prioridad máxima)\r\n    if (apellidoNombre === apellidoMedico && apellidoNombre.length > 2) {\r\n      // Si hay coincidencia exacta, verificar si también coinciden más palabras\r\n      const palabrasCoincidentes = palabrasNombre.filter(p => \r\n        palabrasMedico.some(m => m === p || m.includes(p) || p.includes(m))\r\n      ).length\r\n      \r\n      if (palabrasCoincidentes > mejorPuntuacionApellido) {\r\n        mejorPuntuacionApellido = palabrasCoincidentes\r\n        mejorCoincidenciaApellido = medico\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Si encontramos coincidencia exacta de apellido con buena puntuación, retornarla\r\n  if (mejorCoincidenciaApellido && mejorPuntuacionApellido > 0) {\r\n    return mejorCoincidenciaApellido\r\n  }\r\n  \r\n  // Si no, buscar coincidencia parcial de apellido\r\n  for (const medico of medicos) {\r\n    const medicoNombreNormalizado = normalizarNombre(medico.nombre)\r\n    const partesMedico = medicoNombreNormalizado.split(',').map(p => p.trim())\r\n    const palabrasMedico = medicoNombreNormalizado.split(/\\s+/).filter(p => p.length > 2)\r\n    \r\n    const apellidoMedico = partesMedico.length > 1\r\n      ? partesMedico[0].trim()\r\n      : (palabrasMedico.length > 0 ? palabrasMedico[0] : medicoNombreNormalizado)\r\n    \r\n    // Coincidencia parcial de apellido (uno contiene al otro)\r\n    if (apellidoNombre.length > 2 && apellidoMedico.length > 2) {\r\n      if (apellidoNombre.includes(apellidoMedico) || apellidoMedico.includes(apellidoNombre)) {\r\n        // Verificar también cuántas palabras coinciden\r\n        const palabrasCoincidentes = palabrasNombre.filter(p => \r\n          palabrasMedico.some(m => m === p || m.includes(p) || p.includes(m))\r\n        ).length\r\n        \r\n        if (palabrasCoincidentes >= mejorPuntuacionApellido) {\r\n          mejorPuntuacionApellido = palabrasCoincidentes\r\n          mejorCoincidenciaApellido = medico\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  if (mejorCoincidenciaApellido) {\r\n    return mejorCoincidenciaApellido\r\n  }\r\n  \r\n  // Estrategia 4: Buscar por todas las palabras importantes (todas deben estar presentes)\r\n  if (palabrasNombre.length > 0) {\r\n    for (const medico of medicos) {\r\n      const medicoNombreNormalizado = normalizarNombre(medico.nombre)\r\n      const palabrasMedico = medicoNombreNormalizado.split(/\\s+/).filter(p => p.length > 2)\r\n      \r\n      // Si todas las palabras del nombre están en el nombre del médico\r\n      if (palabrasNombre.every(p => medicoNombreNormalizado.includes(p))) {\r\n        return medico\r\n      }\r\n      \r\n      // Si todas las palabras del médico están en el nombre\r\n      if (palabrasMedico.length > 0 && palabrasMedico.every(p => nombreNormalizado.includes(p))) {\r\n        return medico\r\n      }\r\n    }\r\n  }\r\n  \r\n  // Estrategia 5: Búsqueda por similitud (al menos 2 palabras coinciden)\r\n  if (palabrasNombre.length >= 2) {\r\n    let mejorCoincidencia: Medico | null = null\r\n    let mejorPuntuacion = 0\r\n    \r\n    for (const medico of medicos) {\r\n      const medicoNombreNormalizado = normalizarNombre(medico.nombre)\r\n      const palabrasMedico = medicoNombreNormalizado.split(/\\s+/).filter(p => p.length > 2)\r\n      \r\n      // Contar cuántas palabras coinciden\r\n      const palabrasCoincidentes = palabrasNombre.filter(p => \r\n        palabrasMedico.some(m => m.includes(p) || p.includes(m))\r\n      ).length\r\n      \r\n      if (palabrasCoincidentes >= 2 && palabrasCoincidentes > mejorPuntuacion) {\r\n        mejorPuntuacion = palabrasCoincidentes\r\n        mejorCoincidencia = medico\r\n      }\r\n    }\r\n    \r\n    if (mejorCoincidencia) {\r\n      return mejorCoincidencia\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Convierte una fecha en múltiples formatos a ISO (YYYY-MM-DD)\r\n */\r\nfunction convertirFechaISO(fecha: string | null | undefined): string | null {\r\n  if (!fecha) return null\r\n  \r\n  const fechaStr = String(fecha).trim()\r\n  if (fechaStr === '') return null\r\n  \r\n  // Intentar formato DD/MM/YYYY\r\n  const matchDDMMYYYY = fechaStr.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/)\r\n  if (matchDDMMYYYY) {\r\n    const dia = matchDDMMYYYY[1].padStart(2, '0')\r\n    const mes = matchDDMMYYYY[2].padStart(2, '0')\r\n    const anio = matchDDMMYYYY[3]\r\n    return `${anio}-${mes}-${dia}`\r\n  }\r\n  \r\n  // Intentar formato YYYY-MM-DD (ya está en ISO)\r\n  const matchISO = fechaStr.match(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/)\r\n  if (matchISO) {\r\n    const anio = matchISO[1]\r\n    const mes = matchISO[2].padStart(2, '0')\r\n    const dia = matchISO[3].padStart(2, '0')\r\n    return `${anio}-${mes}-${dia}`\r\n  }\r\n  \r\n  // Intentar parsear como Date object\r\n  try {\r\n    const dateObj = new Date(fechaStr)\r\n    if (!isNaN(dateObj.getTime())) {\r\n      const year = dateObj.getFullYear()\r\n      const month = String(dateObj.getMonth() + 1).padStart(2, '0')\r\n      const day = String(dateObj.getDate()).padStart(2, '0')\r\n      return `${year}-${month}-${day}`\r\n    }\r\n  } catch {\r\n    // Ignorar error\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Convierte una hora a formato HH:MM:SS\r\n */\r\nfunction convertirHora(hora: any): string | null {\r\n  if (!hora) return null\r\n  \r\n  if (typeof hora === 'string') {\r\n    // Ya es string, verificar formato\r\n    const match = hora.match(/(\\d{1,2}):(\\d{2})(?::(\\d{2}))?/)\r\n    if (match) {\r\n      const h = match[1].padStart(2, '0')\r\n      const m = match[2].padStart(2, '0')\r\n      const s = match[3] || '00'\r\n      return `${h}:${m}:${s}`\r\n    }\r\n  } else if (typeof hora === 'number') {\r\n    // Es un número (serial de Excel), convertir a tiempo\r\n    const totalSegundos = Math.round(hora * 86400) // Excel almacena días como fracción\r\n    const horas = Math.floor(totalSegundos / 3600)\r\n    const minutos = Math.floor((totalSegundos % 3600) / 60)\r\n    const segundos = totalSegundos % 60\r\n    return `${String(horas).padStart(2, '0')}:${String(minutos).padStart(2, '0')}:${String(segundos).padStart(2, '0')}`\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n/**\r\n * Procesa un Excel de ginecología y lo guarda en la base de datos\r\n */\r\nexport async function procesarExcelGinecologia(\r\n  excelData: ExcelData,\r\n  mes: number,\r\n  anio: number,\r\n  archivoNombre: string\r\n): Promise<ProcesamientoResult> {\r\n  const resultado: ProcesamientoResult = {\r\n    liquidacionId: '',\r\n    totalFilas: 0,\r\n    procesadas: 0,\r\n    errores: [],\r\n    advertencias: [],\r\n    filasExcluidas: []\r\n  }\r\n\r\n  try {\r\n    // 1. Cargar TODOS los médicos (sin filtrar por especialidad)\r\n    const { data: medicosData, error: errorMedicos } = await supabase\r\n      .from('medicos')\r\n      .select('*') as { data: Medico[] | null; error: any }\r\n\r\n    if (errorMedicos) {\r\n      resultado.errores.push(`Error cargando médicos: ${errorMedicos.message}`)\r\n      return resultado\r\n    }\r\n\r\n    const medicos = medicosData || []\r\n    \r\n    // Log para debugging: mostrar cantidad de médicos cargados\r\n    console.log(`[Ginecología] Médicos cargados: ${medicos.length}`)\r\n    console.log(`[Ginecología] Residentes: ${medicos.filter(m => m.matricula_provincial === null).length}`)\r\n    console.log(`[Ginecología] No residentes: ${medicos.filter(m => m.matricula_provincial !== null).length}`)\r\n    console.log(`[Ginecología] Nombres de médicos:`, medicos.map(m => `${m.nombre} (${m.matricula_provincial === null ? 'RESIDENTE' : 'NO RESIDENTE'})`).slice(0, 10))\r\n\r\n    // 2. Cargar valores de consultas ginecológicas\r\n    const { data: valoresData } = await supabase\r\n      .from('valores_consultas_obra_social')\r\n      .select('*')\r\n      .eq('tipo_consulta', 'CONSULTA GINECOLOGICA')\r\n      .eq('mes', mes)\r\n      .eq('anio', anio) as { data: ValorConsultaObraSocial[] | null }\r\n\r\n    const valoresConsultas = valoresData || []\r\n    const valoresPorObraSocial = new Map<string, number>()\r\n    valoresConsultas.forEach(v => {\r\n      valoresPorObraSocial.set(v.obra_social, v.valor)\r\n    })\r\n\r\n    // 3. Crear o obtener liquidación\r\n    const numeroLiquidacion = calcularNumeroLiquidacion(mes, anio)\r\n    \r\n    // Verificar si ya existe\r\n    const { data: liquidacionExistente } = await supabase\r\n      .from('liquidaciones_guardia')\r\n      .select('id')\r\n      .eq('especialidad', 'Ginecología')\r\n      .eq('mes', mes)\r\n      .eq('anio', anio)\r\n      .single()\r\n\r\n    let liquidacionId: string\r\n\r\n    if (liquidacionExistente && (liquidacionExistente as any).id) {\r\n      // Ya existe, usar la existente\r\n      liquidacionId = (liquidacionExistente as any).id\r\n      \r\n      // Eliminar detalles existentes\r\n      await supabase\r\n        .from('detalle_guardia')\r\n        .delete()\r\n        .eq('liquidacion_id', liquidacionId)\r\n    } else {\r\n      // Crear nueva liquidación\r\n      const nuevaLiquidacion: LiquidacionGuardiaInsert = {\r\n        mes,\r\n        anio,\r\n        especialidad: 'Ginecología',\r\n        estado: 'borrador',\r\n        total_consultas: 0,\r\n        total_bruto: 0,\r\n        total_retenciones: 0,\r\n        total_adicionales: 0,\r\n        total_neto: 0,\r\n        archivo_nombre: archivoNombre,\r\n        numero_liquidacion: numeroLiquidacion\r\n      }\r\n\r\n      const { data: liquidacionCreada, error: errorLiquidacion } = await supabase\r\n        .from('liquidaciones_guardia')\r\n        // @ts-ignore - La tabla no está en los tipos generados de Supabase aún\r\n        .insert(nuevaLiquidacion)\r\n        .select('id')\r\n        .single()\r\n\r\n      if (errorLiquidacion) {\r\n        resultado.errores.push(`Error creando liquidación: ${errorLiquidacion.message || 'Error desconocido'}. Detalles: ${JSON.stringify(errorLiquidacion)}`)\r\n        console.error('Error creando liquidación:', errorLiquidacion)\r\n        return resultado\r\n      }\r\n\r\n      if (!liquidacionCreada || !(liquidacionCreada as any).id) {\r\n        resultado.errores.push(`Error: No se pudo crear la liquidación. Respuesta: ${JSON.stringify(liquidacionCreada)}`)\r\n        console.error('Liquidación no creada:', liquidacionCreada)\r\n        return resultado\r\n      }\r\n\r\n      liquidacionId = (liquidacionCreada as any).id\r\n    }\r\n\r\n    resultado.liquidacionId = liquidacionId\r\n\r\n    // 4. Extraer todos los nombres únicos de \"Responsable\" del Excel\r\n    const nombresUnicos = new Set<string>()\r\n    const nombresOriginales = new Map<string, string>() // nombre normalizado -> nombre original\r\n    \r\n    console.log(`Extrayendo nombres únicos de ${excelData.rows.length} filas del Excel`)\r\n    \r\n    for (const row of excelData.rows) {\r\n      const medicoNombre = buscarValor(row, [\r\n        'Responsable', 'responsable', 'RESPONSABLE',\r\n        'Médico', 'medico', 'MEDICO', 'Medico',\r\n        'Profesional', 'profesional', 'PROFESIONAL',\r\n        'Médico responsable', 'Médico Responsable', 'Medico Responsable',\r\n        'MÉDICO RESPONSABLE'\r\n      ])\r\n      \r\n      if (medicoNombre && typeof medicoNombre === 'string' && medicoNombre.trim() !== '') {\r\n        const nombreNormalizado = normalizarNombre(medicoNombre.trim())\r\n        if (nombreNormalizado !== '') {\r\n          nombresUnicos.add(nombreNormalizado)\r\n          // Guardar el nombre original (el primero que encontramos)\r\n          if (!nombresOriginales.has(nombreNormalizado)) {\r\n            nombresOriginales.set(nombreNormalizado, medicoNombre.trim())\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    console.log(`[Mapeo] Nombres únicos encontrados en Excel: ${nombresUnicos.size}`)\r\n    console.log(`[Mapeo] Nombres únicos:`, Array.from(nombresUnicos).slice(0, 10))\r\n    \r\n    // 5. Buscar cada nombre único en la BD y crear mapa\r\n    const mapaNombresMedicos = new Map<string, Medico>() // nombre normalizado -> médico\r\n    \r\n    for (const nombreNormalizado of nombresUnicos) {\r\n      const medico = buscarMedico(nombresOriginales.get(nombreNormalizado) || nombreNormalizado, medicos)\r\n      if (medico) {\r\n        mapaNombresMedicos.set(nombreNormalizado, medico)\r\n      }\r\n    }\r\n    \r\n    // Logging detallado del mapeo\r\n    const nombresEncontrados = Array.from(mapaNombresMedicos.keys())\r\n    const nombresNoEncontrados = Array.from(nombresUnicos).filter(n => !mapaNombresMedicos.has(n))\r\n    \r\n    console.log(`[Mapeo] Médicos encontrados: ${nombresEncontrados.length}/${nombresUnicos.size}`)\r\n    console.log(`[Mapeo] Médicos NO encontrados: ${nombresNoEncontrados.length}`)\r\n    \r\n    if (nombresEncontrados.length > 0) {\r\n      console.log(`[Mapeo] Médicos encontrados:`)\r\n      nombresEncontrados.forEach(nombreNorm => {\r\n        const medico = mapaNombresMedicos.get(nombreNorm)!\r\n        const nombreOriginal = nombresOriginales.get(nombreNorm) || nombreNorm\r\n        console.log(`  - \"${nombreOriginal}\" -> \"${medico.nombre}\" (${medico.matricula_provincial === null ? 'RESIDENTE' : 'NO RESIDENTE'})`)\r\n      })\r\n    }\r\n    \r\n    if (nombresNoEncontrados.length > 0) {\r\n      console.log(`[Mapeo] Médicos NO encontrados:`)\r\n      nombresNoEncontrados.forEach(nombreNorm => {\r\n        const nombreOriginal = nombresOriginales.get(nombreNorm) || nombreNorm\r\n        console.log(`  - \"${nombreOriginal}\" (normalizado: \"${nombreNorm}\")`)\r\n      })\r\n      resultado.advertencias.push(`Médicos no encontrados en BD (${nombresNoEncontrados.length}): ${nombresNoEncontrados.slice(0, 5).map(n => nombresOriginales.get(n) || n).join(', ')}${nombresNoEncontrados.length > 5 ? '...' : ''}`)\r\n    }\r\n    \r\n    // 6. Procesar cada fila del Excel usando el mapa\r\n    const detalles: DetalleGuardiaInsert[] = []\r\n    resultado.totalFilas = excelData.rows.length\r\n\r\n    if (excelData.rows.length === 0) {\r\n      resultado.errores.push('El Excel no contiene filas de datos')\r\n      return resultado\r\n    }\r\n\r\n    console.log(`Procesando ${excelData.rows.length} filas del Excel`)\r\n    console.log('Headers disponibles:', excelData.headers)\r\n\r\n    // Contadores para debugging\r\n    let filasSinFecha = 0\r\n    let filasFechaInvalida = 0\r\n    let filasProcesadas = 0\r\n\r\n    for (let i = 0; i < excelData.rows.length; i++) {\r\n      const row = excelData.rows[i]\r\n      \r\n      try {\r\n        // Extraer datos de la fila - AUMENTAR VARIACIONES DE BÚSQUEDA\r\n        const fechaStr = buscarValor(row, [\r\n          'Fecha', 'fecha', 'FECHA', \r\n          'Fecha visita', 'Fecha Visita', 'Fecha de visita',\r\n          'Fecha de Visita', 'Fecha De Visita',\r\n          'Fecha de atención', 'Fecha Atención', 'Fecha de Atención',\r\n          'Fecha de la consulta', 'Fecha Consulta', 'Fecha de Consulta',\r\n          'FECHA VISITA', 'FECHA DE VISITA',\r\n          'Fecha Visita', 'Fecha visita'\r\n        ])\r\n        const hora = buscarValor(row, [\r\n          'Hora', 'hora', 'HORA', \r\n          'Horario', 'horario', 'HORARIO',\r\n          'Hora inicio', 'Hora Inicio', 'Hora de inicio',\r\n          'Hora de Inicio', 'HORA INICIO'\r\n        ])\r\n        const paciente = buscarValor(row, [\r\n          'Paciente', 'paciente', 'PACIENTE', \r\n          'Nombre paciente', 'Nombre Paciente', 'Nombre del paciente',\r\n          'NOMBRE PACIENTE'\r\n        ])\r\n        const obraSocial = buscarValor(row, [\r\n          'Obra Social', 'obra social', 'Obra social', \r\n          'ObraSocial', 'Cliente', 'Obra', \r\n          'Obra Social / Cliente', 'Obra Social/Cliente',\r\n          'OBRA SOCIAL', 'CLIENTE'\r\n        ])\r\n        const medicoNombre = buscarValor(row, [\r\n          'Responsable', 'responsable', 'RESPONSABLE',\r\n          'Médico', 'medico', 'MEDICO', 'Medico',\r\n          'Profesional', 'profesional', 'PROFESIONAL',\r\n          'Médico responsable', 'Médico Responsable', 'Medico Responsable',\r\n          'MÉDICO RESPONSABLE'\r\n        ])\r\n        \r\n        // MEJORAR: Intentar múltiples formatos de fecha\r\n        let fecha: string | null = null\r\n        \r\n        if (fechaStr) {\r\n          // Intentar formato DD/MM/YYYY\r\n          fecha = convertirFechaISO(fechaStr)\r\n          \r\n          // Si falla, intentar otros formatos\r\n          if (!fecha) {\r\n            // Intentar formato YYYY-MM-DD\r\n            const matchISO = String(fechaStr).match(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/)\r\n            if (matchISO) {\r\n              fecha = fechaStr // Ya está en formato ISO\r\n            } else {\r\n              // Intentar parsear como Date object\r\n              try {\r\n                const dateObj = new Date(fechaStr)\r\n                if (!isNaN(dateObj.getTime())) {\r\n                  const year = dateObj.getFullYear()\r\n                  const month = String(dateObj.getMonth() + 1).padStart(2, '0')\r\n                  const day = String(dateObj.getDate()).padStart(2, '0')\r\n                  fecha = `${year}-${month}-${day}`\r\n                }\r\n              } catch {\r\n                // Ignorar error\r\n              }\r\n            }\r\n          }\r\n        }\r\n        \r\n        // Validar datos mínimos - OMITIR FILAS SIN FECHA SIN ADVERTENCIA\r\n        if (!fecha) {\r\n          filasSinFecha++\r\n          resultado.filasExcluidas.push({\r\n            numeroFila: i + 1,\r\n            razon: 'sin_fecha',\r\n            datos: row\r\n          })\r\n          continue\r\n        }\r\n\r\n        // Validar que la fecha sea razonable (entre 2020 y 2100)\r\n        const fechaAnio = parseInt(fecha.split('-')[0])\r\n        if (fechaAnio < 2020 || fechaAnio > 2100) {\r\n          filasFechaInvalida++\r\n          resultado.filasExcluidas.push({\r\n            numeroFila: i + 1,\r\n            razon: 'fecha_invalida',\r\n            datos: row\r\n          })\r\n          resultado.advertencias.push(`Fila ${i + 1}: Fecha fuera de rango (${fecha}), se omite`)\r\n          continue\r\n        }\r\n\r\n        // Buscar médico en el mapa (ya pre-calculado)\r\n        let medico: Medico | null = null\r\n        if (medicoNombre && typeof medicoNombre === 'string' && medicoNombre.trim() !== '') {\r\n          const nombreNormalizado = normalizarNombre(medicoNombre.trim())\r\n          medico = mapaNombresMedicos.get(nombreNormalizado) || null\r\n        }\r\n        \r\n        // Determinar si es residente: matricula_provincial IS NULL = residente\r\n        const esResidente = medico ? (medico.matricula_provincial === null) : false\r\n\r\n        // Si no se encuentra el médico, registrar advertencia pero continuar (solo una vez por nombre único)\r\n        if (!medico && medicoNombre) {\r\n          // Solo registrar advertencia si es la primera vez que vemos este nombre\r\n          const nombreNormalizado = normalizarNombre(medicoNombre.trim())\r\n          if (!mapaNombresMedicos.has(nombreNormalizado)) {\r\n            // Ya se registró en el mapeo inicial, no duplicar\r\n          }\r\n        }\r\n\r\n        // Obtener valor de consulta\r\n        const obraSocialFinal = obraSocial || 'PARTICULARES' // Asignar 'PARTICULARES' automáticamente si no hay obra social\r\n        \r\n        // Buscar valor en el Map\r\n        let valorUnitario = valoresPorObraSocial.get(obraSocialFinal) || 0\r\n        \r\n        // Si es PARTICULARES y no se encontró valor, buscar específicamente \"PARTICULARES\" en la BD\r\n        if (valorUnitario === 0 && obraSocialFinal === 'PARTICULARES') {\r\n          // Buscar valor para PARTICULARES en la BD\r\n          const { data: valorParticular } = await supabase\r\n            .from('valores_consultas_obra_social')\r\n            .select('valor')\r\n            .eq('obra_social', 'PARTICULARES')\r\n            .eq('tipo_consulta', 'CONSULTA GINECOLOGICA')\r\n            .eq('mes', mes)\r\n            .eq('anio', anio)\r\n            .single()\r\n          \r\n          if (valorParticular && (valorParticular as any).valor) {\r\n            valorUnitario = (valorParticular as any).valor\r\n            // Agregar al Map para futuras consultas\r\n            valoresPorObraSocial.set('PARTICULARES', valorUnitario)\r\n          }\r\n        }\r\n        \r\n        // Solo registrar advertencia si NO es PARTICULARES y no tiene valor\r\n        if (valorUnitario === 0 && obraSocialFinal !== 'PARTICULARES') {\r\n          resultado.advertencias.push(`Fila ${i + 1}: No hay valor configurado para obra social: ${obraSocialFinal}`)\r\n        }\r\n\r\n        // Aplicar regla de residentes\r\n        const horaFormato = convertirHora(hora)\r\n        const esHorarioFormativo = esResidenteHorarioFormativo(fecha, horaFormato, esResidente)\r\n        \r\n        let montoFacturado = valorUnitario\r\n        let importeCalculado = valorUnitario\r\n\r\n        if (esHorarioFormativo) {\r\n          // Residente en horario formativo: no se paga\r\n          montoFacturado = 0\r\n          importeCalculado = 0\r\n        }\r\n\r\n        // Crear detalle\r\n        const detalle: DetalleGuardiaInsert = {\r\n          liquidacion_id: liquidacionId,\r\n          medico_id: medico?.id || null,\r\n          fecha,\r\n          hora: horaFormato,\r\n          paciente: paciente || null,\r\n          obra_social: obraSocialFinal, // Puede ser null si no hay obra social\r\n          medico_nombre: medicoNombre || medico?.nombre || 'Desconocido',\r\n          medico_matricula: medico?.matricula_provincial || null,\r\n          medico_es_residente: esResidente,\r\n          monto_facturado: montoFacturado,\r\n          porcentaje_retencion: null, // Ginecología no tiene retención del 30%\r\n          monto_retencion: null,\r\n          monto_adicional: 0,\r\n          importe_calculado: importeCalculado,\r\n          aplica_adicional: false,\r\n          es_horario_formativo: esHorarioFormativo,\r\n          estado_revision: 'pendiente',\r\n          fila_excel: i + 1\r\n        }\r\n\r\n        detalles.push(detalle)\r\n        filasProcesadas++\r\n        resultado.procesadas++\r\n\r\n      } catch (error: any) {\r\n        const errorMsg = error.message || 'Error desconocido'\r\n        resultado.errores.push(`Fila ${i + 1}: ${errorMsg}`)\r\n        console.error(`Error procesando fila ${i + 1}:`, error)\r\n        console.error('Datos de la fila:', row)\r\n      }\r\n    }\r\n\r\n    // Agregar resumen de advertencias al final\r\n    console.log(`Resumen: ${filasProcesadas} procesadas, ${filasSinFecha} sin fecha, ${filasFechaInvalida} fecha inválida`)\r\n    if (filasSinFecha > 0 || filasFechaInvalida > 0) {\r\n      resultado.advertencias.push(`Total omitidas: ${filasSinFecha + filasFechaInvalida} (${filasSinFecha} sin fecha, ${filasFechaInvalida} fecha inválida)`)\r\n    }\r\n\r\n    // 5. Guardar detalles en la base de datos\r\n    if (detalles.length === 0) {\r\n      resultado.errores.push('No se procesó ninguna fila válida. Verifique que el Excel tenga fechas válidas.')\r\n      return resultado\r\n    }\r\n\r\n    console.log(`Guardando ${detalles.length} detalles en la base de datos`)\r\n    \r\n    // Insertar en lotes de 100 para evitar problemas de tamaño\r\n    const batchSize = 100\r\n    for (let i = 0; i < detalles.length; i += batchSize) {\r\n      const batch = detalles.slice(i, i + batchSize)\r\n      const { error: errorDetalles } = await supabase\r\n        .from('detalle_guardia')\r\n        // @ts-ignore - La tabla no está en los tipos generados de Supabase aún\r\n        .insert(batch)\r\n\r\n      if (errorDetalles) {\r\n        resultado.errores.push(`Error guardando detalles (lote ${Math.floor(i / batchSize) + 1}): ${errorDetalles.message}. Detalles: ${JSON.stringify(errorDetalles)}`)\r\n        console.error('Error guardando detalles:', errorDetalles)\r\n        console.error('Primer detalle del lote:', batch[0])\r\n        return resultado\r\n      }\r\n    }\r\n\r\n    // 6. Actualizar totales de la liquidación\r\n    const totalConsultas = detalles.length\r\n    const totalBruto = detalles.reduce((sum, d) => sum + (d.monto_facturado || 0), 0)\r\n    const totalNeto = detalles.reduce((sum, d) => sum + (d.importe_calculado || 0), 0)\r\n\r\n    const { error: errorUpdate } = await supabase\r\n      .from('liquidaciones_guardia')\r\n      // @ts-ignore - La tabla no está en los tipos generados de Supabase aún\r\n      .update({\r\n        total_consultas: totalConsultas,\r\n        total_bruto: totalBruto,\r\n        total_neto: totalNeto,\r\n        estado: 'finalizada' // Estado inicial: finalizada (como estaba antes)\r\n      })\r\n      .eq('id', liquidacionId)\r\n\r\n    if (errorUpdate) {\r\n      resultado.errores.push(`Error actualizando totales: ${errorUpdate.message}`)\r\n    }\r\n\r\n  } catch (error: any) {\r\n    resultado.errores.push(`Error general: ${error.message || 'Error desconocido'}`)\r\n  }\r\n\r\n  return resultado\r\n}\r\n\r\n","'use client'\n\nimport { useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { UploadExcel } from '@/components/custom/UploadExcel'\nimport { MesSelectorModal } from '@/components/custom/MesSelectorModal'\nimport { NotificationModal, NotificationType } from '@/components/custom/NotificationModal'\nimport { readExcelFile, ExcelData } from '@/lib/excel-reader'\nimport { procesarExcelGinecologia } from '@/lib/ginecologia-processor'\nimport { ExpandableSection } from '@/components/custom/ExpandableSection'\nimport { AlertTriangle, XCircle } from 'lucide-react'\nimport { supabase } from '@/lib/supabase/client'\nimport { AlertCircle, Sparkles, ArrowLeft } from 'lucide-react'\nimport Link from 'next/link'\nimport { Button } from '@/components/ui/button'\n\nexport default function GinecologiaPage() {\n    const router = useRouter()\n    const [isProcessing, setIsProcessing] = useState(false)\n    const [excelData, setExcelData] = useState<ExcelData | null>(null)\n    const [error, setError] = useState<string | null>(null)\n    const [showMesSelector, setShowMesSelector] = useState(false)\n    const [mesDetectado, setMesDetectado] = useState<number | null>(null)\n    const [anioDetectado, setAnioDetectado] = useState<number | null>(null)\n    const [mesSeleccionado, setMesSeleccionado] = useState(new Date().getMonth() + 1)\n    const [anioSeleccionado, setAnioSeleccionado] = useState(new Date().getFullYear())\n    const [archivoActual, setArchivoActual] = useState<File | null>(null)\n    const [isGuardando, setIsGuardando] = useState(false)\n    const [resultadoProcesamiento, setResultadoProcesamiento] = useState<any>(null)\n    const [notification, setNotification] = useState<{\n        isOpen: boolean\n        type: NotificationType\n        title?: string\n        message: string\n    }>({\n        isOpen: false,\n        type: 'info',\n        message: ''\n    })\n\n    function showNotification(type: NotificationType, message: string, title?: string) {\n        setNotification({\n            isOpen: true,\n            type,\n            message,\n            title\n        })\n        setTimeout(() => {\n            setNotification(prev => ({ ...prev, isOpen: false }))\n        }, 5000)\n    }\n\n    // Función para detectar mes y año desde las fechas del Excel\n    const detectarMesAnio = (data: ExcelData): { mes: number | null; anio: number | null } => {\n        // Primero intentar desde el período\n        if (data.periodo?.desde) {\n            const partes = data.periodo.desde.split('/')\n            if (partes.length === 3) {\n                const mes = parseInt(partes[1], 10)\n                const anio = parseInt(partes[2], 10)\n                if (mes >= 1 && mes <= 12 && anio >= 2020) {\n                    return { mes, anio }\n                }\n            }\n        }\n\n        // Si no hay período, buscar en las fechas de las filas\n        const fechaColumn = data.headers.find(h => \n            h.toLowerCase().includes('fecha') || \n            h.toLowerCase().includes('date')\n        )\n\n        if (fechaColumn && data.rows.length > 0) {\n            const fechas: number[] = []\n            data.rows.forEach(row => {\n                const fechaStr = row[fechaColumn]\n                if (fechaStr) {\n                    // Intentar parsear fecha en formato DD/MM/YYYY\n                    if (typeof fechaStr === 'string') {\n                        const match = fechaStr.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/)\n                        if (match) {\n                            const mes = parseInt(match[2], 10)\n                            const anio = parseInt(match[3], 10)\n                            if (mes >= 1 && mes <= 12 && anio >= 2020) {\n                                fechas.push(mes)\n                            }\n                        }\n                    }\n                }\n            })\n\n            // Si todas las fechas son del mismo mes, usar ese mes\n            if (fechas.length > 0) {\n                const mesComun = fechas[0]\n                const todasIguales = fechas.every(m => m === mesComun)\n                if (todasIguales) {\n                    // Obtener año de la primera fecha\n                    const primeraFecha = data.rows[0][fechaColumn]\n                    if (typeof primeraFecha === 'string') {\n                        const match = primeraFecha.match(/(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})/)\n                        if (match) {\n                            return { mes: mesComun, anio: parseInt(match[3], 10) }\n                        }\n                    }\n                }\n            }\n        }\n\n        return { mes: null, anio: null }\n    }\n\n    const handleUpload = async (file: File) => {\n        setIsProcessing(true)\n        setExcelData(null)\n        setError(null)\n        setMesDetectado(null)\n        setAnioDetectado(null)\n        setArchivoActual(file)\n\n        try {\n            const data = await readExcelFile(file)\n            setExcelData(data)\n            \n            // Detectar mes y año automáticamente\n            const { mes, anio } = detectarMesAnio(data)\n            if (mes && anio) {\n                setMesDetectado(mes)\n                setAnioDetectado(anio)\n                setMesSeleccionado(mes)\n                setAnioSeleccionado(anio)\n                // Mostrar modal para confirmar\n                setShowMesSelector(true)\n            } else {\n                // Si no se detectó, mostrar modal para seleccionar manualmente\n                setShowMesSelector(true)\n            }\n        } catch (err: any) {\n            console.error('Error processing file:', err)\n            setError(err.message || 'Ocurrió un error inesperado al procesar el archivo.')\n        } finally {\n            setIsProcessing(false)\n        }\n    }\n\n    const handleMesConfirmado = async (mes: number, anio: number) => {\n        setMesSeleccionado(mes)\n        setAnioSeleccionado(anio)\n        setShowMesSelector(false)\n\n        // Si hay datos del Excel, procesar y guardar\n        if (excelData && archivoActual) {\n            setIsGuardando(true)\n            try {\n                const resultado = await procesarExcelGinecologia(\n                    excelData,\n                    mes,\n                    anio,\n                    archivoActual.name\n                )\n\n                // Guardar resultado del procesamiento para mostrar filas excluidas\n                setResultadoProcesamiento(resultado)\n                \n                if (resultado.errores.length > 0) {\n                    const mensajeError = resultado.errores.length > 0 \n                        ? `Se procesaron ${resultado.procesadas} filas. Errores: ${resultado.errores.slice(0, 3).join('; ')}${resultado.errores.length > 3 ? '...' : ''}`\n                        : `Se procesaron ${resultado.procesadas} filas. Errores: ${resultado.errores.length}`\n                    showNotification(\n                        'error',\n                        mensajeError,\n                        'Procesamiento con errores'\n                    )\n                    console.error('Errores completos:', resultado.errores)\n                } else {\n                    // Limpiar datos del Excel después de procesar exitosamente\n                    setExcelData(null)\n                    setArchivoActual(null)\n\n                    // Obtener nombre del mes para el mensaje\n                    const meses = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre']\n                    const nombreMes = meses[mes - 1]\n\n                    if (resultado.advertencias.length > 0 || (resultado.filasExcluidas && resultado.filasExcluidas.length > 0)) {\n                        showNotification(\n                            'warning',\n                            `Se procesaron ${resultado.procesadas} de ${resultado.totalFilas} filas. ${resultado.advertencias.length} advertencias. ${resultado.filasExcluidas?.length || 0} filas excluidas. Para editar los datos, ve a \"Ver Resumen\", selecciona el mes ${nombreMes} ${anio} y edita desde ahí.`,\n                            'Procesamiento completado'\n                        )\n                    } else {\n                        showNotification(\n                            'success',\n                            `Se procesaron y guardaron ${resultado.procesadas} consultas correctamente. Para editar los datos, ve a \"Ver Resumen\", selecciona el mes ${nombreMes} ${anio} y edita desde ahí.`,\n                            'Guardado exitoso'\n                        )\n                    }\n                }\n            } catch (err: any) {\n                console.error('Error guardando datos:', err)\n                showNotification(\n                    'error',\n                    `Error al guardar: ${err.message || 'Error desconocido'}`,\n                    'Error'\n                )\n            } finally {\n                setIsGuardando(false)\n            }\n        }\n    }\n\n    // Ya no cargamos liquidaciones en progreso aquí\n    // La edición se hace desde la página de Resúmenes\n\n\n    // Las funciones de edición (handleCellUpdate, handleDeleteRow) ya no se usan aquí\n    // La edición se hace desde la página de Resúmenes\n\n    return (\n        <div className=\"min-h-screen relative p-8 pb-20 overflow-hidden\">\n            {/* Efectos de luz verde */}\n            <div className=\"absolute top-20 left-20 w-96 h-96 bg-green-500/20 rounded-full blur-3xl animate-pulse\"></div>\n            <div className=\"absolute bottom-20 right-20 w-96 h-96 bg-green-400/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\n            <div className=\"max-w-6xl mx-auto space-y-8 relative z-10\">\n                {/* Header con Logo */}\n                <div className=\"flex items-center justify-between mb-8\">\n                    <div className=\"flex items-center gap-4\">\n                        <Button\n                            onClick={() => router.push('/')}\n                            variant=\"outline\"\n                            className=\"border-green-500/50 text-green-400 hover:bg-green-500/20\"\n                        >\n                            <ArrowLeft className=\"h-4 w-4 mr-2\" />\n                            Volver\n                        </Button>\n                    </div>\n                    <div>\n                        <div className=\"flex items-center gap-4 mb-4\">\n                            <Link href=\"/\" className=\"hover:opacity-80 transition-opacity\">\n                                <img \n                                    src=\"/logogrow.png\" \n                                    alt=\"Grow Labs\" \n                                    className=\"h-16 w-auto drop-shadow-2xl\"\n                                    style={{\n                                        filter: 'drop-shadow(0 0 20px rgba(34, 197, 94, 0.5))'\n                                    }}\n                                />\n                            </Link>\n                            <div>\n                                <h1 className=\"text-4xl font-bold mb-2 tracking-tight\">\n                                    <span className=\"bg-gradient-to-r from-blue-400 to-cyan-300 bg-clip-text text-transparent\">\n                                        Módulo Ginecología\n                                    </span>\n                                </h1>\n                                <p className=\"text-gray-400 flex items-center gap-2\">\n                                    <Sparkles className=\"h-4 w-4 text-blue-400\" />\n                                    Procesamiento de liquidaciones por hora\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Upload Excel Card */}\n                <div \n                    className=\"relative rounded-2xl shadow-2xl overflow-hidden p-8\"\n                    style={{\n                        background: 'rgba(255, 255, 255, 0.1)',\n                        backdropFilter: 'blur(20px)',\n                        border: '1px solid rgba(59, 130, 246, 0.3)',\n                        boxShadow: '0 8px 32px 0 rgba(59, 130, 246, 0.3)',\n                    }}\n                >\n                    {/* Borde brillante animado */}\n                    <div \n                        className=\"absolute inset-0 rounded-2xl\"\n                        style={{\n                            background: 'linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.3), transparent)',\n                            animation: 'borderGlow 3s ease-in-out infinite',\n                        }}\n                    ></div>\n                    <div className=\"relative\">\n                        <div className=\"flex items-center justify-between mb-6\">\n                            <h2 className=\"text-2xl font-bold text-blue-400\">\n                            📤 Cargar Liquidación\n                        </h2>\n                            <Button\n                                onClick={() => router.push('/ginecologia/resumenes')}\n                                variant=\"outline\"\n                                className=\"border-blue-500/50 text-blue-400 hover:bg-blue-500/20\"\n                            >\n                                Ver Resúmenes\n                            </Button>\n                        </div>\n\n                    <UploadExcel onUpload={handleUpload} isProcessing={isProcessing} />\n\n                    {/* Mensaje de error */}\n                    {error && (\n                        <div className=\"mt-6 bg-red-500/10 border border-red-500/30 rounded-lg p-4 flex items-start gap-3 text-red-400\">\n                            <AlertCircle className=\"w-5 h-5 mt-0.5 shrink-0\" />\n                            <div>\n                                <h3 className=\"font-semibold\">Error de Procesamiento</h3>\n                                <p className=\"text-sm opacity-90\">{error}</p>\n                            </div>\n                        </div>\n                    )}\n                    </div>\n                </div>\n\n\n                {/* Reglas de Negocio */}\n                <div \n                    className=\"p-6 rounded-xl\"\n                    style={{\n                        background: 'rgba(255, 255, 255, 0.1)',\n                        backdropFilter: 'blur(20px)',\n                        border: '1px solid rgba(255, 255, 255, 0.2)',\n                        boxShadow: '0 8px 32px 0 rgba(59, 130, 246, 0.2)',\n                    }}\n                >\n                        <h3 className=\"text-xl font-semibold text-gray-200 mb-4\">\n                            📋 Reglas Vigentes\n                        </h3>\n                        <div className=\"space-y-4 text-sm text-gray-300\">\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">Pago por Hora</div>\n                                <div className=\"font-semibold text-white\">Según Tarifa</div>\n                                <div className=\"text-xs text-gray-400\">Valor hora vigente por obra social</div>\n                            </div>\n\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">👨‍⚕️ Regla de Residentes en Horario Formativo</div>\n                                <div className=\"text-sm mt-2 space-y-2\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <span className=\"text-red-400 font-semibold\">NO SE PAGA</span>\n                                        <span className=\"text-xs text-gray-400\">si se cumplen todas las condiciones:</span>\n                                    </div>\n                                    <ul className=\"text-xs space-y-1 ml-2 text-gray-300\">\n                                        <li className=\"flex items-start gap-2\">\n                                            <span className=\"text-blue-400\">•</span>\n                                            <span>Médico es <strong>RESIDENTE</strong> (verificado en BD)</span>\n                                        </li>\n                                        <li className=\"flex items-start gap-2\">\n                                            <span className=\"text-blue-400\">•</span>\n                                            <span>Día: <strong>Lunes a Sábado</strong> (no domingo)</span>\n                                        </li>\n                                        <li className=\"flex items-start gap-2\">\n                                            <span className=\"text-blue-400\">•</span>\n                                            <span>Horario: <strong className=\"text-blue-400\">07:00 a 15:00</strong></span>\n                                        </li>\n                                        <li className=\"text-xs text-gray-400 mt-1 ml-4\">\n                                            (Incluye 07:00, excluye 15:00)\n                                        </li>\n                                    </ul>\n                                </div>\n                                </div>\n\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">✅ Casos que SÍ se Pagan</div>\n                                <ul className=\"text-xs space-y-1 mt-2 text-gray-300\">\n                                    <li className=\"flex items-start gap-2\">\n                                        <span className=\"text-green-400\">✓</span>\n                                        <span>Residente fuera del horario formativo (ej: 16:00, 20:00)</span>\n                                    </li>\n                                    <li className=\"flex items-start gap-2\">\n                                        <span className=\"text-green-400\">✓</span>\n                                        <span>Residente en <strong>Domingo</strong> (cualquier hora)</span>\n                                    </li>\n                                    <li className=\"flex items-start gap-2\">\n                                        <span className=\"text-green-400\">✓</span>\n                                        <span>Médico de <strong>Planta</strong> (no residente) - siempre se paga</span>\n                                    </li>\n                                </ul>\n                            </div>\n\n                            <div className=\"p-3 bg-white/5 rounded-lg border border-white/5\">\n                                <div className=\"text-xs text-gray-500 uppercase tracking-wider mb-1\">📊 Ejemplos de Horarios</div>\n                                <div className=\"text-xs space-y-1 mt-2\">\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-300\">07:00 (Residente, L-S)</span>\n                                        <span className=\"text-red-400\">$0</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-300\">14:59 (Residente, L-S)</span>\n                                        <span className=\"text-red-400\">$0</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-300\">15:00 (Residente, L-S)</span>\n                                        <span className=\"text-green-400\">Se paga</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-300\">10:00 (Residente, Domingo)</span>\n                                        <span className=\"text-green-400\">Se paga</span>\n                                    </div>\n                                    <div className=\"flex justify-between\">\n                                        <span className=\"text-gray-300\">10:00 (Planta, cualquier día)</span>\n                                        <span className=\"text-green-400\">Se paga</span>\n                                    </div>\n                            </div>\n                        </div>\n                    </div>\n            </div>\n            </div>\n\n            {/* Modal de selección de mes */}\n            <MesSelectorModal\n                isOpen={showMesSelector}\n                onClose={() => setShowMesSelector(false)}\n                onConfirm={handleMesConfirmado}\n                mesDetectado={mesDetectado}\n                anioDetectado={anioDetectado}\n                mesActual={new Date().getMonth() + 1}\n                anioActual={new Date().getFullYear()}\n            />\n\n            {/* Notificación */}\n            <NotificationModal\n                isOpen={notification.isOpen}\n                onClose={() => setNotification(prev => ({ ...prev, isOpen: false }))}\n                type={notification.type}\n                title={notification.title}\n                message={notification.message}\n            />\n\n            {/* Indicador de guardado */}\n            {isGuardando && (\n                <div className=\"fixed bottom-4 right-4 p-4 rounded-lg bg-blue-500/20 border border-blue-500/50 text-blue-400\">\n                    Guardando datos en la base de datos...\n                </div>\n            )}\n\n            {/* Sección de filas excluidas */}\n            {resultadoProcesamiento && resultadoProcesamiento.filasExcluidas && resultadoProcesamiento.filasExcluidas.length > 0 && excelData && (\n                <div className=\"max-w-6xl mx-auto mt-8 relative z-10\">\n                    <div \n                        className=\"rounded-2xl shadow-2xl overflow-hidden p-6 mb-6\"\n                        style={{\n                            background: 'rgba(239, 68, 68, 0.15)',\n                            backdropFilter: 'blur(20px)',\n                            border: '1px solid rgba(239, 68, 68, 0.5)',\n                        }}\n                    >\n                        <div className=\"flex items-center justify-between mb-4\">\n                            <div className=\"flex items-center gap-3\">\n                                <XCircle className=\"h-6 w-6 text-red-400 flex-shrink-0\" />\n                                <div>\n                                    <h3 className=\"text-xl font-bold text-red-400\">\n                                        {resultadoProcesamiento.filasExcluidas.length} fila{resultadoProcesamiento.filasExcluidas.length > 1 ? 's' : ''} excluida{resultadoProcesamiento.filasExcluidas.length > 1 ? 's' : ''} del procesamiento\n                                    </h3>\n                                    <p className=\"text-sm text-gray-400 mt-1\">\n                                        Estas filas fueron excluidas porque no tienen fecha válida o tienen fecha fuera de rango. Puedes revisarlas aquí pero no se guardaron en la base de datos.\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                        \n                        <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-sm border-collapse\">\n                                <thead>\n                                    <tr className=\"border-b border-white/10\">\n                                        <th className=\"px-3 py-2 text-left text-xs font-semibold text-gray-400 sticky left-0 bg-gray-900/95 z-10\" style={{ minWidth: '80px' }}>\n                                            Fila Excel\n                                        </th>\n                                        <th className=\"px-3 py-2 text-left text-xs font-semibold text-gray-400\" style={{ minWidth: '150px' }}>\n                                            Razón\n                                        </th>\n                                        {excelData.headers.map((header, idx) => (\n                                            <th key={idx} className=\"px-3 py-2 text-left text-xs font-semibold text-gray-400\" style={{ minWidth: '120px' }}>\n                                                {header}\n                                            </th>\n                                        ))}\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {resultadoProcesamiento.filasExcluidas.map((filaExcluida: any, idx: number) => (\n                                        <tr key={idx} className=\"border-b border-white/5 hover:bg-white/5\">\n                                            <td className=\"px-3 py-2 text-xs text-gray-300 sticky left-0 bg-gray-900/95 z-10\">\n                                                {filaExcluida.numeroFila}\n                                            </td>\n                                            <td className=\"px-3 py-2 text-xs text-red-400\">\n                                                {filaExcluida.razon === 'sin_fecha' ? '❌ Sin fecha válida' : '⚠️ Fecha fuera de rango'}\n                                            </td>\n                                            {excelData.headers.map((header, colIdx) => (\n                                                <td key={colIdx} className=\"px-3 py-2 text-xs text-gray-300\">\n                                                    {filaExcluida.datos[header] || '-'}\n                                                </td>\n                                            ))}\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    )\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n"],"names":[],"mappings":"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","ignoreList":[3]}