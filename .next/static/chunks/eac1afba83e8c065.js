(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,80828,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},41253,e=>{"use strict";var t=e.i(9964),a=e.i(87312),r=e.i(7987),s=e.i(83643),l=e.i(71434);let o=(0,l.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var i=e.i(68499);let n=(0,l.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var c=e.i(97451);function d({value:e,type:l="text",onSave:d,className:x,isEditable:m=!0,columnName:u}){let[h,g]=(0,a.useState)(!1),[p,b]=(0,a.useState)(e??""),[f,y]=(0,a.useState)(!1),j=(0,a.useRef)(null),N=(0,a.useMemo)(()=>u?.toLowerCase().trim()==="cliente",[u]),w=(0,a.useMemo)(()=>N?(0,c.obtenerSugerenciasObraSocial)(String(e)):[],[N,e]);(0,a.useEffect)(()=>{b(e??"")},[e]),(0,a.useEffect)(()=>{h&&j.current&&j.current.focus()},[h]);let v=(0,a.useCallback)(async()=>{if(p===e)return void g(!1);y(!0);try{await d(p),g(!1)}catch(e){console.error("Error saving:",e)}finally{y(!1)}},[p,e,d]),_=(0,a.useCallback)(()=>{b(e??""),g(!1)},[e]),k=(0,a.useCallback)(e=>{"Enter"===e.key?v():"Escape"===e.key&&_()},[v,_]);if(!m)return(0,t.jsx)("div",{className:(0,c.cn)("px-2 py-1",x),children:e});if(h)return(0,t.jsxs)("div",{className:"flex flex-col gap-1 animate-in fade-in zoom-in-95 duration-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.Input,{ref:j,type:l,value:p,onChange:e=>b("number"===l?Number(e.target.value):e.target.value),onKeyDown:k,disabled:f,className:"h-8 min-w-[100px] bg-gray-800 border-green-500/50 focus:border-green-400 text-white",placeholder:N?"Ingrese obra social o cÃ³digo":void 0}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 text-green-400 hover:text-green-300 hover:bg-green-500/20",onClick:v,disabled:f,children:(0,t.jsx)(o,{className:"h-4 w-4"})}),(0,t.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-500/20",onClick:_,disabled:f,children:(0,t.jsx)(i.X,{className:"h-4 w-4"})})]}),N&&w.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:w.map((e,a)=>(0,t.jsx)("button",{type:"button",onClick:()=>{b(e),j.current?.focus()},className:"text-[10px] px-2 py-0.5 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors",children:e},a))})]});let C=(0,a.useCallback)(()=>{g(!0)},[]),S=(0,a.useMemo)(()=>null===e||""===e?(0,t.jsx)("span",{className:"text-gray-500 italic text-xs",children:"VacÃ­o"}):"number"===l&&"number"==typeof e?new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e):e,[e,l]);return(0,t.jsxs)("div",{className:(0,c.cn)("group flex items-center justify-between px-2 py-1 rounded hover:bg-white/5 cursor-pointer transition-colors min-h-[32px]",x),onClick:C,children:[(0,t.jsx)("span",{className:"truncate",children:S}),(0,t.jsx)(n,{className:"h-3 w-3 text-gray-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})}e.s(["InlineEditCell",()=>d],41253)},5097,e=>{"use strict";let t=(0,e.i(71434).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],5097)},7987,e=>{"use strict";var t=e.i(9964),a=e.i(87312),r=e.i(97451);let s=a.forwardRef(({className:e,type:a,...s},l)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...s}));s.displayName="Input",e.s(["Input",()=>s])},23164,e=>{"use strict";let t=(0,e.i(71434).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],23164)},40010,e=>{"use strict";let t=(0,e.i(71434).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],40010)},19029,e=>{"use strict";let t=(0,e.i(71434).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],19029)},34754,e=>{"use strict";let t=(0,e.i(71434).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],34754)},60554,e=>{"use strict";let t=(0,e.i(71434).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],60554)},87914,e=>{"use strict";var t=e.i(9964),a=e.i(87312),r=e.i(71434);let s=(0,r.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),l=(0,r.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var o=e.i(5097),i=e.i(40010),n=e.i(68499),c=e.i(23164),d=e.i(83643),x=e.i(41253),m=e.i(60922),u=e.i(60554);function h({isOpen:e,onClose:r,onConfirm:s,title:l,message:o,confirmText:i="Aceptar",cancelText:c="Cancelar",type:x="danger"}){let[h,g]=(0,a.useState)(!1);if((0,a.useEffect)(()=>(g(!0),()=>g(!1)),[]),!e||!h)return null;let p=()=>{switch(x){case"danger":return"text-red-400";case"warning":return"text-yellow-400";default:return"text-blue-400"}},b=(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(8px)",zIndex:9999,position:"fixed",top:0,left:0,right:0,bottom:0},onClick:r,children:(0,t.jsxs)("div",{className:"relative w-full max-w-md rounded-2xl p-6 shadow-2xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:`1px solid ${(()=>{switch(x){case"danger":return"border-red-500/50";case"warning":return"border-yellow-500/50";default:return"border-blue-500/50"}})().replace("/50","/30")}`,boxShadow:"0 8px 32px 0 rgba(34, 197, 94, 0.3)",animation:"fadeIn 0.2s ease-in-out"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:r,className:"absolute top-4 right-4 p-2 rounded-lg hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:(0,t.jsx)(n.X,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,t.jsx)(u.AlertTriangle,{className:`h-6 w-6 ${p()}`})}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("h3",{className:`text-lg font-semibold ${p()}`,children:l}),(0,t.jsx)("p",{className:"text-gray-300 text-sm leading-relaxed",children:o})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,t.jsx)(d.Button,{onClick:r,variant:"outline",className:"border-gray-500/50 text-gray-300 hover:bg-gray-500/20",children:c}),(0,t.jsx)(d.Button,{onClick:()=>{s(),r()},className:(()=>{switch(x){case"danger":return"bg-red-600 hover:bg-red-500 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-500 text-white";default:return"bg-blue-600 hover:bg-blue-500 text-white"}})(),children:i})]})]})});return(0,m.createPortal)(b,document.body)}var g=e.i(38431);function p({title:e,count:r,description:m,icon:u,bgColor:p,borderColor:b,textColor:f,rows:y,data:j,onCellUpdate:N,onDeleteRow:w,onDeleteAll:v,allowEdit:_=!1,allowDelete:k=!1,mes:C,anio:S,sectionKey:F,esParticularRow:E,esSinHorarioRow:D,esDuplicadoRow:A,esResidenteFormativoRow:M}){let[R,z]=(0,a.useState)(!1),[$,I]=(0,a.useState)(new Set),[T,q]=(0,a.useState)(!1),[L,P]=(0,a.useState)(null),[O,B]=(0,a.useState)(new Map),[G,W]=(0,a.useState)(new Map),H=(0,a.useRef)(new Map);(0,a.useEffect)(()=>{C&&S&&"true"===localStorage.getItem(`expandable_${F}_${C}_${S}`)&&z(!0)},[C,S,F]);let U=e=>{let t=e.toLowerCase().trim();return t.includes("cliente")||t.includes("obra")},V=(0,a.useMemo)(()=>0===G.size?y:y.filter(e=>j.headers.every(t=>{let a=G.get(t);if(!a||""===a.trim())return!0;let r=e[t];if(null==r)return!1;let s=String(r).toLowerCase(),l=a.toLowerCase().trim();return s.includes(l)})),[y,G,j.headers]),K=V.length,J=(0,a.useCallback)((e,t)=>{B(a=>{let r=new Map(a);return""===t.trim()?r.delete(e):r.set(e,t),r});let a=H.current.get(e);a&&clearTimeout(a);let r=setTimeout(()=>{W(a=>{let r=new Map(a);return""===t.trim()?r.delete(e):r.set(e,t),r}),H.current.delete(e)},300);H.current.set(e,r)},[]);if((0,a.useEffect)(()=>()=>{H.current.forEach(e=>clearTimeout(e)),H.current.clear()},[]),0===r)return null;let Y=40*(G.size>0),X=`${Y+40}px`,Z="60px";return(0,t.jsxs)("div",{className:"w-full space-y-2",children:[(0,t.jsx)("div",{className:"p-4 rounded-xl border-2 cursor-pointer transition-all hover:opacity-90",style:{background:p,backdropFilter:"blur(20px)",borderColor:b},onClick:()=>{let e=!R;z(e),C&&S&&localStorage.setItem(`expandable_${F}_${C}_${S}`,String(e)),e||I(new Set)},children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",style:{color:f},children:[u,(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"font-bold text-lg mb-1",children:[e," ",K!==r&&`(${K} de ${r})`]}),(0,t.jsx)("div",{className:"text-sm",style:{color:f,opacity:.8},children:m})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[R&&V.length>0&&(0,t.jsxs)(d.Button,{onClick:t=>{t.stopPropagation();try{let t=`${e.toLowerCase().replace(/\s+/g,"_")}_filtrado`;!function({rows:e,headers:t,filename:a="datos_filtrados",sheetName:r="Datos"}){if(0===e.length)throw Error("No hay datos para exportar");let s=r.length>31?r.substring(0,31):r,l=e.map(e=>{let a={};return t.forEach(t=>{a[t]=e[t]??""}),a}),o=g.utils.json_to_sheet(l),i=t.map(e=>({wch:Math.min(Math.max(e.length,...l.map(t=>String(t[e]||"").length))+2,50)}));o["!cols"]=i;let n=g.utils.book_new();g.utils.book_append_sheet(n,o,s);let c=new Blob([g.write(n,{type:"array",bookType:"xlsx",cellStyles:!0})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),d=window.URL.createObjectURL(c),x=document.createElement("a");x.href=d,x.download=`${a}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(d)}({rows:V,headers:j.headers,filename:t,sheetName:e})}catch(e){console.error("Error exportando Excel:",e),alert(`Error al exportar: ${e.message}`)}},size:"sm",variant:"outline",className:"mr-2",style:{borderColor:b,color:f},children:[(0,t.jsx)(c.Download,{className:"h-4 w-4 mr-1"}),"Descargar Excel (",V.length,")"]}),k&&R&&(0,t.jsxs)(t.Fragment,{children:[$.size>0&&(0,t.jsxs)(d.Button,{onClick:e=>{e.stopPropagation(),P({type:"multiple",count:$.size}),q(!0)},size:"sm",variant:"destructive",className:"mr-2",children:[(0,t.jsx)(o.Trash2,{className:"h-4 w-4 mr-1"}),"Eliminar seleccionados (",$.size,")"]}),v&&(0,t.jsxs)(d.Button,{onClick:e=>{e.stopPropagation(),P({type:"all",count:r}),q(!0)},size:"sm",variant:"destructive",className:"mr-2",children:[(0,t.jsx)(o.Trash2,{className:"h-4 w-4 mr-1"}),"Eliminar todos"]})]}),R?(0,t.jsx)(l,{className:"h-6 w-6",style:{color:f}}):(0,t.jsx)(s,{className:"h-6 w-6",style:{color:f}})]})]})}),R&&(0,t.jsxs)("div",{className:"rounded-xl overflow-hidden",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[G.size>0&&(0,t.jsxs)("div",{className:"px-4 py-2 bg-blue-500/20 border-b border-blue-500/30 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-400",children:[(0,t.jsx)(i.Search,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[G.size," filtro(s) activo(s) - Mostrando ",K," de ",y.length," registros"]})]}),(0,t.jsxs)(d.Button,{onClick:()=>{H.current.forEach(e=>clearTimeout(e)),H.current.clear(),W(new Map),B(new Map)},size:"sm",variant:"ghost",className:"text-blue-400 hover:text-blue-300 hover:bg-blue-500/20 h-7 px-2",children:[(0,t.jsx)(n.X,{className:"h-3 w-3 mr-1"}),"Limpiar filtros"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse text-xs",children:[(0,t.jsxs)("thead",{children:[(0,t.jsxs)("tr",{className:"border-b border-white/10",children:[k&&(0,t.jsx)("th",{className:"px-2 py-2 text-center text-xs font-semibold text-gray-300 bg-white/5 whitespace-nowrap sticky left-0",style:{position:"sticky",top:0,zIndex:12,minWidth:"50px",maxWidth:"50px",background:"rgba(0, 0, 0, 0.8)"},children:(0,t.jsx)("input",{type:"checkbox",checked:$.size===V.length&&V.length>0,onChange:e=>{e.target.checked?I(new Set(V.map((e,t)=>j.rows.findIndex(e=>e===V[t])).filter(e=>-1!==e))):I(new Set)},className:"w-4 h-4 rounded border-gray-500 bg-gray-800 text-green-500 focus:ring-green-500 focus:ring-2",onClick:e=>e.stopPropagation()})}),j.headers.map((e,a)=>(0,t.jsx)("th",{className:"px-2 py-2 text-left text-xs font-semibold text-gray-300 bg-white/5 whitespace-nowrap",style:{position:"sticky",top:0,zIndex:10,minWidth:"120px",maxWidth:"200px"},children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"truncate",children:e}),U(e)&&_&&(0,t.jsx)("span",{className:"text-[10px] text-green-400 bg-green-400/20 px-1.5 py-0.5 rounded flex-shrink-0",children:"Editable"})]})},a))]}),(0,t.jsxs)("tr",{className:"border-b border-white/5 bg-white/2",children:[k&&(0,t.jsx)("td",{className:"px-2 py-2 sticky left-0",style:{background:"rgba(0, 0, 0, 0.9)",zIndex:11,position:"sticky",top:X}}),j.headers.map((e,a)=>(0,t.jsx)("td",{className:"px-1 py-2",style:{position:"sticky",top:X,zIndex:9,background:"rgba(0, 0, 0, 0.9)"},children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:O.get(e)||"",onChange:t=>J(e,t.target.value),placeholder:"Filtrar...",className:"w-full px-2 py-1.5 text-xs bg-gray-800/70 border border-gray-600 rounded text-white placeholder-gray-500 focus:outline-none focus:border-green-500 focus:ring-1 focus:ring-green-500",onClick:e=>e.stopPropagation()}),O.get(e)&&(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),J(e,"")},className:"absolute right-1 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white z-10",children:(0,t.jsx)(n.X,{className:"h-3 w-3"})})]})},a))]})]}),(0,t.jsx)("tbody",{style:{paddingTop:Z},children:V.map((e,a)=>{let r=j.rows.findIndex(t=>t===e),s=$.has(r),l="detalle_completo"===F,o=!!l&&!!E&&E(r),i=!!l&&!!D&&D(r),n=!!l&&!!A&&A(r),c=!!l&&!!M&&M(r),d="transparent";return i?d="rgba(239, 68, 68, 0.15)":n?d="rgba(168, 85, 247, 0.15)":o?d="rgba(251, 191, 36, 0.15)":c&&(d="rgba(59, 130, 246, 0.15)"),s&&(d="transparent"===d?"rgba(34, 197, 94, 0.2)":d.replace("0.15","0.25")),(0,t.jsxs)("tr",{className:"border-b transition-colors border-white/5 hover:bg-white/5",style:{backgroundColor:d,borderLeft:s?"3px solid rgba(34, 197, 94, 0.8)":void 0},children:[k&&(0,t.jsx)("td",{className:"px-2 py-1.5 text-center sticky left-0",style:{minWidth:"50px",maxWidth:"50px",background:"transparent"!==d?d:"rgba(0, 0, 0, 0.5)",zIndex:8},onClick:e=>e.stopPropagation(),children:(0,t.jsx)("input",{type:"checkbox",checked:s,onChange:e=>{let t=new Set($);e.target.checked?t.add(r):t.delete(r),I(t)},className:"w-4 h-4 rounded border-gray-500 bg-gray-800 text-green-500 focus:ring-green-500 focus:ring-2"})}),j.headers.map((a,s)=>{let l=e[a]??null,o=U(a)&&_;return(0,t.jsx)("td",{className:"px-2 py-1.5 text-xs text-gray-300",style:{minWidth:"120px",maxWidth:"200px",position:"relative",zIndex:1},children:o&&N?(0,t.jsx)(x.InlineEditCell,{value:l||"",onSave:async e=>{await N(r,a,e)},columnName:a}):(0,t.jsx)("span",{className:"truncate block",children:l||"-"})},s)})]},r)})})]})})]}),(0,t.jsx)(h,{isOpen:T,onClose:()=>{q(!1),P(null)},onConfirm:async()=>{if(L)try{if("all"===L.type&&v)await v(),I(new Set);else if("multiple"===L.type&&w){let e=Array.from($).sort((e,t)=>t-e);for(let t of(e.map(e=>{let t=j.rows[e];return t?t.__fila_excel:null}).filter(e=>null!=e),e))t<j.rows.length&&await w(t);I(new Set)}else if("single"===L.type&&void 0!==L.rowIndex&&w){await w(L.rowIndex);let e=new Set($);e.delete(L.rowIndex),I(e)}}catch(e){console.error("Error eliminando filas:",e)}},title:"Confirmar eliminaciÃ³n",message:L?.type==="all"?`\xbfEst\xe1 seguro de que desea eliminar todos los ${L.count} registros? Esta acci\xf3n no se puede deshacer.`:L?.type==="multiple"?`\xbfEst\xe1 seguro de que desea eliminar los ${L.count} registros seleccionados? Esta acci\xf3n no se puede deshacer.`:"Â¿EstÃ¡ seguro de que desea eliminar esta fila? Esta acciÃ³n no se puede deshacer.",confirmText:"Eliminar",cancelText:"Cancelar",type:"danger"})]})}var b=e.i(19029),f=e.i(58427);let y=(0,r.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),j=(0,r.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),N=(0,r.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var w=e.i(97451),v=e.i(74786);function _({data:e,especialidad:r,onCellUpdate:s,onDeleteRow:l,liquidacionId:o,mes:i,anio:n}){let[c,d]=(0,a.useState)(e.rows),[x,m]=(0,a.useState)({}),[u,h]=(0,a.useState)([]),[g,_]=(0,a.useState)(!1);(0,a.useEffect)(()=>{d(e.rows)},[e.rows]),(0,a.useEffect)(()=>{if(!r){h([]),_(!1);return}!async function(){try{if(_(!0),!r)return;let{data:e,error:t}=await v.supabase.from("medicos").select("*").eq("especialidad",r).eq("activo",!0);if(t)throw t;h(e||[])}catch(e){console.error("Error loading mÃ©dicos:",e)}finally{_(!1)}}()},[r]);let k=(0,a.useMemo)(()=>{let e=new Map;return u.forEach(t=>{let a=t.nombre.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();e.set(a,t);let r=t.nombre.split(",").map(e=>e.trim());if(r.length>0){let a=r[0].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();a&&!e.has(a)&&e.set(a,t)}}),e},[u]),C=(0,a.useCallback)(e=>{if(!e||"string"!=typeof e)return null;let t=e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();if(k.has(t))return k.get(t)||null;for(let[e,a]of k.entries())if(t.includes(e)||e.includes(t))return a;return null},[k]),S=(0,a.useMemo)(()=>{let t=new Set,a=e.headers.findIndex(e=>{let t=e.toLowerCase().trim();return"cliente"===t||t.includes("obra social")||"obra social"===t||"obra"===t||t.includes("obra")&&t.includes("social")});if(-1===a)return console.warn("[ExcelDataTable] No se encontrÃ³ columna de Cliente/Obra Social"),t;let r=e.headers[a];return c.forEach((e,a)=>{let s=e[r];(0,w.esParticular)(s)&&t.add(a)}),console.log(`[ExcelDataTable] Filas sin obra social detectadas: ${t.size}`),t},[c,e.headers]),F=(0,a.useMemo)(()=>{let t=new Set;return c.forEach((a,r)=>{(0,w.tieneHorario)(a,e.headers)||t.add(r)}),t},[c,e.headers]),E=(0,a.useMemo)(()=>(0,w.obtenerIndicesDuplicados)(c,e.headers),[c,e.headers]),D=(0,a.useMemo)(()=>{let t=new Set;if(!r||0===u.length||g)return t;let a=e.headers.findIndex(e=>{let t=e.toLowerCase().trim();return"responsable"===t||t.includes("responsable")||t.includes("medico")}),s=e.headers.findIndex(e=>{let t=e.toLowerCase().trim();return"fecha"===t||t.includes("fecha")||t.includes("fecha visita")}),l=e.headers.findIndex(e=>{let t=e.toLowerCase().trim();return t.includes("hora")||t.includes("horario")||t.includes("inicio")});return -1===a||-1===s||-1===l||c.forEach((r,o)=>{let i=r[e.headers[a]],n=r[e.headers[s]],c=r[e.headers[l]],d=C(i);d&&d.es_residente&&(0,w.esResidenteHorarioFormativo)(n,c,d.es_residente)&&t.add(o)}),t},[c,e.headers,r,u,g,C]),A=S.size,M=F.size,R=E.size,z=D.size,$=(0,a.useCallback)(async t=>{if(l){await l(t);let a=c.filter((e,a)=>a!==t);d(a),e.rows=a}else{let a=c.filter((e,a)=>a!==t);d(a),e.rows=a}},[c,e,l]),I=(0,a.useCallback)(async t=>{if(l)for(let e of Array.from(t).sort((e,t)=>t-e))await l(e);else{let a=c.filter((e,a)=>!t.has(a));d(a),e.rows=a}},[c,e,l]),T=(0,a.useMemo)(()=>c.filter((e,t)=>S.has(t)),[c,S]),q=(0,a.useMemo)(()=>c.filter((e,t)=>F.has(t)),[c,F]),L=(0,a.useMemo)(()=>c.filter((e,t)=>E.has(t)),[c,E]),P=(0,a.useMemo)(()=>c.filter((e,t)=>D.has(t)),[c,D]),O=(0,a.useCallback)(async()=>{await I(F)},[F,I]),B=(0,a.useCallback)(async()=>{await I(E)},[E,I]),G=(0,a.useCallback)(async()=>{await I(D)},[D,I]);return(0,t.jsxs)("div",{className:"w-full space-y-4",children:[e.periodo&&(0,t.jsx)("div",{className:"p-4 rounded-xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,t.jsx)(b.CheckCircle2,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"font-semibold",children:"PerÃ­odo analizado:"}),(0,t.jsxs)("span",{className:"text-white",children:[e.periodo.desde," - ",e.periodo.hasta]})]})}),(0,t.jsx)(p,{title:`âš ï¸ ${A} registro${A>1?"s":""} sin obra social detectado${A>1?"s":""}`,count:A,description:'Estos registros deben ser revisados. Si son pacientes particulares, edite la columna "Cliente" y agregue: "042 - PARTICULARES"',icon:(0,t.jsx)(f.AlertCircle,{className:"h-6 w-6 flex-shrink-0"}),bgColor:"rgba(251, 191, 36, 0.15)",borderColor:"rgba(251, 191, 36, 0.5)",textColor:"#fbbf24",rows:T,data:e,onCellUpdate:s,allowEdit:!0,mes:i,anio:n,sectionKey:"sin_obra_social"}),(0,t.jsx)(p,{title:`âš ï¸ ${M} registro${M>1?"s":""} sin horario de inicio detectado${M>1?"s":""}`,count:M,description:"Estos registros indican que el paciente no se atendiÃ³. Deben ser eliminados.",icon:(0,t.jsx)(y,{className:"h-6 w-6 flex-shrink-0"}),bgColor:"rgba(239, 68, 68, 0.15)",borderColor:"rgba(239, 68, 68, 0.5)",textColor:"#ef4444",rows:q,data:e,onDeleteRow:$,onDeleteAll:O,allowDelete:!0,mes:i,anio:n,sectionKey:"sin_horario"}),(0,t.jsx)(p,{title:`âš ï¸ ${R} registro${R>1?"s":""} duplicado${R>1?"s":""} detectado${R>1?"s":""}`,count:R,description:"Se detectaron filas completamente iguales (misma fecha, misma hora, mismo todo). Revise y elimine los duplicados si es necesario.",icon:(0,t.jsx)(f.AlertCircle,{className:"h-6 w-6 flex-shrink-0"}),bgColor:"rgba(168, 85, 247, 0.15)",borderColor:"rgba(168, 85, 247, 0.5)",textColor:"#a855f7",rows:L,data:e,onDeleteRow:$,onDeleteAll:B,allowDelete:!0,mes:i,anio:n,sectionKey:"duplicados"}),(0,t.jsx)(p,{title:`â„¹ï¸ ${z} consulta${z>1?"s":""} de residente${z>1?"s":""} en horario formativo detectada${z>1?"s":""}`,count:z,description:"Estas consultas son de residentes realizadas entre lunes a sÃ¡bado de 07:00 a 15:00. NO se deben pagar segÃºn las reglas del sistema.",icon:(0,t.jsx)(j,{className:"h-6 w-6 flex-shrink-0"}),bgColor:"rgba(59, 130, 246, 0.15)",borderColor:"rgba(59, 130, 246, 0.5)",textColor:"#3b82f6",rows:P,data:e,onDeleteRow:$,onDeleteAll:G,allowDelete:!0,mes:i,anio:n,sectionKey:"residente_formativo"}),(0,t.jsx)(p,{title:`ðŸ“Š Ver detalle completo (${c.length} registros)`,count:c.length,description:"Muestra todos los registros del Excel para revisiÃ³n completa con colores segÃºn reglas.",icon:(0,t.jsx)(N,{className:"h-6 w-6 flex-shrink-0"}),bgColor:"rgba(34, 197, 94, 0.15)",borderColor:"rgba(34, 197, 94, 0.5)",textColor:"#22c55e",rows:c,data:e,onCellUpdate:s,onDeleteRow:$,allowEdit:!0,allowDelete:!0,mes:i,anio:n,sectionKey:"detalle_completo",esParticularRow:e=>S.has(e),esSinHorarioRow:e=>F.has(e),esDuplicadoRow:e=>E.has(e),esResidenteFormativoRow:e=>D.has(e)}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Total de filas: ",(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:c.length})," â€¢ ","Columnas: ",(0,t.jsx)("span",{className:"text-green-400 font-semibold",children:e.headers.length}),A>0&&(0,t.jsxs)(t.Fragment,{children:[" â€¢ ","Sin obra social: ",(0,t.jsx)("span",{className:"text-yellow-400 font-semibold",children:A})]}),M>0&&(0,t.jsxs)(t.Fragment,{children:[" â€¢ ","Sin horario: ",(0,t.jsx)("span",{className:"text-red-400 font-semibold",children:M})]}),R>0&&(0,t.jsxs)(t.Fragment,{children:[" â€¢ ","Duplicados: ",(0,t.jsx)("span",{className:"text-purple-400 font-semibold",children:R})]}),z>0&&(0,t.jsxs)(t.Fragment,{children:[" â€¢ ","Residente formativo: ",(0,t.jsx)("span",{className:"text-blue-400 font-semibold",children:z})]})]})]})}e.s(["ExcelDataTable",()=>_],87914)},17462,e=>{"use strict";var t=e.i(9964),a=e.i(87312),r=e.i(7735),s=e.i(74786),l=e.i(97451);async function o(e,t){let{data:a}=await s.supabase.from("liquidaciones_guardia").select("id").eq("especialidad","GinecologÃ­a").eq("mes",e).eq("anio",t).single();if(!a||!a.id)return[];let r=a.id,{data:o}=await s.supabase.from("detalle_guardia").select("*").eq("liquidacion_id",r);if(!o||0===o.length)return[];let{data:i}=await s.supabase.from("valores_consultas_obra_social").select("*").eq("tipo_consulta","CONSULTA GINECOLOGICA").eq("mes",e).eq("anio",t);if(!i||0===i.length)return[];let n=new Map;i.forEach(e=>{n.set(e.obra_social,e.valor)});let c=new Map;return o.forEach(e=>{let t=!0===e.medico_es_residente;if((0,l.esResidenteHorarioFormativo)(e.fecha,e.hora,t))return;let a=e.obra_social||"PARTICULARES",r=e.medico_nombre||"Desconocido",s=e.medico_id||"sin-id",o=`${s}|${a}`,i=n.get(a)||0;if(c.has(o)){let e=c.get(o);e.cantidad+=1,e.total=e.cantidad*e.valor_unitario}else c.set(o,{medico_id:e.medico_id,medico_nombre:r,obra_social:a,cantidad:1,valor_unitario:i,total:i})}),Array.from(c.values()).sort((e,t)=>e.medico_nombre!==t.medico_nombre?e.medico_nombre.localeCompare(t.medico_nombre):e.obra_social.localeCompare(t.obra_social))}async function i(e,t){let a=await o(e,t),r=new Map;return a.forEach(e=>{let t=e.medico_id||"sin-id",a=e.medico_nombre;if(r.has(t)){let a=r.get(t);a.cantidad+=e.cantidad,a.total_bruto+=e.total,a.retencion_20=.2*a.total_bruto,a.total_neto=a.total_bruto-a.retencion_20}else{let s=e.total,l=.2*s;r.set(t,{medico_id:e.medico_id,medico_nombre:a,cantidad:e.cantidad,total_bruto:s,retencion_20:l,total_neto:s-l})}}),Array.from(r.values()).sort((e,t)=>e.medico_nombre.localeCompare(t.medico_nombre))}var n=e.i(99093),c=e.i(89174);let d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];var m=e.i(83643),u=e.i(34754),h=e.i(81981),g=e.i(23164),p=e.i(71434);let b=(0,p.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),f=(0,p.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=e.i(47188),j=e.i(87914);async function N(e,t,a){try{let{data:r,error:s}=await t.from("detalle_guardia").select("id, fecha, hora, paciente, obra_social, medico_nombre, fila_excel").eq("liquidacion_id",e).order("fila_excel",{ascending:!0,nullsFirst:!1});if(s)return console.error("Error cargando detalles:",s),null;if(!r||0===r.length)return null;return function(e,t){if(0===e.length)return{periodo:null,headers:t||[],rows:[]};let a=[...e].sort((e,t)=>(e.fila_excel||0)-(t.fila_excel||0)),r=t||["Fecha","Hora","Paciente","Obra Social","Responsable"],s=a.map(e=>{let t={};return null!==e.fila_excel&&void 0!==e.fila_excel&&(t.__fila_excel=e.fila_excel),r.forEach(a=>{let r=a.toLowerCase().trim();if(r.includes("fecha")||r.includes("date"))if(e.fecha){let r=new Date(e.fecha);if(isNaN(r.getTime()))t[a]=e.fecha;else{let e=String(r.getDate()).padStart(2,"0"),s=String(r.getMonth()+1).padStart(2,"0"),l=r.getFullYear();t[a]=`${e}/${s}/${l}`}}else t[a]=null;else r.includes("hora")||r.includes("horario")?t[a]=e.hora||null:r.includes("paciente")?t[a]=e.paciente||null:r.includes("obra")||r.includes("cliente")?t[a]=e.obra_social||null:r.includes("responsable")||r.includes("medico")?t[a]=e.medico_nombre||null:t[a]=null}),t}),l=null;if(a.length>0){let e=a.map(e=>e.fecha?new Date(e.fecha):null).filter(e=>null!==e&&!isNaN(e.getTime())).sort((e,t)=>e.getTime()-t.getTime());if(e.length>0){let t=e[0],a=e[e.length-1],r=e=>{let t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}/${a}/${r}`};l={desde:r(t),hasta:r(a)}}}return{periodo:l,headers:r,rows:s}}(r,a)}catch(e){return console.error("Error en cargarExcelDataDesdeBD:",e),null}}let w=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}];function v(){let e=(0,r.useRouter)(),[p,v]=(0,a.useState)(()=>{{let e=localStorage.getItem("ginecologia_resumenes_mes");return e?parseInt(e,10):new Date().getMonth()+1}}),[k,C]=(0,a.useState)(()=>{{let e=localStorage.getItem("ginecologia_resumenes_anio");return e?parseInt(e,10):new Date().getFullYear()}}),[S,F]=(0,a.useState)(new Map),[E,D]=(0,a.useState)([]),[A,M]=(0,a.useState)([]),[R,z]=(0,a.useState)(!1),[$,I]=(0,a.useState)(!1),[T,q]=(0,a.useState)("medicos"),[L,P]=(0,a.useState)(null),[O,B]=(0,a.useState)(null),[G,W]=(0,a.useState)(null),[H,U]=(0,a.useState)(!1);async function V(){U(!0);try{let{data:e,error:t}=await s.supabase.from("liquidaciones_guardia").select("*").eq("especialidad","GinecologÃ­a").eq("mes",p).eq("anio",k).single();if(t&&"PGRST116"!==t.code){console.error("Error cargando liquidaciÃ³n:",t),B(null),W(null);return}if(e){W(e);let t=await N(e.id,s.supabase);t?B(t):B(null)}else W(null),B(null)}catch(e){console.error("Error cargando ExcelData:",e),B(null),W(null)}finally{U(!1)}}(0,a.useEffect)(()=>{localStorage.setItem("ginecologia_resumenes_mes",p.toString()),localStorage.setItem("ginecologia_resumenes_anio",k.toString())},[p,k]),(0,a.useEffect)(()=>{"historial"===T?ee():"excel"===T?V():Q()},[p,k,T]);let K=(0,a.useRef)(new Map),J=(0,a.useRef)(null),Y=(0,a.useCallback)(async(e,t,a)=>{if(!G||!O)return;let r=e+1;O.rows[e]&&(O.rows[e][t]=a,B({...O}));let s=`${G.id}-${r}-${t}`;K.current.set(s,{liquidacionId:G.id,filaExcel:r,columna:t,valor:a}),J.current&&clearTimeout(J.current),J.current=setTimeout(async()=>{await X()},500)},[G,O]),X=async()=>{if(0===K.current.size||!G)return;let e=Array.from(K.current.values());try{let t=new Map;e.forEach(e=>{t.has(e.filaExcel)||t.set(e.filaExcel,new Map);let a=t.get(e.filaExcel);e.columna.toLowerCase().includes("cliente")||e.columna.toLowerCase().includes("obra")?a.set("obra_social",e.valor):e.columna.toLowerCase().includes("responsable")||e.columna.toLowerCase().includes("medico")?a.set("medico_nombre",e.valor):e.columna.toLowerCase().includes("paciente")&&a.set("paciente",e.valor)});let a=Array.from(t.entries()).map(async([e,t])=>{let a={};t.forEach((e,t)=>{a[t]=e}),a.updated_at=new Date().toISOString();let{error:r}=await s.supabase.from("detalle_guardia").update(a).eq("liquidacion_id",G.id).eq("fila_excel",e);if(r)throw r});await Promise.all(a),K.current.clear()}catch(e){console.error("Error guardando cambios:",e)}},Z=(0,a.useCallback)(async e=>{if(!G||!O)return;let t=O.rows[e];if(!t)return;let a=t.__fila_excel??e+1;try{let{error:e}=await s.supabase.from("detalle_guardia").delete().eq("liquidacion_id",G.id).eq("fila_excel",a);if(e)return void console.error("Error eliminando fila:",e);let t=await N(G.id,s.supabase);t&&B(t);let r=async()=>{let{data:e}=await s.supabase.from("detalle_guardia").select("importe_calculado, monto_facturado").eq("liquidacion_id",G.id);if(e){let t=e.length,a=e.reduce((e,t)=>e+(t.monto_facturado||0),0),r=e.reduce((e,t)=>e+(t.importe_calculado||0),0);await s.supabase.from("liquidaciones_guardia").update({total_consultas:t,total_bruto:a,total_neto:r}).eq("id",G.id)}};"requestIdleCallback"in window?requestIdleCallback(r,{timeout:1e3}):setTimeout(r,100)}catch(e){console.error("Error eliminando fila:",e)}},[G,O]);async function Q(){z(!0);try{let e=await i(p,k);D(e);let t=await o(p,k),a=new Map;t.forEach(e=>{let t=e.medico_id||"sin-id";a.has(t)||a.set(t,[]),a.get(t).push(e)}),F(a)}catch(e){console.error("Error cargando resÃºmenes:",e)}finally{z(!1)}}async function ee(){I(!0);try{let{data:e,error:t}=await s.supabase.from("liquidaciones_guardia").select("*").eq("especialidad","GinecologÃ­a").order("anio",{ascending:!1}).order("mes",{ascending:!1});if(t)throw t;M(e||[])}catch(e){console.error("Error cargando historial:",e)}finally{I(!1)}}function et(e){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}let ea=Array.from(S.keys()).map(e=>{let t=S.get(e)||[];return t[0]?.medico_nombre||"Desconocido"}).sort();return(0,t.jsx)("div",{className:"min-h-screen p-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(m.Button,{onClick:()=>e.push("/ginecologia"),variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/20",children:[(0,t.jsx)(u.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Volver"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-green-400",children:"ResÃºmenes de LiquidaciÃ³n - GinecologÃ­a"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"Mes:"}),(0,t.jsx)("select",{value:p,onChange:e=>v(Number(e.target.value)),className:"px-3 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none",children:w.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300",children:"AÃ±o:"}),(0,t.jsx)("input",{type:"number",value:k,onChange:e=>C(Number(e.target.value)),className:"px-3 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white w-24 focus:border-green-400 focus:outline-none"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 border-b border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>q("medicos"),className:`px-4 py-2 font-semibold transition-colors ${"medicos"===T?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Resumen por MÃ©dico"}),(0,t.jsx)("button",{onClick:()=>q("prestadores"),className:`px-4 py-2 font-semibold transition-colors ${"prestadores"===T?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:"Resumen por Prestador"}),(0,t.jsxs)("button",{onClick:()=>q("historial"),className:`px-4 py-2 font-semibold transition-colors flex items-center gap-2 ${"historial"===T?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:[(0,t.jsx)(b,{className:"h-4 w-4"}),"Historial"]}),(0,t.jsxs)("button",{onClick:()=>q("excel"),className:`px-4 py-2 font-semibold transition-colors flex items-center gap-2 ${"excel"===T?"text-green-400 border-b-2 border-green-400":"text-gray-400 hover:text-gray-300"}`,children:[(0,t.jsx)(y.FileSpreadsheet,{className:"h-4 w-4"}),"Excel"]})]}),"historial"===T?(0,t.jsx)("div",{className:"space-y-6",children:$?(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Cargando historial..."}):0===A.length?(0,t.jsxs)("div",{className:"rounded-xl p-8 text-center",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 193, 7, 0.3)"},children:[(0,t.jsx)("div",{className:"text-yellow-400 text-xl font-bold mb-4",children:"No hay liquidaciones procesadas"}),(0,t.jsx)("div",{className:"text-gray-400 mb-6",children:"AÃºn no se ha procesado ningÃºn archivo Excel de GinecologÃ­a."}),(0,t.jsx)(m.Button,{onClick:()=>e.push("/ginecologia"),className:"bg-green-600 hover:bg-green-500 text-white",children:"Ir a GinecologÃ­a"})]}):(0,t.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Historial de Liquidaciones"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-green-400",children:"PerÃ­odo"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-green-400",children:"NÂ° LiquidaciÃ³n"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-green-400",children:"Archivo"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-green-400",children:"Estado"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Consultas"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Total Bruto"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Total Neto"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-green-400",children:"Fecha Procesamiento"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-green-400",children:"Acciones"})]})}),(0,t.jsx)("tbody",{children:A.map(e=>{let a=e.created_at?new Date(e.created_at).toLocaleDateString("es-AR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",r=w.find(t=>t.value===e.mes)?.label||`Mes ${e.mes}`,s=L===e.id;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-300 font-medium",children:[r," ",e.anio]}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.numero_liquidacion||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:(0,t.jsx)("div",{className:"max-w-xs truncate",title:e.archivo_nombre||"",children:e.archivo_nombre||"Sin archivo"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${"finalizada"===e.estado?"bg-green-500/20 text-green-400":"procesando"===e.estado?"bg-yellow-500/20 text-yellow-400":"error"===e.estado?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:e.estado})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:e.total_consultas||0}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:et(e.total_bruto||0)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right font-semibold",children:et(e.total_neto||0)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:a}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsxs)(m.Button,{onClick:()=>{P(s?null:e.id)},variant:"outline",size:"sm",className:"border-green-500/50 text-green-400 hover:bg-green-500/20",children:[(0,t.jsx)(f,{className:"h-4 w-4 mr-1"}),s?"Ocultar":"Ver"]})})]},e.id),s&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,className:"px-4 py-4 bg-gray-900/50",children:(0,t.jsx)(_,{liquidacionId:e.id})})})]})})})]})})]})}):"excel"===T?(0,t.jsx)("div",{className:"space-y-6",children:H?(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Cargando Excel..."}):G?O?(0,t.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:["Excel - ",w.find(e=>e.value===p)?.label||`Mes ${p}`," ",k]}),(0,t.jsx)("p",{className:"text-gray-400 mb-4 text-sm",children:"Los cambios se guardan automÃ¡ticamente. Revisa duplicados, filas sin obra social y sin horario."}),(0,t.jsx)(j.ExcelDataTable,{data:O,especialidad:"GinecologÃ­a",onCellUpdate:Y,onDeleteRow:Z,liquidacionId:G.id,mes:p,anio:k})]}):(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No se pudo cargar el Excel"}):(0,t.jsxs)("div",{className:"rounded-xl p-8 text-center",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 193, 7, 0.3)"},children:[(0,t.jsx)("div",{className:"text-yellow-400 text-xl font-bold mb-4",children:"No hay liquidaciÃ³n para este perÃ­odo"}),(0,t.jsxs)("div",{className:"text-gray-400 mb-6",children:["No se ha procesado ningÃºn archivo Excel para ",w.find(e=>e.value===p)?.label||`Mes ${p}`," ",k,"."]}),(0,t.jsx)(m.Button,{onClick:()=>e.push("/ginecologia"),className:"bg-green-600 hover:bg-green-500 text-white",children:"Ir a GinecologÃ­a para procesar archivo"})]})}):R?(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Cargando resÃºmenes..."}):0===S.size&&0===E.length?(0,t.jsxs)("div",{className:"rounded-xl p-8 text-center",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 193, 7, 0.3)"},children:[(0,t.jsx)("div",{className:"text-yellow-400 text-xl font-bold mb-4",children:"No hay datos para el perÃ­odo seleccionado"}),(0,t.jsx)("div",{className:"text-gray-400 mb-6",children:"Para generar resÃºmenes, primero debes:"}),(0,t.jsxs)("ol",{className:"text-left text-gray-300 space-y-2 max-w-md mx-auto mb-6",children:[(0,t.jsxs)("li",{children:["1. Ir a la pÃ¡gina de ",(0,t.jsx)("strong",{className:"text-green-400",children:"GinecologÃ­a"})]}),(0,t.jsx)("li",{children:"2. Subir un archivo Excel con las consultas"}),(0,t.jsx)("li",{children:"3. Confirmar el mes y aÃ±o del perÃ­odo"}),(0,t.jsx)("li",{children:"4. El sistema guardarÃ¡ automÃ¡ticamente los datos"})]}),(0,t.jsx)(m.Button,{onClick:()=>e.push("/ginecologia"),className:"bg-green-600 hover:bg-green-500 text-white",children:"Ir a GinecologÃ­a"})]}):"medicos"===T?(0,t.jsx)("div",{className:"space-y-6",children:0===ea.length?(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No hay datos para el perÃ­odo seleccionado"}):ea.map(e=>{let a=Array.from(S.keys()).find(t=>{let a=S.get(t)||[];return a[0]?.medico_nombre===e}),r=a&&S.get(a)||[],s=r.reduce((e,t)=>e+t.total,0),o=r.reduce((e,t)=>e+t.cantidad,0);return(0,t.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-green-400",children:e}),(0,t.jsxs)(m.Button,{onClick:()=>{!function({resumenes:e,mes:t,anio:a,medicoNombre:r}){let s=new n.default({orientation:"portrait",unit:"mm",format:"a4"}),o=20,i=(0,l.calcularNumeroLiquidacion)(t,a);s.setFontSize(11),s.setTextColor(34,197,94),s.setFont("helvetica","bold"),s.text("Grow Labs",15,o),s.setFontSize(7.5),s.setTextColor(100,100,100),s.setFont("helvetica","normal"),s.text("Sistema de Liquidaciones de Guardias",15,o+5),o+=15,s.setFontSize(16),s.setTextColor(0,0,0),s.setFont("helvetica","bold"),s.text(r.toUpperCase(),15,o);let x=o+=10;s.setFillColor(240,240,240),s.setDrawColor(200,200,200),s.roundedRect(105,x,90,30,2,2,"FD");let m=x+3.75;s.setFontSize(8.5),s.setTextColor(0,0,0),s.setFont("helvetica","bold"),s.text("Mes:",109.5,m),s.setFont("helvetica","normal"),s.text(d[t-1],151.5,m),m+=7.5,s.setFont("helvetica","bold"),s.text("AÃ±o:",109.5,m),s.setFont("helvetica","normal"),s.text(String(a),151.5,m),m+=7.5,s.setFont("helvetica","bold"),s.text("Liq:",109.5,m),s.setFont("helvetica","normal"),s.text(String(i),151.5,m),m+=7.5,s.setFont("helvetica","bold"),s.text("Generado:",109.5,m),s.setFont("helvetica","normal");let u=new Date().toLocaleDateString("es-AR");s.text(u,151.5,m),o=x+30+10;let h=e.map(e=>[e.obra_social,String(e.cantidad),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.valor_unitario),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.total)]),g=e.reduce((e,t)=>e+t.cantidad,0),p=e.reduce((e,t)=>e+t.total,0);h.push(["TOTAL",String(g),"",new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(p)]);(0,c.default)(s,{startY:o,head:[["Obra social","Cantidad","Valor unitario","Total"]],body:h,theme:"striped",headStyles:{fillColor:[34,197,94],textColor:[255,255,255],fontStyle:"bold",fontSize:9,halign:"left"},bodyStyles:{fontSize:8,textColor:[0,0,0],cellPadding:2,halign:"left"},columnStyles:{0:{cellWidth:70,fontStyle:"bold"},1:{cellWidth:30,halign:"right"},2:{cellWidth:40,halign:"right"},3:{cellWidth:40,halign:"right",fontStyle:"bold"}},styles:{lineColor:[220,220,220],lineWidth:.1,valign:"middle"},margin:{left:15,right:15},tableWidth:180,showHead:"everyPage",pageBreak:"auto",rowPageBreak:"avoid",didParseCell:e=>{e.row.index===h.length-1&&(e.cell.styles.fillColor=[240,240,240],e.cell.styles.fontStyle="bold")}});let b=s.getNumberOfPages();for(let e=1;e<=b;e++)s.setPage(e),s.setFontSize(7),s.setTextColor(150,150,150),s.setFont("helvetica","italic"),s.text(`P\xe1gina ${e} de ${b} - Powered by Grow Labs ðŸŒ±`,105,287,{align:"center"});let f=`Resumen_${r.replace(/[^a-zA-Z0-9]/g,"_")}_${d[t-1]}_${a}.pdf`;s.save(f)}({resumenes:r,mes:p,anio:k,medicoNombre:e})},variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/20",children:[(0,t.jsx)(h.FileDown,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-green-400",children:"Obra social"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Cantidad"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Valor unitario"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Total"})]})}),(0,t.jsxs)("tbody",{children:[r.map((e,a)=>(0,t.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.obra_social}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:e.cantidad}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:et(e.valor_unitario)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right font-semibold",children:et(e.total)})]},a)),(0,t.jsxs)("tr",{className:"bg-gray-800/50 font-bold",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400",children:"TOTAL"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right",children:o}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right",children:et(s)})]})]})]})})]},e)})}):(0,t.jsx)("div",{className:"space-y-6",children:0===E.length?(0,t.jsx)("div",{className:"text-center py-12 text-gray-400",children:"No hay datos para el perÃ­odo seleccionado"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsxs)(m.Button,{onClick:function(){!function({resumenes:e,mes:t,anio:a}){let r=new n.default({orientation:"portrait",unit:"mm",format:"a4"}),s=20,o=(0,l.calcularNumeroLiquidacion)(t,a);r.setFontSize(11),r.setTextColor(34,197,94),r.setFont("helvetica","bold"),r.text("Grow Labs",15,s),r.setFontSize(7.5),r.setTextColor(100,100,100),r.setFont("helvetica","normal"),r.text("Sistema de Liquidaciones de Guardias",15,s+5),s+=15,r.setFontSize(16),r.setTextColor(0,0,0),r.setFont("helvetica","bold"),r.text("Guardia GinecolÃ³gica",15,s),r.setFontSize(12),r.setTextColor(100,100,100),r.setFont("helvetica","normal"),r.text(`${x[t-1]} ${a}`,15,s+7);let i=s+=15;r.setFillColor(240,240,240),r.setDrawColor(200,200,200),r.roundedRect(105,i,90,22.5,2,2,"FD");let d=i+3.75;r.setFontSize(8.5),r.setTextColor(0,0,0),r.setFont("helvetica","bold"),r.text("Mes:",109.5,d),r.setFont("helvetica","normal"),r.text(x[t-1],151.5,d),d+=7.5,r.setFont("helvetica","bold"),r.text("AÃ±o:",109.5,d),r.setFont("helvetica","normal"),r.text(String(a),151.5,d),d+=7.5,r.setFont("helvetica","bold"),r.text("Liq:",109.5,d),r.setFont("helvetica","normal"),r.text(String(o),151.5,d),s=i+22.5+10;let m=e.map(e=>[e.medico_nombre,String(e.cantidad),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.total_bruto),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.retencion_20),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e.total_neto)]),u=e.reduce((e,t)=>e+t.cantidad,0),h=e.reduce((e,t)=>e+t.total_bruto,0),g=e.reduce((e,t)=>e+t.retencion_20,0),p=e.reduce((e,t)=>e+t.total_neto,0);m.push(["Total general",String(u),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(h),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(g),new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(p)]);(0,c.default)(r,{startY:s,head:[["Prestador","Cantidad","Total bruto","RetenciÃ³n 20%","Total Neto"]],body:m,theme:"striped",headStyles:{fillColor:[34,197,94],textColor:[255,255,255],fontStyle:"bold",fontSize:9,halign:"left"},bodyStyles:{fontSize:8,textColor:[0,0,0],cellPadding:2,halign:"left"},columnStyles:{0:{cellWidth:60,fontStyle:"bold"},1:{cellWidth:25,halign:"right"},2:{cellWidth:35,halign:"right"},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right",fontStyle:"bold"}},styles:{lineColor:[220,220,220],lineWidth:.1,valign:"middle"},margin:{left:15,right:15},tableWidth:180,showHead:"everyPage",pageBreak:"auto",rowPageBreak:"avoid",didParseCell:e=>{e.row.index===m.length-1&&(e.cell.styles.fillColor=[240,240,240],e.cell.styles.fontStyle="bold")}});let b=r.getNumberOfPages();for(let e=1;e<=b;e++)r.setPage(e),r.setFontSize(7),r.setTextColor(150,150,150),r.setFont("helvetica","italic"),r.text(`P\xe1gina ${e} de ${b} - Powered by Grow Labs ðŸŒ±`,105,287,{align:"center"});let f=`Resumen_Prestadores_${x[t-1]}_${a}.pdf`;r.save(f)}({resumenes:E,mes:p,anio:k})},variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/20",children:[(0,t.jsx)(g.Download,{className:"h-4 w-4 mr-2"}),"Exportar PDF Completo"]})}),(0,t.jsxs)("div",{className:"rounded-xl p-6",style:{background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Resumen por Prestador"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-green-400",children:"Prestador"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Cantidad"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Total bruto"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"RetenciÃ³n 20%"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-semibold text-green-400",children:"Total Neto"})]})}),(0,t.jsxs)("tbody",{children:[E.map((e,a)=>(0,t.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 font-medium",children:e.medico_nombre}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:e.cantidad}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:et(e.total_bruto)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right",children:et(e.retencion_20)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300 text-right font-semibold",children:et(e.total_neto)})]},a)),(0,t.jsxs)("tr",{className:"bg-gray-800/50 font-bold",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400",children:"Total general"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right",children:E.reduce((e,t)=>e+t.cantidad,0)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right",children:et(E.reduce((e,t)=>e+t.total_bruto,0))}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right",children:et(E.reduce((e,t)=>e+t.retencion_20,0))}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-green-400 text-right",children:et(E.reduce((e,t)=>e+t.total_neto,0))})]})]})]})})]})]})})]})})}function _({liquidacionId:e}){let[r,l]=(0,a.useState)([]),[o,i]=(0,a.useState)(!1);async function n(){i(!0);try{let{data:t,error:a}=await s.supabase.from("detalle_guardia").select("*").eq("liquidacion_id",e).order("fecha",{ascending:!0}).order("hora",{ascending:!0}).limit(100);if(a)throw a;l(t||[])}catch(e){console.error("Error cargando detalles:",e)}finally{i(!1)}}function c(e){return e?new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:2,maximumFractionDigits:2}).format(e):"$0.00"}return((0,a.useEffect)(()=>{n()},[e]),o)?(0,t.jsx)("div",{className:"text-center py-4 text-gray-400",children:"Cargando detalles..."}):0===r.length?(0,t.jsx)("div",{className:"text-center py-4 text-gray-400",children:"No hay detalles disponibles"}):(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-green-400 mb-3",children:["Detalle de Consultas (",r.length," registros)"]}),(0,t.jsx)("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"sticky top-0 bg-gray-900",children:(0,t.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-green-400",children:"Fecha"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-green-400",children:"Hora"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-green-400",children:"MÃ©dico"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-green-400",children:"Paciente"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold text-green-400",children:"Obra Social"}),(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-green-400",children:"Monto Facturado"}),(0,t.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold text-green-400",children:"Importe Calculado"}),(0,t.jsx)("th",{className:"px-3 py-2 text-center text-xs font-semibold text-green-400",children:"Horario Formativo"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>{var a;return(0,t.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-gray-800/30",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300",children:(a=e.fecha)?new Date(a).toLocaleDateString("es-AR"):"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300",children:e.hora||"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300",children:e.medico_nombre||"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300",children:e.paciente||"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300",children:e.obra_social||"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300 text-right",children:c(e.monto_facturado)}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-gray-300 text-right font-semibold",children:c(e.importe_calculado)}),(0,t.jsx)("td",{className:"px-3 py-2 text-xs text-center",children:e.es_horario_formativo?(0,t.jsx)("span",{className:"text-yellow-400",children:"SÃ­"}):(0,t.jsx)("span",{className:"text-gray-500",children:"No"})})]},e.id)})})]})}),r.length>=100&&(0,t.jsx)("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"Mostrando los primeros 100 registros"})]})}e.s(["default",()=>v],17462)},44557,e=>{e.v(t=>Promise.all(["static/chunks/50947de1fb5100bc.js"].map(t=>e.l(t))).then(()=>t(25772)))},18454,e=>{e.v(t=>Promise.all(["static/chunks/46ea109e3f7ee3dc.js"].map(t=>e.l(t))).then(()=>t(32694)))},26753,e=>{e.v(t=>Promise.all(["static/chunks/7bd0dee9ec340940.js"].map(t=>e.l(t))).then(()=>t(90015)))}]);