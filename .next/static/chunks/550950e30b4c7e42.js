(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32600,(e,a,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},74841,e=>{"use strict";var a=e.i(9964),l=e.i(87312),s=e.i(7735),r=e.i(8674),t=e.i(87914),i=e.i(80694),n=e.i(83643),o=e.i(68499);let d=[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Septiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}];function c({isOpen:e,onClose:s,onConfirm:r,mesDetectado:t,anioDetectado:i,mesActual:c,anioActual:x}){let[b,u]=(0,l.useState)(t||c),[m,g]=(0,l.useState)(i||x);return((0,l.useEffect)(()=>{e&&(u(t||c),g(i||x))},[e,t,i,c,x]),e)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:s}),(0,a.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 rounded-2xl p-6",style:{background:"rgba(17, 24, 39, 0.95)",backdropFilter:"blur(20px)",border:"1px solid rgba(34, 197, 94, 0.3)",boxShadow:"0 8px 32px 0 rgba(34, 197, 94, 0.3)"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-green-400",children:"Seleccionar PerÃ­odo"}),(0,a.jsx)("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",children:(0,a.jsx)(o.X,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[t&&i&&(0,a.jsxs)("div",{className:"p-4 rounded-lg",style:{background:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,a.jsx)("p",{className:"text-sm text-green-400 mb-2",children:"âœ“ Mes detectado automÃ¡ticamente"}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[d[t-1].label," ",i]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Mes"}),(0,a.jsx)("select",{value:b,onChange:e=>u(Number(e.target.value)),className:"w-full px-4 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none",children:d.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"AÃ±o"}),(0,a.jsx)("input",{type:"number",value:m,onChange:e=>g(Number(e.target.value)),min:2020,max:2100,className:"w-full px-4 py-2 bg-gray-800 border border-green-500/50 rounded-lg text-white focus:border-green-400 focus:outline-none"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(n.Button,{onClick:s,variant:"outline",className:"flex-1 border-gray-600 text-gray-300 hover:bg-gray-700",children:"Cancelar"}),(0,a.jsx)(n.Button,{onClick:()=>{r(b,m),s()},className:"flex-1 bg-green-600 hover:bg-green-500 text-white",children:"Confirmar"})]})]})]})]}):null}var x=e.i(28661),b=e.i(58427),u=e.i(27214),m=e.i(34754),g=e.i(44176);function h(){let e=(0,s.useRouter)(),[o,d]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[v,j]=(0,l.useState)(null),[f,N]=(0,l.useState)(!1),[w,y]=(0,l.useState)(null),[k,S]=(0,l.useState)(null),[C,P]=(0,l.useState)(new Date().getMonth()+1),[A,E]=(0,l.useState)(new Date().getFullYear()),D=async e=>{d(!0),p(null),j(null),y(null),S(null);try{let a=await (0,x.readExcelFile)(e);p(a);let{mes:l,anio:s}=(e=>{if(e.periodo?.desde){let a=e.periodo.desde.split("/");if(3===a.length){let e=parseInt(a[1],10),l=parseInt(a[2],10);if(e>=1&&e<=12&&l>=2020)return{mes:e,anio:l}}}let a=e.headers.find(e=>e.toLowerCase().includes("fecha")||e.toLowerCase().includes("date"));if(a&&e.rows.length>0){let l=[];if(e.rows.forEach(e=>{let s=e[a];if(s&&"string"==typeof s){let e=s.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(e){let a=parseInt(e[2],10),s=parseInt(e[3],10);a>=1&&a<=12&&s>=2020&&l.push(a)}}}),l.length>0){let s=l[0];if(l.every(e=>e===s)){let l=e.rows[0][a];if("string"==typeof l){let e=l.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);if(e)return{mes:s,anio:parseInt(e[3],10)}}}}}return{mes:null,anio:null}})(a);l&&s&&(y(l),S(s),P(l),E(s)),N(!0)}catch(e){console.error("Error processing file:",e),j(e.message||"OcurriÃ³ un error inesperado al procesar el archivo.")}finally{d(!1)}},F=async(e,a,l)=>{console.log(`Actualizando fila ${e}, columna ${a} con valor:`,l)};return(0,a.jsxs)("div",{className:"min-h-screen relative p-8 pb-20 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-20 left-20 w-96 h-96 bg-green-500/20 rounded-full blur-3xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-green-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(n.Button,{onClick:()=>e.push("/"),variant:"outline",className:"border-green-500/50 text-green-400 hover:bg-green-500/20",children:[(0,a.jsx)(m.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Volver"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)(g.default,{href:"/",className:"hover:opacity-80 transition-opacity",children:(0,a.jsx)("img",{src:"/logogrow.png",alt:"Grow Labs",className:"h-16 w-auto drop-shadow-2xl",style:{filter:"drop-shadow(0 0 20px rgba(34, 197, 94, 0.5))"}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 tracking-tight",children:(0,a.jsx)("span",{className:"bg-gradient-to-r from-blue-400 to-cyan-300 bg-clip-text text-transparent",children:"MÃ³dulo GinecologÃ­a"})}),(0,a.jsxs)("p",{className:"text-gray-400 flex items-center gap-2",children:[(0,a.jsx)(u.Sparkles,{className:"h-4 w-4 text-blue-400"}),"Procesamiento de liquidaciones por hora"]})]})]})})]}),(0,a.jsxs)("div",{className:"relative rounded-2xl shadow-2xl overflow-hidden p-8",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 8px 32px 0 rgba(59, 130, 246, 0.3)"},children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-2xl",style:{background:"linear-gradient(45deg, transparent, rgba(59, 130, 246, 0.3), transparent)",animation:"borderGlow 3s ease-in-out infinite"}}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-blue-400",children:"ðŸ“¤ Cargar LiquidaciÃ³n"}),(0,a.jsx)(n.Button,{onClick:()=>e.push("/ginecologia/resumenes"),variant:"outline",className:"border-blue-500/50 text-blue-400 hover:bg-blue-500/20",children:"Ver ResÃºmenes"})]}),(0,a.jsx)(r.UploadExcel,{onUpload:D,isProcessing:o}),v&&(0,a.jsxs)("div",{className:"mt-6 bg-red-500/10 border border-red-500/30 rounded-lg p-4 flex items-start gap-3 text-red-400",children:[(0,a.jsx)(b.AlertCircle,{className:"w-5 h-5 mt-0.5 shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Error de Procesamiento"}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:v})]})]})]})]}),h&&(0,a.jsx)("div",{className:"relative rounded-2xl shadow-2xl overflow-hidden p-8",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 8px 32px 0 rgba(59, 130, 246, 0.3)"},children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-blue-400 mb-6",children:"ðŸ“Š Datos del Excel"}),(0,a.jsx)(t.ExcelDataTable,{data:h,especialidad:"GinecologÃ­a",onCellUpdate:F})]})}),h&&h.periodo&&(()=>{let{mes:e,anio:l}={mes:C,anio:A};return(0,a.jsx)("div",{className:"relative rounded-2xl shadow-2xl overflow-hidden p-8",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(59, 130, 246, 0.3)",boxShadow:"0 8px 32px 0 rgba(59, 130, 246, 0.3)"},children:(0,a.jsx)(i.EstadisticasObraSocial,{mes:e,anio:l,especialidad:"GinecologÃ­a"})})})(),(0,a.jsxs)("div",{className:"p-6 rounded-xl",style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px 0 rgba(59, 130, 246, 0.2)"},children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-200 mb-4",children:"ðŸ“‹ Reglas Vigentes"}),(0,a.jsxs)("div",{className:"space-y-4 text-sm text-gray-300",children:[(0,a.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Pago por Hora"}),(0,a.jsx)("div",{className:"font-semibold text-white",children:"SegÃºn Tarifa"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Valor hora vigente"})]}),(0,a.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Residentes"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-blue-400",children:"07:30 - 15:00"})," = $0"]}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Horario formativo"})]}),(0,a.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Planta"}),(0,a.jsx)("div",{className:"text-sm text-green-400",children:"100% Pago"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"Sin restricciones horarias"})]})]})]})]}),(0,a.jsx)(c,{isOpen:f,onClose:()=>N(!1),onConfirm:(e,a)=>{P(e),E(a),N(!1)},mesDetectado:w,anioDetectado:k,mesActual:new Date().getMonth()+1,anioActual:new Date().getFullYear()})]})}e.s(["default",()=>h],74841)}]);