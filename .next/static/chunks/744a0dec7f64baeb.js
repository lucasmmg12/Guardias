(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,73335,e=>{"use strict";var s=e.i(9964),r=e.i(87312),a=e.i(74786),t=e.i(8674),l=e.i(41078),i=e.i(58427),d=e.i(19029);function c(){let[e,c]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[x,m]=(0,r.useState)(!1),[h,g]=(0,r.useState)(null);async function p(){try{let{data:e,error:s}=await a.supabase.from("medicos").select("*").eq("especialidad","PediatrÃ­a").eq("activo",!0);if(s)throw s;c(e||[])}catch(e){console.error("Error loading mÃ©dicos:",e)}finally{o(!1)}}(0,r.useEffect)(()=>{p()},[]);let j=async e=>{m(!0),g(null);try{let s=new l.GuardiasProcessor(a.supabase,"PediatrÃ­a",new Date().getMonth()+1,new Date().getFullYear()),r=await s.procesarExcel(e);g(r)}catch(e){console.error("Error processing file:",e),g({error:"OcurriÃ³ un error inesperado al procesar el archivo."})}finally{m(!1)}};return(0,s.jsx)("div",{className:"min-h-screen p-8 pb-20",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-emerald-300 bg-clip-text text-transparent mb-2",children:"MÃ³dulo PediatrÃ­a"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Procesamiento de liquidaciones por producciÃ³n"})]}),(0,s.jsxs)("div",{className:"glass-effect glow-green p-8 rounded-xl",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-green-400 mb-6",children:"ðŸ“¤ Cargar LiquidaciÃ³n"}),(0,s.jsx)(t.UploadExcel,{onUpload:j,isProcessing:x}),h&&(0,s.jsx)("div",{className:"mt-6 animate-in fade-in slide-in-from-top-4 duration-500",children:h.error?(0,s.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 flex items-start gap-3 text-red-400",children:[(0,s.jsx)(i.AlertCircle,{className:"w-5 h-5 mt-0.5 shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:"Error de Procesamiento"}),(0,s.jsx)("p",{className:"text-sm opacity-90",children:h.error})]})]}):(0,s.jsxs)("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)(d.CheckCircle2,{className:"w-6 h-6 text-green-400"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-green-400",children:"Procesamiento Completado"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Total Filas"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:h.totalFilas})]}),(0,s.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Procesadas"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-green-400",children:h.procesadas})]}),(0,s.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Errores"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-red-400",children:h.errores.length})]}),(0,s.jsxs)("div",{className:"bg-black/20 p-3 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Advertencias"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:h.advertencias.length})]})]}),h.errores.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-red-400 mb-2",children:"Detalle de Errores:"}),(0,s.jsx)("ul",{className:"text-sm text-red-300/80 space-y-1 max-h-32 overflow-y-auto bg-black/20 p-2 rounded",children:h.errores.map((e,r)=>(0,s.jsxs)("li",{children:["â€¢ ",e]},r))})]})]})})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"md:col-span-2 glass-effect p-6 rounded-xl",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-gray-200 mb-4 flex items-center gap-2",children:["ðŸ‘¨â€âš•ï¸ MÃ©dicos Activos",(0,s.jsx)("span",{className:"text-sm font-normal text-gray-500 bg-gray-800 px-2 py-0.5 rounded-full",children:e.length})]}),n?(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Cargando mÃ©dicos..."}):0===e.length?(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No hay mÃ©dicos registrados en PediatrÃ­a"}):(0,s.jsx)("div",{className:"grid sm:grid-cols-2 gap-3",children:e.map(e=>(0,s.jsx)("div",{className:"bg-white/5 p-3 rounded-lg hover:bg-white/10 transition-colors border border-white/5",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-200 text-sm",children:e.nombre}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 font-mono mt-1",children:["MN: ",e.matricula]})]}),e.es_residente?(0,s.jsx)("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 text-[10px] uppercase tracking-wider font-semibold rounded",children:"Residente"}):(0,s.jsx)("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-[10px] uppercase tracking-wider font-semibold rounded",children:"Planta"})]})},e.id))})]}),(0,s.jsxs)("div",{className:"glass-effect p-6 rounded-xl h-fit",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-200 mb-4",children:"ðŸ“‹ Reglas Vigentes"}),(0,s.jsxs)("div",{className:"space-y-4 text-sm text-gray-300",children:[(0,s.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"RetenciÃ³n"}),(0,s.jsx)("div",{className:"font-semibold text-white",children:"30%"}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"Sobre monto facturado"})]}),(0,s.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Adicionales"}),(0,s.jsxs)("ul",{className:"space-y-1",children:[(0,s.jsxs)("li",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Damsu"}),(0,s.jsx)("span",{className:"text-green-400",children:"+$1,500"})]}),(0,s.jsxs)("li",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Provincia"}),(0,s.jsx)("span",{className:"text-green-400",children:"+$1,200"})]})]})]}),(0,s.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/5",children:[(0,s.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"FÃ³rmula"}),(0,s.jsx)("div",{className:"font-mono text-xs text-gray-400",children:"(Monto - 30%) + Adicional"})]})]})]})]})]})})}e.s(["default",()=>c])}]);